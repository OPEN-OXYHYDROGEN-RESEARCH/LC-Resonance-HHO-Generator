!function(){var sl9={themes:{}};sl9.main={Data:{},Init:function(){},GetData:function(){for(var t=jQuery.extend({},sl9.main.Data),e=0,n=arguments.length;e<n;e++){if(!t)return null;if("object"!=typeof t)return null;t=t[arguments[e]]}return t},addCustomStyle:function(t){if(t){for(var e="",n=function(t,e){switch(t.split("_")[1]){case"ff":return"font-family: "+e+";";case"fs":return"font-size: "+e+"px !important;";case"fw":return"font-weight: "+e+" !important;"}return""},i=".tdf_container ",o=[{t:i+"*",k:["g_ff"]},{t:i+"h2,"+i+"h3,#tdf_wholesale h2",k:["m_ff","m_fs","m_fw"]},{t:i+"button",k:["b_ff","b_fs","b_fw"]}],r=0;r<o.length;r++){for(var d="",a=0;a<o[r].k.length;a++)t[o[r].k[a]]&&(d+=n(o[r].k[a],t[o[r].k[a]]));d&&(e+=o[r].t+"{"+d+"}")}t.c_cs&&(e+=t.c_cs),e&&jQuery("head").append("<style>"+e+"</style>")}},Start:function(){var handle=function(t,v){var e=sl9.struct.consta.SettingTypeBack,n=v.settings[sl9.struct.consta.SettingTypeTheme],i=n?n.theme_type_id:1;i&&(jQuery("body").addClass("tdf_theme_"+i),1!=i&&jQuery("body").addClass("tdf_theme_holiday"));var o=sl9.struct.consta.SettingTypeOther,r=sl9.struct.consta.SettingTypeUpsell,b=sl9.struct.consta.SettingTypeTrans;v.settings[o]||(v.settings[o]={}),void 0===v.settings[o].sale_place_id&&(v.settings[o].sale_place_id=sl9.struct.consta.SalePlaceNoti),v.settings[r]&&v.settings[r].cheap_mode&&(v.settings[o].cheap_mode=v.settings[r].cheap_mode);var d=window.location.href;if(-1==d.indexOf("design_theme_id")||-1==d.indexOf("frame_token")||!(6450<v.settings[e].id||v.settings[o].no_in_admin)){5100<v.settings[e].id&&(v.settings[o].no_giftable=1),5985<v.settings[e].id&&!v.settings[o].saving_show&&(v.settings[o].saving_hide=1);var w=null;v.settings[b].m_lang_on&&v.settings[b].m_lang&&(w=v.settings[b].m_lang.split(",")).length<2&&(w=null,v.settings[b].m_lang_on=!1),nfec.d_mode=v.settings[o].d_mode,v.settings[o].shd_com&&(nfec.SDiscountComb=1);var a=v.settings[o].addgift2cart;nfec.d_mode?19465<v.settings[e].id&&(a=1):a=0,(nfec.addgift2cart=a)&&(v.settings[o].enable_gift_ck=0);var k=!1;if(3==nfec.d_mode){k=!0,nfec.IsDmodeNone=!0,v.settings[o].saving_hide=1,v.settings[o].enable_cart_code=!1;v.settings[o].u_tag;a||jQuery("head").append("<style>.tdf_qv_gift button{display:none !important}</style>")}-1!=(v.settings[o].extra_scopes||"").indexOf("write_discounts")&&(nfec.IsSubDis=!0),sl9.main.Data=v,nfec.manager.setting.AddBackSettings(v.settings[e],v.settings[o]),nfec.main.AddStyleVars(n),sl9.main.addCustomStyle(v.settings[11]);var x=nfec.platform.current.page.Detect(),T=nfec.platform.base.page.IsInCheckout(x.type);nfec.manager.product.AddFromJson(v.products),nfec.event_hub.Trigger("product_ready",{}),v.settings[b]||(v.settings[b]={});var c=v.settings[b].ribbon_price;c&&"ribbon_price"!=c||(v.settings[b].ribbon_price_default="1"),v.settings[b].copy=v.settings[b].copy||"Copy",v.settings[b].copied=v.settings[b].copied||"Copied";var f,_,s,l,u,S=v.settings[b].m_country,p=[];for(_ in v.offers)if(v.offers.hasOwnProperty(_))for(s in v.offers[_])v.offers[_].hasOwnProperty(s)&&v.offers[_][s].trigger&&((l=v.offers[_][s].trigger.keyword_ids)&&(p=p.concat(l)),v.offers[_][s].trigger.country_codes&&(f=!0));for(u in v.schedules)v.schedules.hasOwnProperty(u)&&sl9.manager.schedule.SetFromJSON(v.schedules[u]);for(u in v.sgm)v.sgm.hasOwnProperty(u)&&sl9.manager.segment.SetFromJSON(v.sgm[u]);for(u in v.kwd)if(v.kwd.hasOwnProperty(u)){var h=sl9.manager.keyword.SetFromJSON(v.kwd[u]);if(-1!=p.indexOf(h.id))if(h.check(location.href))sl9.manager.ckeyword.Set(h.id);else{var m=document.referrer;m&&h.check(m)&&sl9.manager.ckeyword.Set(h.id)}}var g=[];w?(nfec.sync.locale.Start(),g.push("locale_ready"),f=!0):nfec.manager.locale.Del(),v.settings[e].m_currency_on&&(f=!0),f&&g.push("country_ready");var D="sf_stop",q=nfec.store.control.Get(D);q&&g.push("cart_synced"),nfec.event_hub.ListenToMulti(g,function(){var t=nfec.manager.locale.Get()||"*";if(q&&3==nfec.manager.cart.Get().isRecharge())return;var e=-1;if(w){for(var n=!1,i=t.split(","),o=0;o<i.length;o++){for(var r=w.length-1;0<=r;r--)if(w[r]&&-1!=i[o].indexOf(w[r])){e=r,n=!0;break}if(n)break}if(S&&!n){var d=nfec.manager.country.Get(),a=S.split(",");for(r=0;r<a.length;r++){if(-1!=a[r].split("-").indexOf(d)){e=r;break}}}if(e<0&&(e=0),v.settings[b].m_custom)for(var c=v.settings[b].m_custom.split("\n"),f=0;f<c.length;f++){for(var _=[],s=c[f].split("|"),l=0;l<s.length;l++)_.push(s[l].trim());_[0]&&nfec.util.tpl.CustomTrans.push(_)}}if(-1<e){var u;for(u in v.settings[b])if(v.settings[b].hasOwnProperty(u)){var p=v.settings[b][u].split("|"),h=p[e];h||(h=p[0]||""),v.settings[b][u]=h.trim()}nfec.manager.locale.MyLang=w[e]}if(nfec.manager.transl=v.settings[b],nfec.util.tpl.LangOffset=e,sl9.manager.offer.Add(v.offers),x.type!=nfec.consta.PageTypePostCheckout){var m="endOfLayoutContentX",g='<div><s class="'+m+'"></s></div>';if(jQuery("."+m).length||jQuery("#footer,#shopify-section-footer").before(g),jQuery("."+m).length||jQuery(".shopify-section-group-footer-group").first().before(g),jQuery("."+m).length||jQuery(".footer,footer").last().before(g),jQuery("."+m).length||jQuery("main").append(g),nfec.event_hub.ListenTo("cart_empty",function(t,e){sl9.manager.dcode.Remove()},!0),nfec.event_hub.ListenTo("force_stop",function(t,e){nfec.store.control.Set(D,1),sl9.manager.offer.Data={},jQuery(".tdf_container,.tdf_rec").remove()},!0),!k)try{sl9.dcode.main.Start()}catch(t){console.log(t)}T||sl9.common.market.Start();try{sl9.wholesale.main.Start()}catch(t){console.log(t)}try{sl9.bundle.main.Start()}catch(t){console.log(t)}try{sl9.sale.main.Start()}catch(t){console.log(t)}try{sl9.upsell.main.Start(T)}catch(t){console.log(t)}try{sl9.motivator.main.Start()}catch(t){console.log(t)}if(!k)try{sl9.loyal.main.Start()}catch(t){console.log(t)}if(setTimeout(sl9.common.promor.Start,1),setTimeout(sl9.currency.main.Start,1),!T){setTimeout(sl9.quickview.main.Start,1),setTimeout(sl9.rec.main.Start,1),setTimeout(sl9.label.main.Start,1),setTimeout(sl9.notify.main.Start,1),setTimeout(sl9.discount.main.Start,1),setTimeout(sl9.common.checkout.Start,1),setTimeout(sl9.common.track.Start,2);var y=function(){jQuery(".tdf_adjh").attr("style",""),jQuery(".tdf_adjh button").closest("div").attr("style",""),jQuery(".tdf_adjhp").each(function(){sl9.common.tpl.AdjustH(jQuery(this),"tdf_adjh")})};nfec.event_hub.ListenTo("window_resize",function(){y()}),nfec.event_hub.ListenTo("re_adjust_h",function(){y()}),nfec.event_hub.ListenTo("promo_updated",function(t,e){var n=sl9.manager.draft_order.Get();if(!n||!n.has_discount){if(!window.actSegment)return;if(!n.getTotalItems())return}var i='<input type="hidden" name="return_to" value="'+nfec.main.PRo+'cart" />',o=jQuery("#g-recaptcha");o.length&&o.after(i);var r=jQuery('form[action*="/account"]');if(r.length){var d=r.find('[name="checkout_url"]'),a=d.val();if(!a||-1==a.indexOf("is_tdf")||window.actSegment){d.remove();var c=r.find('[name="return_to"]'),f=c.val();(!f||-1!=f.indexOf("checkout")&&-1==f.indexOf("is_tdf"))&&(c.remove(),r.append(i))}}},!0),nfec.event_hub.ListenTo("select_variant",function(t,o){var e=parseInt(o.els.val()),r=o.productels,n=parseInt(r.data("product-id"));sl9.common.util.AddTrackFlag(r);var i=nfec.manager.product.FindByID(n),d=i.getVariantByID(e);nfec.util.tool.SetAtt(r,"variant-id",d.id),nfec.util.tool.SetAtt(r.find(".tdf_img_parent"),"vid",d.id),r.find(".tdf_vertical_price").html(sl9.common.tpl.Render(sl9.common.snippet_pricehtm,{current_variant:d})),sl9.common.product.CleanSoldout(r.find("button")),nfec.manager.product.GetByHandle(i.handle,function(t){var e=parseInt(o.els.val()),n=t.getVariantByID(e);if(n){var i=n.image.mediumSrc();i&&r.find(".tdf_vertical_img").css("background-image","url("+i+")")}})}),setTimeout(function(){navigator.connection&&navigator.connection.saveData&&jQuery(".tdf_discount_icon").each(function(){var t=jQuery(this),e=t.css("background-image");e&&-1!=e.indexOf("nfec")&&t.css("background-image",e)})},1e3)}}else sl9.psale.main.Start()})}};tdfEventHub.ListenToEvent("data_app"+sl9.struct.app.id,function(ev,data){if(data.offers){if(data.ftr)try{var f;for(f in data.ftr)data.ftr.hasOwnProperty(f)&&eval(data.ftr[f])}catch(t){console.log(t)}var keyBack=sl9.struct.consta.SettingTypeBack;if(data.settings[keyBack]&&data.settings[keyBack].js)try{eval(data.settings[keyBack].js)}catch(t){console.log(t)}var themeID=0,themeName="";if(window.Shopify&&Shopify.theme&&(themeID=Shopify.theme.id),window.BOOMR&&(themeID=themeID||BOOMR.themeId,themeName=BOOMR.themeName),themeID&&nfec.thmxs)for(var i=0,l=nfec.thmxs.length;i<l;i++)if(nfec.thmxs[i].i==themeID){nfec.thmx=nfec.thmxs[i],nfec.thmxs[i].n&&(themeName=nfec.thmxs[i].n);break}if(themeName&&nfec.themes){for(var i=0,l=nfec.themes.length;i<l;i++)if(nfec.themes[i].t==themeName){nfec.thm=nfec.themes[i];break}if(nfec.thm.cx){for(var cartSections=[],i=0;i<nfec.thm.cx.length;i++)cartSections.push(nfec.thm.cx[i].i);nfec.thm.bs=cartSections.join(","),nfec.thm.bc=function(t){for(var e,n,i=0;i<nfec.thm.cx.length;i++)e=nfec.thm.cx[i],n=jQuery(t.sections[e.i]),e.c&&(n=n.find(e.c)),jQuery(e.p).html(n.html())}}nfec.thm.st&&jQuery("head").append("<style>"+nfec.thm.st+"</style>"),nfec.thm.cs&&nfec.thm.cs()}handle(ev,data)}},!0)}},sl9.bundle={},sl9.bundle.bundle_pricehtm={m:'<div><span>{{sl9.data.settings.8.total_price}}:&nbsp;</span> {_ if compare_at_price _}0{_ endif _} <span class="{_ if compare_at_price _}1{_ endif _}">{{price.toCurrency}}</span></div>{_ if discountable _}2{_ endif _}',subs:['<span class="tdf_price_original">{{compare_at_price.toCurrency}} </span>',"tdf_price_sales","{{ include sl9.common.snippet_discountable }}"]},sl9.bundle.select_for_bundle_btnhtm={m:'<button type="button" class="tdf_cta_btn tdf_select_for_bundle tdfe" data-e="select_for_bundle" data-group="{{group_id}}" data-offer="{{offer_id}}"> {{sl9.data.settings.8.select_for_bundle}}</button>',subs:[]},sl9.bundle.promo={AddBundle:function(t,e){if(t.discount.isValid()&&!(t.product_groups.length>e.length)){for(var n=sl9.manager.bundles.Get(),i=new sl9.model.bundle,o=0;o<e.length;o++){var r=new sl9.model.bundle_item;r.product_id=e[o].product_id,r.variant_id=e[o].variant_id,i.items.push(r)}i.offer_id=t.id;var d=n.addItem(i);return sl9.manager.bundles.Set(n),d}},Noti:function(t){var e=sl9.struct.consta.OfferTypeBundle;if(!sl9.manager.draft_order.Get().free_ship||t.discount.type_id!=nfec.consta.DiscountTypeFreeShip){e=sl9.struct.consta.OfferTypeBundle;var n=new sl9.model.promo_item;if(n.discount_type=t.discount.type_id,n.discount_value=t.discount.value,n.offer_type_id=e,n.offer_id=t.id,t.discount.type_id==nfec.consta.DiscountTypeFreeGift){var i=sl9.manager.promo.Get(),o=new sl9.manager.gifter;o.init(i),o.serve(e,t,n)}var r=sl9.common.tpl.Render(sl9.notify.snippet_product_discountinghtm,{promoItem:n,countBundleItems:t.product_groups.length});nfec.event_hub.Trigger("notify_discount_msg",{content:r,is_gifted:1})}},HandlePromo:function(t){var e,n,_=nfec.manager.cart.GetState(),i=nfec.manager.cart.GetState(),o=sl9.struct.consta.OfferTypeBundle,r=sl9.manager.promo.Get(),d=0,a=0,c=sl9.manager.bundles.Get(),f=sl9.manager.offer.List(o),s=_.getProductVariantMap(),l=_.getAllTrackVariantIDs(),u={},p={};f.sort(function(t,e){return t.product_groups.length>e.product_groups.length?-1:t.product_groups.length<e.product_groups.length?1:0});t:for(var h=0;h<f.length;h++)if((e=f[h]).discount.isValid()&&!e.isAI()){u[e.id]=[];for(var m=0;m<e.product_groups.length;m++){var g=e.product_groups[m];if(u[e.id][m]=[],g.vids.length)for(var y=0;y<g.vids.length;y++)-1!=l.indexOf(g.vids[y])&&u[e.id][m].push(g.vids[y]);else for(y=0;y<g.ids.length;y++)s[g.ids[y]]&&(u[e.id][m]=u[e.id][m].concat(s[g.ids[y]]));if(!u[e.id][m].length){u[e.id]=null;continue t}}}t:for(h=c.items.length-1;0<=h;h--)if(n=c.items[h],e=sl9.manager.offer.Get(o,n.offer_id)){if(!n.is_auto){if(e.message&&-1!=e.message.indexOf("onetime")){if(p[e.id]){c.removeItem(n.id);continue}p[e.id]=1}if(e.isAI()||n.isValid(u[n.offer_id])){var v=[];for(m=0;m<n.items.length;m++){if(x=n.items[m],!(b=_.findItemByVariant(x.product_id,x.variant_id))){for(y=0;y<v.length;y++)_.addOneItem(v[y]),i.addOneItem(v[y]);c.removeItem(n.id);continue t}(b=jQuery.extend({},b)).quantity=1,_.removeOneItem(b),i.removeOneItem(b),v.push(b)}}else c.removeItem(n.id)}}else c.removeItem(n.id);t:for(h=c.items.length-1;0<=h;h--)if((n=c.items[h]).is_auto)if(n.isValid(u[n.offer_id])){for(v=[],m=0;m<n.items.length;m++){var b;if(x=n.items[m],!(b=i.findItemByVariant(x.product_id,x.variant_id))){for(y=0;y<v.length;y++)i.addOneItem(v[y]);c.removeItem(n.id);continue t}(b=jQuery.extend({},b)).quantity=1,i.removeOneItem(b),v.push(b)}d+=n.items.length}else c.removeItem(n.id);var w=function(){var t=new sl9.model.promo_item;return t.offer_type_id=o,t.offer_id=e.id,t.app_id=sl9.struct.app.id,t.quantity=1,t};l=_.getAllTrackVariantIDs();var k,x,T=function(t,e){var n,i=[],o=t.length;t:for(var r=0;r<o;r++){n=r,e&&(n=o-r-1);for(var d=0;d<t[n].length;d++){var a=t[n][d],c=l.indexOf(a);if(-1!=c){i.push(_.findItemByVariantID(a)),l.splice(c,1);continue t}}for(var f=0;f<i.length;f++)l.push(i[f].variant_id);return}return e&&i.reverse(),i},S=[];if(!sl9.main.GetData("settings",sl9.struct.consta.SettingTypeBundle,"no_auto_bun")){for(h=0;h<f.length;h++)if(!p[(e=f[h]).id]&&u[e.id]&&!(l.length<u[e.id].length)){var D=T(u[e.id]);if(D||(D=T(u[e.id],1)),D){a+=e.product_groups.length,(k=new sl9.model.bundle).offer_id=e.id,k.is_auto=1;for(m=0;m<D.length;m++)(x=new sl9.model.bundle_item).product_id=D[m].product_id,x.variant_id=D[m].variant_id,k.items.push(x);S.push(k),e.message&&-1!=e.message.indexOf("onetime")||h--}}if(d<a){for(h=c.items.length-1;0<=h;h--)(n=c.items[h]).is_auto&&c.removeItem(n.id);for(h=0;h<S.length;h++)n=S[h],c.addItem(n),sl9.common.track.AddAction(sl9.struct.consta.ActionTrackAdd,o,n.offer_id,n.getVarIDs().join("_"),_.token,1)}}_=nfec.manager.cart.Get();var q=new sl9.manager.gifter;q.init(r);for(h=0;h<c.items.length;h++){if(n=c.items[h],(e=sl9.manager.offer.Get(o,n.offer_id)).discount.isValid())switch((G=w()).bundle_id=n.id,G.discount_type=e.discount.type_id,G.discount_value=e.discount.value,e.discount.type_id){case nfec.consta.DiscountTypeFreeShip:t.addItem(G);break;case nfec.consta.DiscountTypeFreeGift:if(q.serve(o,e,G))continue;t.addItem(G);break;case nfec.consta.DiscountTypeValue:var I=0;for(m=0;m<n.items.length;m++){x=n.items[m],I+=(O=_.findItemByVariant(x.product_id,x.variant_id)).price}var C=e.discount.value;for(m=0;m<n.items.length;m++){x=n.items[m];var O=_.findItemByVariant(x.product_id,x.variant_id);(G=w()).discount_type=e.discount.type_id,G.bundle_id=n.id,m==n.items.length-1?G.discount_value=C:(G.discount_value=Math.floor(O.price*e.discount.value/I),C-=G.discount_value),G.price=O.price,G.product_id=x.product_id,G.variant_id=x.variant_id,t.addItem(G)}break;case nfec.consta.DiscountTypePercent:for(m=0;m<n.items.length;m++){x=n.items[m];var G;O=_.findItemByVariant(x.product_id,x.variant_id);(G=w()).bundle_id=n.id,G.discount_type=e.discount.type_id,G.discount_value=e.discount.value,G.price=O.price,G.product_id=x.product_id,G.variant_id=x.variant_id,t.addItem(G)}}}sl9.manager.bundles.Set(c)}},sl9.bundle.snippet_bundle_producthtm={m:"{{ assign product = products.{{{product_id}}} }}{{ assign variant = product.variantMap.{{{variant_id}}} }}{_ if ! display_id _}7{_ endif _}{_ if display_id == sl9.struct.consta.BundleStyleDetail || display_id == sl9.struct.consta.BundleStyleScrolless _}8{_ endif _}{_ if display_id == sl9.struct.consta.BundleStyleAmz _}9{_ endif _}",subs:['checked="checked" ',"{{sl9.data.settings.8.more}}{_ else _}{{variant.getTitle}}","tdf_hidden",'selected="selected"','checked="checked" ',"tdfe{_ else _}tdf_current_item",' <option value="{{vardata.id}}" {_ if vardata.id == variant_id _}3{_ endif _}>{{vardata.getTitle}}</option> ','<div class="tdf_bundle_img tdfe" style="background-image:url({{variant.image.mediumSrc}})" data-handle="{{product.handle}}" data-v="{{variant_id}}" data-e="click_bundle_product" title="{{product.getTitle.toInput}}"></div><div class="tdf_checkbox_container"><label class="tdf_checkbox_wrapper"><input class="tdf_checkbox tdfe" data-e="check_bundle_product" data-et="change" type="checkbox" {_ if ! is_uncheck _}0{_ endif _}data-product-id="{{product_id}}" data-variant-id="{{variant_id}}"><span class="tdf_checkmark"></span></label></div><div class="tdf_bundle_more_option tdfe" data-handle="{{product.handle}}" data-v="{{variant_id}}" data-e="click_bundle_product"><a href="javascript:;">{_ if is_default_variant _}1{_ endif _}</a></div>','<div class="tdf_vertical_product" data-product-id="{{product_id}}"><div class="tdf_bundle_img tdfe" style="background-image:url({{variant.image.mediumSrc}})" data-handle="{{product.handle}}" data-v="{{variant_id}}" data-e="click_bundle_product" title="{{product.getTitle.toInput}}"></div><div class="tdf_vertical_name tdfe" data-handle="{{product.handle}}" data-v="{{variant_id}}" data-e="click_bundle_product"><h4 class="tdf_vertical_title" title="{{product.getTitle.toInput}}">{{product.getTitle}}</h4></div><div class="tdf_vertical_variants {_ if product.variants.length < 2 _}2{_ endif _}"><div class="tdf_select_box"><select class="tdf_select_input tdfe" data-e="bundle_select_variant" data-et="change"> {_ for v,vardata in variants _}6{_ endfor _} </select><span class="tdf_select_icon"></span><div class="tdf_select_backdrop"></div></div></div><div class="tdf_bundle_item_bottom"><div class="tdf_checkbox_container"><label class="tdf_checkbox_wrapper"><input class="tdf_checkbox tdfe" data-e="check_bundle_product" data-et="change" type="checkbox" {_ if ! is_uncheck _}4{_ endif _}data-product-id="{{product_id}}" data-variant-id="{{variant_id}}"><span class="tdf_checkmark"></span></label></div><div class="tdf_vertical_price"> {{variant.price.toCurrency}} </div></div></div>','<div class="tdf_bundle_img {_ if current_pid != product_id _}5{_ endif _}" style="background-image:url({{variant.image.mediumSrc}})" data-handle="{{product.handle}}" data-v="{{variant_id}}" data-e="go_bundle_product" title="{{product.getTitle.toInput}}"></div>']},sl9.bundle.main={Start:function(){if(nfec.util.tool.IsTabletOrSmaller()&&sl9.main.GetData("settings",sl9.struct.consta.SettingTypeBundle,"no_mobile"))return;var s=sl9.struct.consta.OfferTypeBundle;sl9.bundle.main.formatOffers();var _=function(t,e,n){var i=jQuery('.tdf_bundle_content[data-id="'+t+'"]');i.find('.tdf_bundle_product_item_1[data-product-group="'+e+'"]').html(sl9.common.tpl.Render(sl9.bundle.snippet_bundle_producthtm,n)),i.find('.tdf_bundle_product_item_2[data-product-group="'+e+'"]').html(sl9.common.tpl.Render(sl9.bundle.snippet_bundle_titlehtm,n))};nfec.event_hub.ListenTo("bundle_hide_variant_select",function(t,e){setTimeout(function(){jQuery(".tdf_bundle_content.tdf_bundle_style_1").each(function(){var t=jQuery(this).find(".tdf_vertical_product"),e=0;t.each(function(){var t=jQuery(this).height();e<t&&(e=t)}),e&&t.each(function(){var t=jQuery(this);t.height()<e&&t.css("height",e+24+"px")})}),jQuery(".tdf_bundle_content.tdf_bundle_style_5").each(function(){var t=jQuery(this),e=t.find(".tdf_vertical_product"),n={},i=t.attr("perow"),o=0,r=0;e.each(function(){var t=jQuery(this).height();(!n[r]||t>n[r])&&(n[r]=t),++o==i&&(r++,o=0)}),r=o=0,e.each(function(){var t=jQuery(this);t.height()<n[r]&&t.css("height",n[r]+24+"px"),++o==i&&(r++,o=0)})})},300)});var t=nfec.platform.current.page.Detect(),e=[];jQuery(".tdfPlaceBundle").each(function(){var t=jQuery(this).data("offer-id");t&&(t=parseInt(t),e.push(t))}),t.type!=nfec.consta.PageTypeProduct||e.length?sl9.bundle.main.run(e):nfec.event_hub.ListenTo("product_data_ava_synced",function(t,e){sl9.bundle.main.run([])},!0),nfec.event_hub.ListenTo("go_bundle_product",function(t,e){nfec.platform.current.redirect.GoToProductPage(e.els.data("handle"),e.els.data("v"))}),nfec.event_hub.ListenTo("click_bundle_product",function(t,e){var n=e.els.closest(".tdf_bundle_content"),i=parseInt(n.data("id")),o=e.els.closest(".tdf_bundle_product_item"),r=parseInt(o.data("product-group")),d=sl9.manager.offer.Get(s,i).product_groups[r];nfec.event_hub.Trigger("show_quick_view",{is_custom_cta:1,not_show_qty:1,not_show_normal_cta_if_premium:1,custom_cta:sl9.common.tpl.Render(sl9.bundle.select_for_bundle_btnhtm,{offer_id:i,group_id:r}),current_variant_id:parseInt(e.els.data("v")),handle:e.els.data("handle"),product_ids:d.ids,vids:d.vids})});var c=function(t,e,n,i){var o=sl9.manager.offer.Get(s,t),r=(jQuery('.tdf_bundle_content[data-id="'+t+'"]'),o.product_groups[e]),d=nfec.manager.product.FindByID(n);_(t,e,{product_id:n,variant_id:i,variant:d.getVariantByID(i),display_id:o.display_id,variants:d.filterVars(r.vids)}),sl9.bundle.main.renderBundlePrice(t)},i=function(t){var e=parseInt(t.data("offer")),n=parseInt(t.data("group")),i=t.closest(".tdf_qv_content");i.length||(i=t.closest(".tdf_products_vertical_content"));var o=parseInt(i.data("product-id")),r=parseInt(i.data("variant-id"));c(e,n,o,r)};nfec.event_hub.ListenTo("update_qv_variant",function(t,e){var n=e.els.closest(".tdf_qv_content").find(".tdf_select_for_bundle");n.length&&i(n)}),nfec.event_hub.ListenTo("bundle_select_variant",function(t,e){var n=e.els.closest(".tdf_bundle_content"),i=parseInt(n.data("id")),o=e.els.closest(".tdf_vertical_product"),r=e.els.closest(".tdf_bundle_product_item"),d=parseInt(o.data("product-id")),a=nfec.manager.product.FindByID(d);nfec.manager.product.GetByHandle(a.handle,function(t){c(i,parseInt(r.data("product-group")),d,parseInt(e.els.val()))})}),nfec.event_hub.ListenTo("select_for_bundle",function(t,e){i(e.els),nfec.event_hub.Trigger("bundle_hide_variant_select",{}),nfec.event_hub.Trigger("close_quick_view",{})}),nfec.event_hub.ListenTo("store_form_change_variant",function(t,a){if(a.variant_id){var c=nfec.manager.product.FindByID(a.product_id),f=c.getVariantByID(a.variant_id);f&&jQuery(".tdf_bundle_content").each(function(){var t=jQuery(this),o=parseInt(t.data("id")),r=sl9.manager.offer.Get(s,o),e=t.find(".tdf_checkbox"),d=!1;e.each(function(){var t=jQuery(this),e=t.closest(".tdf_bundle_product_item"),n=parseInt(e.data("product-group")),i=r.product_groups[n];i.vids&&i.vids.length&&-1==i.vids.indexOf(a.variant_id)||t.data("product-id")==a.product_id&&t.data("variant-id")!=a.variant_id&&(d=!0,_(o,n,{product_id:a.product_id,variant_id:a.variant_id,variant:f,display_id:r.display_id,variants:c.filterVars(i.vids)}))}),d&&sl9.bundle.main.renderBundlePrice(o)})}},!0,!0),nfec.event_hub.ListenTo("check_bundle_product_amz",function(t,e){var n=e.els.closest(".tdf_bundle_content"),i=e.els.closest(".tdf_bundle_product_item_2").data("product-group"),o=n.find('.tdf_bundle_product_item_1[data-product-group="'+i+'"]'),r=o.next(".tdf_plus_icon");r.length||(r=o.prev(".tdf_plus_icon")),e.els.is(":checked")?(o.fadeIn(),r.fadeIn()):(o.fadeOut(),r.fadeOut()),nfec.event_hub.Trigger("check_bundle_product",e)}),nfec.event_hub.ListenTo("check_bundle_product",function(t,e){var n=e.els.closest(".tdf_bundle_content"),i=parseInt(n.data("id"));sl9.bundle.main.renderBundlePrice(i)}),nfec.event_hub.ListenTo("bundle_add_all",function(t,o){for(var e=o.els.closest(".tdf_bundle_content"),r=parseInt(e.data("id")),n=sl9.bundle.main.getSelectingProductVariant(r),d=[],i=0,a=n.length;i<a;i++)n[i].quantity=1,d.push(n[i].variant_id);if(n.length){nfec.util.tpl.AddBtnLoading(o.els);var c=sl9.manager.offer.Get(s,r),f=c.discount.type_id==nfec.consta.DiscountTypeFreeGift,_=sl9.bundle.promo.AddBundle(c,n);_&&!f&&(window.lastBundleT=1),nfec.platform.base.cart_api.AddItems(n,function(t){if(t){_&&!f&&sl9.bundle.promo.Noti(c),nfec.util.tpl.RemoveBtnLoading(o.els),o.els.html(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"added_successfully")).attr("disabled","disabled");var e=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeBundle,"coa"),n=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"enable_gift_popup"),i=function(t){var e=!1;nfec.event_hub.ListenTo("close_popup",function(){t()}),nfec.event_hub.ListenTo("showing_gift",function(){e=!0}),setTimeout(function(){e||t()},2200)};switch(sl9.common.track.AddAction(sl9.struct.consta.ActionTrackAdd,sl9.struct.consta.OfferTypeBundle,r,d.join("_"),t.token,1,function(){},!0),e){case sl9.struct.consta.ClickGoCart:if(n)return nfec.start.redirect.Is2Cart=1,void i(nfec.platform.current.redirect.GoToCartPage);setTimeout(function(){nfec.platform.current.redirect.GoToCartPage()},2200);break;case sl9.struct.consta.ClickStay:if(setTimeout(function(){o.els.html(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"add_all")).removeAttr("disabled")},3e3),n)return void i(function(){});setTimeout(function(){nfec.event_hub.ListenTo("need_reload_page",function(){window.location.reload(!0)},!0)},3e3);break;default:if(n)return sl9.main.Data.settings[sl9.struct.consta.SettingTypeOther].enable_gift_ck=1,void i(sl9.common.checkout.Process);setTimeout(function(){sl9.common.checkout.Process()},2200)}}else nfec.util.tpl.RemoveBtnLoading(o.els),sl9.common.product.NotiSelectOther(),_&&sl9.manager.bundles.RemoveBunlde(_)})}}),nfec.event_hub.ListenTo("window_resize",function(){sl9.bundle.main.autosize()})},formatOffers:function(){var t=sl9.struct.consta.OfferTypeBundle,e=sl9.manager.offer.List(t);e.sort(function(t,e){var n=t.trigger.compare(e.trigger);if(n)return n;if(t.discount.isValid()){if(!e.discount.isValid())return-1}else if(e.discount.isValid())return 1;return t.id>e.id?-1:1}),sl9.manager.offer.Set(t,e)},run:function(d){var t=nfec.platform.current.page.Detect(),e=0;t.type==nfec.consta.PageTypeProduct&&(e=t.payload.id);var n,i,o="tdfPlaceBundle",r=sl9.manager.offer.List(sl9.struct.consta.OfferTypeBundle),a=[],c=sl9.struct.consta.GroupPriority;t:for(m in r)if(r.hasOwnProperty(m)&&(n=r[m]).display_id!=sl9.struct.consta.BundleStyleNone){if(-1==d.indexOf(n.id)){if(e)for(var f=0;f<n.trigger.product_groups.length;f++)if(!(i=n.trigger.product_groups[f]).is_sub&&!(0<f&&i.type_id==sl9.struct.consta.GroupTypeAI)&&i.isIn(e)){n.trigger_type_id=i.type_id;break}}else n.trigger_type_id=r[m].trigger.product_groups[0].type_id;if(void 0!==n.trigger_type_id){var _=!1;n.trigger_type_id==sl9.struct.consta.GroupTypeAI&&(_=!0);var s,l=(v=n.product_groups).length;for(f=0;f<l;f++){switch(s=!1,(i=v[f]).type_id){case sl9.struct.consta.GroupTypeManual:case sl9.struct.consta.GroupTypeAuto:n.product_groups[f].ids&&-1!==n.product_groups[f].ids.indexOf(e)&&(s=!0);break;default:_?(i.ids=sl9.common.rexy.GetSame(),_=!1):i.ids=sl9.common.rexy.GetCross(),s=!0,e&&-1===i.ids.indexOf(e)&&i.ids.push(e)}if(s||i.ids&&(i.ids=nfec.util.tool.Shuffle(i.ids)),!i.ids.length)continue t}a.push(r[m])}}if(a.length){a.sort(function(t,e){var n=d.indexOf(t.id),i=d.indexOf(e.id);if(n<i)return-1;if(i<n)return 1;if(!t.message)return 1;if(!e.message)return-1;var o=c.indexOf(t.trigger_type_id),r=c.indexOf(e.trigger_type_id);return r<o?-1:o<r?1:0});for(var u=a.length,p=[],h=[],m=0;m<u;m++)if(-1==h.indexOf(a[m].id))for(p.push(a[m]),f=m+1;f<u;f++)a[m].message==a[f].message&&(a[f].message="",p.push(a[f]),h.push(a[f].id));30<u&&(u=30);var g=sl9.struct.consta.SettingTypeBundle;if(e){var y=sl9.main.GetData("settings",g,"per_page");y&&(u=y)}a=a.slice(0,u);var v,b=[],w=!1;for(m=0,u=a.length;m<u;m++){({}),l=(v=a[m].product_groups).length,0,a[m].product_ids=[];for(f=0;f<l;f++){var k=v[f].ids.length,x=v[f].ids[0];if(-1!=v[f].ids.indexOf(e)&&-1==a[m].product_ids.indexOf(e))x=e;else for(var T=0;T<7;T++){var S=Math.floor(Math.random()*k);if(x=v[f].ids[S],-1==a[m].product_ids.indexOf(x))break}a[m].product_ids.push(x)}for(f=0;f<l;f++){var D=a[m].product_ids[f];v[f].product_id=D;var q=nfec.manager.product.FindByID(D);v[f].variants=q.filterVars(v[f].vids),v[f].vids&&v[f].vids.length&&b.push(a[m].id+"_"+f)}a[m].display_id==sl9.struct.consta.BundleStyleAmz&&(w=!0)}var I=[];if(jQuery("."+o).each(function(){var t=jQuery(this).data("offer-id");if(t&&(t=parseInt(t),-1==I.indexOf(t)))for(var e=0;e<a.length;e++)a[e].id==t&&(-1==I.indexOf(t)&&I.push(t),jQuery(this).after('<div class="tdf_bundle tdf_container">'+sl9.common.tpl.Render(sl9.bundle.tplhtm,a[e])+"</div>"))}),I.length&&jQuery(".tdf_bundle").last().append("<hr>"),jQuery("."+o).each(function(){if(!(jQuery(this).data("offer-id")||I.length>=a.length)){for(var t="",e=0;e<a.length;e++)-1==I.indexOf(a[e].id)&&(I.push(a[e].id),t+=sl9.common.tpl.Render(sl9.bundle.tplhtm,a[e]));jQuery(this).after('<div class="tdf_bundle tdf_container">'+t+"<hr></div>")}}),I.length<a.length){var C,O="",G="";for(T=0;T<a.length;T++)-1==I.indexOf(a[T].id)&&(I.push(a[T].id),C=sl9.common.tpl.Render(sl9.bundle.tplhtm,a[T]),a[T].display_id==sl9.struct.consta.BundleStyleAmz&&nfec.manager.setting.Data.id<6356?G+=C:O+=C);if(O){var P;if(!(P=jQuery(".tdfBundleWrap").first()).length)P=nfec.platform.current.element.GetAddCartForms(!0);P.append('<div class="tdf_bundle tdf_container">'+O+"<hr></div>")}if(G)G='<div class="tdf_bundle tdf_container">'+G+"<hr></div>",(P=jQuery(".tdfBundleWrap").first()).length||(P=jQuery(".endOfLayoutContentX").first().parent()),P.append(G)}var j=function(e,t){for(var n=0,i=[],o=0;o<t.ids.length&&(t.ids[o]==t.product_id||(i.push(t.ids[o]),2!=i.length));o++);if(i.length){i.push(t.product_id);var r=function(){var t=nfec.manager.product.FindByID(i[n]);e.css("background-image","url("+t.image.mediumSrc()+")"),n?e.fadeIn(1300,function(){n>=i.length-1||e.fadeOut(1300,function(){n++,r()})}):e.fadeOut(1300,function(){n++,r()})};r()}},A=jQuery(".tdf_bundle_product_item .tdf_bundle_img"),R=0;if(!sl9.main.GetData("settings",g,"oneitem")&&!b.length&&!w)for(T=0;T<a.length;T++)for(var L=0;L<a[T].product_groups.length;L++)j(A.eq(R),a[T].product_groups[L]),R++;jQuery(".tdf_bundle_product_container").each(function(){nfec.util.tpl.AutoSlide(jQuery(this),"scrollLeft",!0)}),setTimeout(function(){for(var t=0;t<u;t++)sl9.bundle.main.renderBundlePrice(a[t].id),sl9.common.track.AddImpression(sl9.struct.consta.OfferTypeBundle,a[t].id);sl9.bundle.main.autosize()},60),setTimeout(function(){for(var t=0;t<b.length;t++)jQuery("#tdf_bundle_group_"+b[t]).find(".tdf_select_input").trigger("change");nfec.event_hub.Trigger("bundle_hide_variant_select",{})},600),nfec.event_hub.Trigger("bundle_showed",{})}},autosize:function(){jQuery(".tdf_bundle_content.tdf_bundle_style_5").each(function(){for(var t=jQuery(this),e=t.find(".tdf_bundle_product_item"),n=t.width(),i=e.length,o=2,r=4;1<r;r--)if(!(i<r||i%r==1||n/r<120)){o=r;break}n-=20*o;var d=Math.floor(n/o);e.outerWidth(d),t.attr("perow",o)})},getSelectingProductVariant:function(t){var e=jQuery('.tdf_bundle_content[data-id="'+t+'"]'),o=[];return e.find(".tdf_bundle_product_item .tdf_checkbox").each(function(){var t=jQuery(this);if(t.is(":checked")){var e=parseInt(t.data("variant-id")),n=parseInt(t.data("product-id")),i=nfec.manager.product.FindByID(n);e||(e=i.variants[0].id),o.push({product:i,product_id:n,variant_id:e})}}),o},renderBundlePrice:function(t){for(var e,n=jQuery('.tdf_bundle_content[data-id="'+t+'"]'),i=sl9.bundle.main.getSelectingProductVariant(t),o=0,r=0,d=0,a=0,c=0,f=i.length;c<f;c++){r+=(e=i[c].product.getVariantByID(i[c].variant_id)).price,a+=e.display_old_price()||e.price}o=r;var _=null,s=null,l=sl9.manager.offer.Get(sl9.struct.consta.OfferTypeBundle,t);if(l.discount.isValid()&&l.product_groups.length==i.length){(_=new nfec.model.discountable).app_id=sl9.struct.app.id,_.discount_type=l.discount.type_id,_.discount_value=l.discount.value,_.is_cart=!1,_.offer_id=l.id,_.offer_type_id=sl9.struct.consta.OfferTypeBundle;var u=_.calculateDiscountedPrice(o);u<o&&(d=o-u,s=r,o=u)}if(r){var p=0,h=0;for(c=0,f=i.length;c<f;c++)h=(e=i[c].product.getVariantByID(i[c].variant_id)).price*d/r,moreD=e.price-e.display_price()-h,0<moreD&&(p+=moreD);p&&(s=r,o-=p)}o<a&&(!s||s<a)&&(s=a),n.find(".tdf_bundle_price").html(sl9.common.tpl.Render(sl9.bundle.bundle_pricehtm,{price:o,compare_at_price:s,discountable:_}))}},sl9.bundle.snippet_bundle_titlehtm={m:'{{ assign product = products.{{{product_id}}} }}{{ assign variant = product.variantMap.{{{variant_id}}} }}<div class="tdf_vertical_product" data-product-id="{{product_id}}"><span class="tdf_checkbox_container"><label class="tdf_checkbox_wrapper"><input class="tdf_checkbox tdfe" data-e="check_bundle_product_amz" data-et="change" type="checkbox" {_ if ! is_uncheck _}0{_ endif _}data-product-id="{{product_id}}" data-variant-id="{{variant_id}}"><span class="tdf_checkmark"></span></label></span><span class="tdf_vertical_name {_ if current_pid != product_id _}1{_ endif _}" data-handle="{{product.handle}}" data-v="{{variant_id}}" data-e="go_bundle_product"><h4 class="" title="{{product.getTitle.toInput}}">{{product.getTitle}}</h4></span><span class="tdf_vertical_variants {_ if product.variants.length < 2 _}2{_ endif _}"><span><select class="tdf_select_input tdfe" data-e="bundle_select_variant" data-et="change"> {_ for v,vardata in variants _}4{_ endfor _} </select></span></span><span class="tdf_vertical_price">{{variant.price.toCurrency}}</span></div>',subs:['checked="checked" ',"tdfe{_ else _}tdf_current_item","tdf_hidden",'selected="selected"',' <option value="{{vardata.id}}" {_ if vardata.id == variant_id _}3{_ endif _}>{{vardata.getTitle}}</option> ']},sl9.bundle.tplhtm={m:'<hr><div class="tdf_bundle_content tdf_nonpopup tdf_bundle_style_{{display_id}}" data-id="{{id}}">\t{_ if hasMessage _}0{_ endif _}\t<div><div class="tdf_bundle_product"><div class="{_ if display_id != sl9.struct.consta.BundleStyleAmz _}1{_ endif _}"> {{ assign is_default_variant = 1 }} {_ for g,product_group in product_groups _}3{_ endfor _} </div></div><div class="tdf_bundle_left"><div class="tdf_bundle_price"></div><button type="button" class="tdf_normal_btn tdfe" data-e="bundle_add_all"> {{sl9.data.settings.8.add_all}} </button></div></div>\t{_ if display_id == sl9.struct.consta.BundleStyleAmz _}5{_ endif _}</div>',subs:['\t<div class="tdf_bundle_message"><h2>{{message.toTranslate}}</h2></div>\t',"tdf_bundle_product_container",' <span class="tdf_plus_icon"></span> ',' {_ if g != 0 _}2{_ endif _} <div id="tdf_bundle_group_{{id}}_{{g}}" class="tdf_bundle_product_item tdf_bundle_product_item_1" data-product-group="{{g}}"> {{ assign product_id = product_group.product_id }} {{ assign variants = product_group.variants }} {{ assign variant_id = product_group.variants.0.id }} {{ include sl9.bundle.snippet_bundle_product }} </div> ',' <div class="tdf_bundle_product_item tdf_bundle_product_item_2" data-product-group="{{g}}"> {{ assign product_id = product_group.product_id }} {{ assign variants = product_group.variants }} {{ assign variant_id = product_group.variants.0.id }} {{ include sl9.bundle.snippet_bundle_title }} </div> ','\t<div class="tdf_bundle_title"> {{ assign is_default_variant = 1 }} {_ for g,product_group in product_groups _}4{_ endfor _}\t</div>\t']},sl9.common={},sl9.common.market={Start:function(){var t=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"var_img");if(nfec.manager.currency.IsMarketOn()||t){var e=function(t){setTimeout(function(){jQuery(t+" .tdf_select_input").trigger("change")},800)};nfec.event_hub.ListenTo("update_label",function(){e(".tdf_rec")}),nfec.event_hub.ListenTo("upsale_showed",function(){e("#tdf_upsell")}),nfec.event_hub.ListenTo("bundle_showed",function(){setTimeout(function(){jQuery(".tdf_bundle_content .tdf_select_input").trigger("change")},620)}),t&&nfec.event_hub.ListenTo("quick_view_showed",function(){e("#tdf_quickview"),setTimeout(function(){jQuery(".tdf_qv_swatch_real.selecting").last().trigger("click")},450)})}}},sl9.common.product={HandleSoldout:function(t,e){if(!t.hasClass("unavailable")){t.attr("labl",t.html());var n=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"sold_out");t.html(n).addClass("unavailable").attr("disabled","disabled"),e||sl9.common.product.NotiSelectOther()}},CleanSoldout:function(t){t.html(t.attr("labl")).removeClass("unavailable").removeAttr("disabled")},NotiSelectOther:function(){var t=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"select_other_option");nfec.noti.control.Run(t,5e3)}},sl9.common.checkout={HasOffer:!1,CheckoutCurrency:"",IsCheckingOut:!1,BuyNow:!1,setCK:function(t,e){nfec.store.control.Set("ckf",t,186400,!0),e||(sl9.common.checkout.IsCKing=!0)},Start:function(){setTimeout(function(){sl9.common.checkout.handleBuyNow()},1),setTimeout(function(){sl9.common.checkout.handleBuyNow()},3e3),setTimeout(function(){sl9.common.checkout.handleBuyNow()},6e3),setTimeout(function(){sl9.common.checkout.handleBuyNow()},1e4),jQuery(document).ready(function(){sl9.common.checkout.handleBuyNow()}),nfec.event_hub.ListenTo("promo_updated",function(){sl9.common.checkout.handleCart(),sl9.common.checkout.handleScode(),nfec.store.control.Get("rck")&&(nfec.store.control.Remove("rck"),sl9.common.checkout.Process())},!0,!0),nfec.event_hub.ListenTo("request_got_cart",function(){sl9.common.checkout.handleCart(),setTimeout(function(){sl9.common.checkout.handleCart()},900)});var n=!1,i=!1,o=function(){nfec.util.tool.WaitToLoad(["paypal"],function(){n||(n=!0,setTimeout(function(){sl9.common.checkout.handleCart()},200))})};o(),nfec.event_hub.ListenTo("cart_item_added_synced",function(t,e){i||n||(i=!0,o())}),nfec.event_hub.ListenTo("reload_cart",function(){setTimeout(function(){sl9.common.checkout.handleCart()},700)}),nfec.event_hub.ListenTo("cart_updated",function(){setTimeout(function(){sl9.common.checkout.handleCart()},750)}),sl9.common.checkout.prefillCartForm(),nfec.event_hub.ListenTo("cart_empty",function(t,e){nfec.store.control.Remove("ckf"),nfec.manager.gift.Remove()},!0),jQuery(".tdf-require-cb, .tdf-require-input").on("change",function(t){setTimeout(function(){sl9.common.checkout.handleBtn()},100)}),nfec.event_hub.ListenTo("ctotal_found",function(){sl9.common.checkout.handleCart()},!0),jQuery(document).on("click",".tdf_btn_ck",function(t){setTimeout(function(){jQuery(t.target).attr("clked")||sl9.common.checkout.preCheckout()},320)}),jQuery(document).on("cart:rerendered",function(){sl9.common.checkout.handleCart()})},prefillCartForm:function(){var t=function(t){var e=nfec.manager.coupon.Get();if(e){var n=jQuery('input[name="discount"]');n.length?n.val(e):t.append('<input type="hidden" name="discount" value="'+e+'">')}},e=nfec.platform.current.element.GetCartForms();jQuery("body").on("submit",e,function(){t(jQuery(this))}),jQuery(document).on("click",".satcb_checkout_btn-holder,.tdf_discount_ck_btn",function(t){sl9.common.checkout.preCheckout()}),jQuery("body").on("click",'a[href*="/checkout"]:not(.tdf_btn_ck)',function(t){(sl9.manager.draft_order.Get().has_discount||sl9.common.checkout.HasOffer&&!sl9.common.checkout.IsClickedCheckoutBtn())&&(t.preventDefault(),sl9.common.checkout.preCheckout())}),t(jQuery(e))},preCheckout:function(t){var e=sl9.common.checkout.IsClickedCheckoutBtn(),n=nfec.manager.cart.Total||1;sl9.common.checkout.setCK(n),!sl9.common.checkout.HasOffer||e?sl9.common.checkout.Process(t,null,1):nfec.event_hub.Trigger("show_checkout_offer")},handleCart:function(){if(!nfec.IsDmodeNone){var t=jQuery(".additional-checkout-button,.dynamic-checkout__content"),e="additional-checkout-buttons";t.each(function(){var t=jQuery(this).parent();t.hasClass(e)||t.closest("."+e).length||t.find("form").length||t.addClass(e)}),jQuery("."+e).find(".paypalLight").each(function(){jQuery(this).siblings(".paypalLightBoxy").length||(jQuery(this).parent().css("position","relative"),jQuery(this).after('<div class="paypalLightBoxy"></div>'))}),sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"all_boxy")&&jQuery("."+e).each(function(){jQuery(this).find(".allLightBoxy").length||(jQuery(this).css("position","relative"),jQuery(this).prepend('<div class="allLightBoxy"></div>'))})}sl9.common.checkout.handleBtn(),sl9.common.checkout.handleCartPrice(),sl9.common.checkout.handleBuyNow()},handleBuyNow:function(){if(!nfec.IsDmodeNone){var t=nfec.platform.current.page.Detect();if(t.type==nfec.consta.PageTypeProduct){var _=t.payload.id;if(_){var e=function(t){if(!t.attr("tdf_fake")){t.attr("tdf_fake",1);var e,n=nfec.manager.product.FindByID(_);n&&(e=n.variants[0].id);for(var i=t.closest("form"),o=i.serializeArray(),r=e,d=1,a=0;a<o.length;a++)switch(o[a].name){case"quantity":d=parseInt(o[a].value);break;case"id":case"id[]":r=parseInt(o[a].value)}if(setTimeout(function(){t.attr("tdf_fake","")},1600),r){(!d||d<1)&&(d=1),sl9.common.checkout.IsCheckingOut=!0,sl9.common.checkout.IsCheckingOutStop=!1;var c=nfec.manager.cart.Total||1;sl9.common.checkout.setCK(c,1);var f=nfec.platform.current.element.GetItemProp(i);nfec.platform.current.cart_api.AddItem(r,d,function(t){if(!t)return sl9.common.checkout.IsCheckingOut=!1,void sl9.common.product.NotiSelectOther();nfec.start.redirect.Is2Cart=1;var e=function(){sl9.common.checkout.Process()},n=!1;nfec.event_hub.ListenTo("close_popup",function(){e()}),nfec.event_hub.ListenTo("showing_gift",function(){n=!0}),setTimeout(function(){sl9.common.checkout.IsCheckingOutStop||n||e()},600)},f)}else i.trigger("submit")}},n="tdf-ov-atc";nfec.util.btn.StopRedirect(n+"-fl",jQuery("form ."+n),function(t){t.on("click",function(){e(jQuery(this))})},!0),sl9.common.checkout.BuyNow||(sl9.common.checkout.BuyNow=1,jQuery("body").addClass("tdf-product-page"),jQuery(document).on("click","form .shopify-payment-button",function(i){var t=jQuery(i.target),o=!1,r=!1;t.find(".shopify-payment-button__button,.shopify-payment-button__more-options").each(function(){var t=jQuery(this),e=t.width(),n=t.offset();n&&i&&e&&n.left&&i.pageX&&(o=!0,n.left+e>=i.pageX&&(r=!0))}),o&&!r||e(t)}))}}}},handleCartPrice:function(){if(!nfec.IsDmodeNone){var m="tdf-priced",t=nfec.platform.current.page.Detect(),g=sl9.manager.draft_order.Get(),e=g.getTotalAmount(),n={current_price:e},y=nfec.manager.cart.Get();if(g.change_cart_price){var i=nfec.manager.cart.GetOldTotal();i&&e<i&&(n.origin_price=i)}var o=sl9.common.tpl.Render(sl9.common.snippet_cart_subtotalhtm,n),v=function(t,e){var n=t.find(".tdf_price_normal .tdf_money");if(n.length)return n.data("origin-value")==nfec.util.tpl.GetCent(e)||void 0},r="tdf-cart-total-parent";if(jQuery(".tdf-cart-total-flag").parent().addClass(r),jQuery(".ConversionDriverCart--totalPrice,.nt_header_cart .shopify-Price-amount").addClass(r),!jQuery("."+r).length){var d=nfec.manager.ctotal.Get(t);if(d&&"*"!=d)jQuery(d).addClass(r)}var a,c=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"cart_sel")||"";if(c+='*[data-tdf-cart-total="1"],.tdf-cart-total-parent,.ajaxcart__footer>.grid--full>.text-right>.ajaxcart__subtotal,.text-right>.cart-subtotal>.h1.cart-subtotal--price,.ajaxcart__footer>.ajaxcart__subtotal>.grid--table>.text-right,.drawerAjaxFooter>.ajaxSubTotal>.cartSubtotal,.aod-total-amount,.atc-subtotal--price,.ucdcart__footer .subtotal-grid .money,.slidecart-subtotal,.t4s-cart__totalPrice,.hs_subtotal_amount,.boost-pfs-subtotal-price,.cart_subtotal.js-cart_subtotal>.right,.smart-cart-drawer__footer__subtotal__value,.modalchk-total-price,.cart__subtotal,.tt-cart-total-price,.ws-cs-total,.satcb-cs-total,.ajaxcart__subtotal.ajax_total,.cart__item-subtotal .mm-counter,.cart__total__money,.subtotal>.total,#CartCost,.qimify-minicart-cart-total>span>.money,.gt_text_total,.cartTotalSelector,.subtotal_amt,.js-subtotal,.bss-b2b-cart-total-price,.cart-summary__subtotal .amount,.rebuy-cart__flyout-subtotal-amount,#mini-cart-subtotal,.totals__subtotal-value,.cart-subtotal .cart-subtotal__price,.cart-subtotal>.theme-money,.cart-original-total,.ajax-cart__subtotal>.money,.cart-item-count-header--total,.cart__footer__value,.subtotal>.amount,.cart-subtotal>.cart-total__amount,.cart-subtotal [data-cart-total],.cart-title-total [data-cart-total]',nfec.thm.ca&&(c+=","+nfec.thm.ca),nfec.thm.cao&&(c=nfec.thm.cao),!jQuery(c).length&&nfec.thmx.ca)jQuery(nfec.thmx.ca).each(function(){var t=jQuery(this),e=t.text();if(e){var n=' <span class="tdf-cart-total-parent '+m+'"></span>';-1!=e.indexOf("eck")&&(a=!0,t.html("Checkout"+n)),-1!=e.indexOf("art")&&(a=!0,t.html("Cart "+n))}}),a||(c=nfec.thmx.ca);jQuery(c).each(function(){var t=jQuery(this);if(!(12<t.find("*").length||t.find("."+m).length)){var e=sl9.manager.draft_order.GetTotalDiscount(g);if(g.has_discount&&!(e<=0)||t.hasClass(m)){if(t.hasClass(m)){if(v(t,n.current_price))return}else t.addClass(m);t.removeClass("money").html(o)}}});var b=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"cart_price_force");jQuery(".tdf-cart-item-p").parent().addClass("tdf-cart-item-p-p"),jQuery(".tdf-cart-item-lp").parent().addClass("tdf-cart-item-lp-p");(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"cart_multi")?jQuery(nfec.platform.current.element.GetCartForms()):nfec.platform.current.element.GetCartFormDom()).each(function(){!function(t){var e=t.find(".tdf-cart-item-p-p"),n=t.find(".tdf-cart-item-lp-p");if(e.length){if(e.length!=y.items.length)return}else if(!n.length||n.length!=y.items.length)return;for(var i,o,r=t.find(".tdf-cart-item-t"),d=r.length==y.items.length,a=0;a<y.items.length;a++){var c=e.eq(a);if(!(3<c.children().length)||b){var f=y.items[a],_=g.getItemDiscountValue(f.variant_id);if(_||c.hasClass(m)){var s,l={br:1,current_price:f.price-_},u={br:1,current_price:l.current_price*f.quantity};_&&((i=nfec.manager.product.FindByID(f.product_id))&&(s=i.getVariantByID(f.variant_id))&&(o=s.display_old_price())&&o>f.price&&(l.origin_price=o),l.origin_price=l.origin_price||f.price,u.origin_price=l.origin_price*f.quantity),c.hasClass(m)&&v(c,l.current_price)||c.addClass(m).html(sl9.common.tpl.Render(sl9.common.snippet_cart_subtotalhtm,l));var p=n.eq(a);if((!p.hasClass(m)||!v(p,u.current_price))&&(p.addClass(m).html(sl9.common.tpl.Render(sl9.common.snippet_cart_subtotalhtm,u)),d)){var h="";_&&(h=sl9.common.tpl.Render(sl9.common.snippet_item_savehtm,{save:u.origin_price-u.current_price})),r.eq(a).html(h)}}}}}(jQuery(this))})}},handleBtn:function(){var t="tdf_discount_ck_btn",e=jQuery(".tdf-require-cb"),n=jQuery(".tdf-require-input"),i=!0;if(e.length||n.length){var o=!1;e.each(function(){jQuery(this).is(":checked")&&(o=!0)}),n.each(function(){jQuery(this).val()&&(o=!0)}),o||(i=!1)}if(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"minmax")&&window.minMaxify&&minMaxify.checkLimits)try{minMaxify.checkLimits()||(i=!1)}catch(t){}var r=sl9.manager.draft_order.Get();if(r.has_discount||nfec.manager.coupon.Clear(),!r.has_discount&&(!sl9.common.checkout.HasOffer||sl9.common.checkout.IsClickedCheckoutBtn()))return nfec.util.btn.Revert("tdf_btn_ck"),void jQuery("."+t).removeClass(t);nfec.platform.current.page.Detect().type==nfec.consta.PageTypeCart&&jQuery("#buy-me-cart").hide(),jQuery(".additional-checkout-buttons").addClass(t),jQuery("button").each(function(){var t=jQuery(this);"window.location='/checkout'"==t.attr("onclick")&&(t.attr("onclick","javascript:;"),t.on("click",function(t){sl9.common.checkout.preCheckout()}))});var d=function(e){e.data("ck_bound")||(e.data("ck_bound",1),e.on("click",function(){if(jQuery(this).attr("clked",1),(!(window.ZapTree&&window.Zapiet&&Zapiet.Widget&&"function"==typeof Zapiet.Widget.checkoutEnabled)||Zapiet.Widget.checkoutEnabled())&&e.hasClass("tdf_btn_ck")){var t=!1;"goto_pp"==e.attr("name")&&(t=!0),sl9.common.checkout.preCheckout(t)}}))};if(i){var a=jQuery(nfec.platform.current.element.GetCheckoutButton());nfec.util.btn.StopRedirect("tdf_btn_ck",a,d)}var c=jQuery(".ConversionDriverCart--checkout");nfec.util.btn.StopRedirect("tdf_btn_ck",c,d,!0)},fillCheckoutURLParams:function(t,e){for(var n=["[shipping_address][first_name]","[shipping_address][last_name]","[shipping_address][address1]","[shipping_address][address2]","[shipping_address][company]","[shipping_address][city]","[shipping_address][country]","[shipping_address][country_code]","[shipping_address][name]","[shipping_address][zip]","[shipping_address][url]","[shipping_address][street]","[shipping_address][province]","[shipping_address][province_code]","[shipping_address][phone]","locale"],i={is_tdf:e||"1",skip_shopify_pay:!0,skip_shop_pay:!0},o=0;o<n.length;o++){var r=-1==n[o].indexOf("shipping_address")?n[o]:"checkout"+n[o];jQuery('[name="'+r+'"]').each(function(){var t=jQuery(this).val();t&&(i[r]=t)})}var d,a=jQuery("#checkout_email_or_phone").val();(a&&(i["checkout[email]"]=a),i.locale)||(!(d=jQuery('[action*="locale="]').attr("action"))||-1==d.indexOf("/cart")&&-1==d.indexOf("/checkout")||(d=d.substr(d.indexOf("locale=")+7,5))&&(0!==d.indexOf("zh-")&&(d=d.substr(0,2)),i.locale=d));i.locale||(d=nfec.manager.locale.GetCk())&&(i.locale=d);var c=jQuery.param(i);return-1!=t.indexOf("?")?t+="&":t+="?",t+c},handleScode:function(t){if(!sl9.manager.draft_order.Get().has_discount){var e=sl9.manager.scode.Get();if(e.id){var n=nfec.manager.cart.Total.toFixed(2);parseFloat(e.goal)>parseFloat(n)||(t?sl9.manager.scode.Del():setTimeout(function(){sl9.common.checkout.handleScode(1)},600))}}},Process:function(t,p,e){nfec.start.redirect.IsProcessCheckout||(nfec.start.redirect.IsProcessCheckout=!0,nfec.loading.control.Start(),!e&&window.customTrackCkFunc&&setTimeout(window.customTrackCkFunc,1),setTimeout(function(){var l=sl9.manager.draft_order.Get();if(l.has_discount){sl9.manager.dcode.HandleDraftOrder(l);var t=nfec.platform.current.element.GetCartForms(),i="attributes[";jQuery(t).each(function(){for(var t=jQuery(this).serializeArray(),e=0;e<t.length;e++)if("note"!=t[e].name){if(0===t[e].name.indexOf(i)){var n=t[e].name.slice(i.length,t[e].name.length-1)+"";l.notes[n]=t[e].value+""}}else l.notes.cart_note=t[e].value+""});var u=function(e){var n=function(){if(e){var t=nfec.platform.current.page.Detect();if(nfec.platform.base.page.IsInCheckout(t.type))return;if(p)return;nfec.platform.current.redirect.GoToCheckoutPage()}else u(!0)},t=nfec.manager.cart.Get(),i=nfec.d_mode,o=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"extra_scopes"),r="2desta";if(i&&nfec.manager.setting.IsDiscountCode()&&l.checkScode()){var d=sl9.manager.scode.Get(),a=.96;nfec.manager.currency.NotDefault&&(a=.93);var c=(t.getTotalPrice(1)*a).toFixed(2),f=l.getTotalDiscount();if(!f&&!l.free_ship)return void nfec.platform.current.redirect.GoToCheckoutPage();var _=nfec.main.TF(f,2,1),s=function(t){window.location.href=sl9.common.checkout.fillCheckoutURLParams("/checkout?discount="+t,"2")};return d.id&&d.check(l.cart_token,_,c)?void nfec.manager.coupon.Add(d.code,s):void nfec.util.request.Api({url:r[0]+"/"+r[1]+"cod"+r[2]+"/"+r[3]+"et",method:"POST",data:{rid:d.id,t:f?0:1,a:_,g:c,x:o&&-1<o.indexOf("write_discounts"),s:!!t.isRecharge(),h:nfec.util.tool.H(nfec.manager.setting.Data.id,_,c),p:sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"scode_prefix")||""},success:function(t){if(!t.c)return d.id&&sl9.manager.scode.Del(),void n();d.id=t.rid,d.code=t.c,d.token=l.cart_token,d.amount=_,d.goal=c,sl9.manager.scode.Set(d),nfec.manager.coupon.Add(d.code,s)},error:function(){n()}},e)}nfec.util.request.Api({url:r[0]+"/r"+r[5]+"ck"+r[0],method:"POST",data:l.toJSON(),success:function(t){if(t){if(!t.l)return t.r?(alert("Please retry after 1 minute"),void setTimeout(function(){nfec.store.control.Set("rck",1,60,!0),window.location.reload(!0)},55e3)):void n();sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"delay_ck")||t.dl?setTimeout(function(){window.location.href=sl9.common.checkout.fillCheckoutURLParams(t.l)},1400):window.location.href=sl9.common.checkout.fillCheckoutURLParams(t.l)}else n()},error:function(){n()}},e)};u()}else nfec.platform.current.redirect.GoToCheckoutPage()},100))},IsClickedCheckoutBtn:function(){return nfec.store.control.Get("ckf")}},sl9.common.promor={Start:function(){nfec.event_hub.ListenTo("promo_update",function(t,e){e.compared&&e.compared.added&&e.compared.added.length?sl9.common.promor.addPromo(e):sl9.common.promor.handlePromo(),nfec.event_hub.Trigger("promo_updated",{})},!0,!0),nfec.event_hub.ListenTo("show_checkout_offer",function(t,e){sl9.common.promor.handlePromo(),nfec.event_hub.Trigger("promo_updated",{})},!0,!0)},addPromo:function(t){var e=!1;window.lastBundleT&&(e=!0);for(var n=sl9.manager.promo.Get(),i=sl9.common.promor.handlePromo(t).findAddedItems(n,e),o=nfec.manager.cart.Get(),r=0;r<i.length;r++){var d,a=i[r];if(a.offer_type_id!=sl9.struct.consta.OfferTypeUpsell||!jQuery("#tdf_upsell").length||a.discount_type==nfec.consta.DiscountTypeFreeGift){if(a.is_cart){d=sl9.common.tpl.Render(sl9.notify.snippet_cart_discountinghtm,{promoItem:a});var c=o.getLastItem();c&&sl9.common.track.AddAction(sl9.struct.consta.ActionTrackAdd,a.offer_type_id,a.offer_id,c.variant_id,o.token,1)}else d=sl9.common.tpl.Render(sl9.notify.snippet_product_discountinghtm,{promoItem:a});if(nfec.IsDmodeNone)if(a.discount_type==nfec.consta.DiscountTypeFreeGift){if(!nfec.addgift2cart)continue}else if(a.discount_type!=nfec.consta.DiscountTypeFreeShip)continue;nfec.event_hub.Trigger("notify_discount_msg",{content:d,is_gifted:1})}}},handlePromo:function(t){nfec.manager.discountable.Reset();for(var e=new sl9.model.promo,n=nfec.manager.cart.Get(),i=0;i<n.items.length;i++){var o=n.items[i];if("Item Customizations"==o.title&&1e3<o.quantity)(d=new sl9.model.promo_item).quantity=o.quantity,d.price=o.price,d.product_id=o.product_id,d.variant_id=o.variant_id,e.items.push(d);else for(var r=0;r<o.quantity;r++){var d;(d=new sl9.model.promo_item).quantity=1,d.price=o.price,d.product_id=o.product_id,d.variant_id=o.variant_id,e.items.push(d)}}var a=["wholesale","upsell","sale","bundle","motivator"];for(i=0;i<a.length;i++)sl9[a[i]].promo.HandlePromo(e,t);return sl9.manager.promo.Set(e),e}},sl9.common.rexy={cached:{},getBest:function(){for(var t=sl9.main.GetData("rexy","best")||[],e=[],n=0;n<t.length;n++){var i=nfec.manager.product.FindByID(t[n]);!i||i.is_premium||i.isHidden()||e.push(t[n])}return e},GetSame:function(){var t=nfec.manager.current_product.Get();if(!t){var e=sl9.common.rexy.getBest();return e=e.slice(0,12),e=nfec.util.tool.Shuffle(e)}return sl9.common.rexy.findByHints(t,"same")},findByHints:function(o,t){var e=o.id?t+"_"+o.id:"";if(e&&sl9.common.rexy[e])return sl9.common.rexy[e];var n=sl9.common.rexy.getBest(),i=o.tags?o.tags.split(","):[],r=o.title?o.title.split(" "):[],d=o.product_type?o.product_type.split(" "):[],a=function(t,e,n){for(var i=t.split(n),o=m=0,r=i.length;o<r;o++)-1!=e.indexOf(i[o].trim())&&m++;return m},c=function(t){for(var e,n=0,i=0;i<t.variants.length;i++)n<(e=a(t.variants[i].getTitle(),o.variant_title," "))&&(n=e);return n},f=n.length,_={},s={vendor:20,ptype:10,tag:5,col:5,tit:5,vtit:3};switch(t){case"same":s.vendor=10}for(var l=0;l<f;l++){var u=n[l];if(_[u]={p:-1,tag:0,col:0,tit:0,vtit:0},u!=o.id){var p=nfec.manager.product.FindByID(u),h=0;p.hasImage()&&(h=10),nfec.manager.currency.NotDefault||"cross"==t&&o.price&&p.getMaxPrice()<=o.price&&(h+=5),p.product_type==o.product_type&&(h+=s.ptype),p.vendor==o.vendor&&(h+=s.vendor),_[u].p=h;var m=0;o.tags&&p.tags&&(m+=a(p.tags,i,",")),o.product_type&&p.product_type&&(m+=a(p.product_type,d," ")),_[u].tag=m,o.title&&p.title&&(_[u].tit+=a(p.title,r," ")),o.variant_title&&(_[u].vtit=c(p))}}for(var g=0,y=o.collections.length;g<y;g++){var v=sl9.main.GetData("rexy","collection_products",o.collections[g]);if(v){l=0;for(var b=v.length;l<b;l++)void 0!==_[v[l]]&&_[v[l]].col++}}return n.sort(function(t,e){var n=_[t],i=_[e],o=n.p,r=i.p;return n.col>i.col&&(o+=s.col),n.col<i.col&&(r+=s.col),n.tag>i.tag&&(o+=s.tag),n.tag<i.tag&&(r+=s.tag),n.tit>i.tit&&(o+=s.tit),n.tit<i.tit&&(r+=s.tit),n.vtit>i.vtit&&(o+=s.vtit),n.vtit<i.vtit&&(r+=s.vtit),o<r?1:-1}),e&&(sl9.common.rexy[e]=n.slice(0,12)),n.slice(0,12)},GetCross:function(){var t=nfec.manager.current_product.Get();if(!t){var e=sl9.common.rexy.getBest();return e=e.slice(0,12),e=nfec.util.tool.Shuffle(e)}for(var n=[],i=sl9.main.GetData("rexy","products")||[],o=0,r=i.length;o<r;o++)if(-1!=i[o].indexOf(t.id))for(var d=0;d<i[o].length;d++)if(i[o][d]!=t.id){var a=nfec.manager.product.FindByID(i[o][d]);a&&!a.is_premium&&n.push(i[o][d])}var c=t.tags?t.tags.split(","):[""],f=[],_=[],s="",l="";for(o=0,r=t.collections.length;o<r;o++){var u=sl9.main.GetData("rexy","collections",t.collections[o]);u&&f.push(u)}f.length||(f=t.collections);for(o=0,r=c.length;o<r;o++){var p=sl9.main.GetData("rexy","tags",c[o]);p&&_.push(p)}_.length||(_=c);var h=t.product_type||"";(l=sl9.main.GetData("rexy","product_types",h))||(l=h);var m=t.vendor||"";(s=sl9.main.GetData("rexy","vendor",m))||(s=m);var g=new nfec.model.current_product;g.id=t.id,g.vendor=s,g.product_type=l,g.tags=_.join(","),g.title=t.title,g.variant_title=t.variant_title,g.collections=f,g.price=t.price;var y=sl9.common.rexy.findByHints(g,"cross");for(o=0,r=y.length;o<r;o++)-1==n.indexOf(y[o])&&n.push(y[o]);return n.slice(0,12)}},sl9.common.snippet_cart_subtotalhtm={m:'{_ if origin_price _}1{_ endif _}<span class="tdf_price_normal">{{current_price.toCurrency}}</span>',subs:["<br>",'<span class="tdf_price_original">{{origin_price.toCurrency}} </span>{_ if br _}0{_ endif _}']},sl9.common.snippet_discountablehtm={m:"{_ if discountable.discount_type == consta.DiscountTypeFreeShip _}0{_ endif _}{_ if discountable.discount_type == consta.DiscountTypeFreeGift _}1{_ endif _}",subs:["{{ include sl9.notify.snippet_product_discountable }}","{{ assign show_gift_more = 1 }}{{ include sl9.notify.snippet_product_discountable }}"]},sl9.common.snippet_discountable_gifthtm={m:'<div class="tdf_gift tdf_giftable" data-offer-type-id="{{discountable.offer_type_id}}" data-offer-id="{{discountable.offer_id}}"> {{ assign gift = products.{{{discountable.firstFreeGiftID}}} }} {_ if ! discountable.is_cart _}2{_ endif _} <div class="tdf_discount_text"><a href="javascript:;" class="tdf_gift_title tdfe" title="{{gift.title.toInput}}" data-e="show_free_gifts">{{gift.getTitle}} {_ if show_gift_more _}1{_ endif _}</a></div></div>',subs:["{{discountable.message.toTranslate}}{_ else _}{{sl9.data.settings.8.includes}} {{sl9.data.settings.8.free_gift}}","{{sl9.data.settings.8.more}}",' <div class="tdf_discount_tag"> {_ if discountable.hasMessage _}0{_ endif _} </div> ']},sl9.common.snippet_pricehtm={m:'{_ if current_variant.display_old_price _}0{_ endif _}<span class="{_ if current_variant.display_old_price _}1{_ endif _}">{{current_variant.display_price.toCurrency}}</span> ',subs:['<span class="tdf_price_original">{{current_variant.display_old_price.toCurrency}} </span>',"tdf_price_sales"]},sl9.common.snippet_item_savehtm={m:'<span class="tdf_price_save">{{sl9.data.settings.8.you_save}} {{save.toCrcF}}</span>',subs:[]},sl9.common.tpl={Render:function(t,e,n){return(e=e||{}).sl9={},e.sl9.IsDmodeNone=nfec.IsDmodeNone||!1,e.sl9.struct=sl9.struct,e.sl9.data=sl9.main.Data,nfec.util.tpl.RenderTpl(t,e,!1,n)},Renders:function(t,e,n){for(var i="",o=0,r=e.length;o<r;o++)e[o].sl9={},e[o].sl9.struct=sl9.struct,e[o].sl9.data=sl9.main.Data,i+=nfec.util.tpl.RenderTpl(t,e[o],!0,n);return nfec.util.tpl.RunAfterRender(),i},AdjustH:function(t,e){var n=t.find("."+e),i=t.height(),o=n.width();t.addClass("tdf_adjhp"),n.height(i+"px").addClass("tdf_adjh"),n.find("button").closest("div").css({position:"absolute",bottom:0,width:o+"px"})}},sl9.common.track={queue:[],callbacks:[],tracked:[],isErr:!1,timeID:0,handleAddItemEvent:function(t,e){var n=e.added[0],i=n.product_id,o=sl9.manager.product_offer.FindByProduct(i,n.variant_id);if(o){var r=nfec.manager.cart.Get();r&&sl9.common.track.AddAction(sl9.struct.consta.ActionTrackAdd,o.offer_type_id,o.offer_id,n.variant_id,r.token,n.quantity_changed)}},Start:function(){nfec.event_hub.ListenTo("cart_item_added_synced",function(t,e){sl9.common.track.handleAddItemEvent(t,e)},!0,!0),setTimeout(function(){sl9.common.track.send()},3e3),setTimeout(function(){sl9.common.track.send()},5e3)},AddImpression:function(t,e){var n=sl9.struct.consta.ActionTrackImpression;if(!sl9.manager.session.FindItem(n,t,e)){var i=new sl9.model.session;i.action_id=n,i.offer_type_id=t,i.offer_id=e,sl9.manager.session.AddItem(i),sl9.common.track.queue.push(sl9.struct.consta.ActionTrackImpression+","+t+","+e)}},AddAction:function(t,e,n,i,o,r,d,a){if(t!=sl9.struct.consta.ActionTrackAdd){if(sl9.manager.session.FindItem(t,e,n))return void(d&&d());var c=new sl9.model.session;c.action_id=t,c.offer_type_id=e,c.offer_id=n,sl9.manager.session.AddItem(c)}var f=t+","+e+","+n;i&&(f+=","+i+","+o,r&&1<r&&(f+=","+r)),sl9.common.track.queue.push(f),d&&sl9.common.track.callbacks.push(d),sl9.common.track.timeID&&clearTimeout(sl9.common.track.timeID);var _=a?1:300;sl9.common.track.timeID=setTimeout(function(){sl9.common.track.send()},_)},send:function(t){if(!sl9.common.track.isErr){var e=[],n=sl9.common.track.queue,i=!1;sl9.common.track.queue=[];for(var o=0;o<n.length;o++)-1==sl9.common.track.tracked.indexOf(n[o])&&e.push(n[o]);if(e.length){var r=function(){var t=sl9.common.track.callbacks.length;if(t&&!i){i=!0;for(var e=0;e<t;e++)sl9.common.track.callbacks[e]();sl9.common.track.callbacks=[]}};setTimeout(function(){r()},3e3);var d=e.join("--")+"--";nfec.util.request.Track({url:"2/1",data:{r:d},success:function(){r()},error:function(){nfec.util.request.Track({url:"2/1",data:{r:d},success:function(){r()},error:function(){sl9.common.track.isErr=!0}},!0)}})}}}},sl9.common.util={AddTrackFlag:function(t){var e=parseInt(t.data("offer-id"));if(e){var n=parseInt(t.data("product-id"));sl9.manager.product_offer.AddRaw(parseInt(t.data("offer-type-id")),e,n)}}},sl9.currency={},sl9.currency.main={Start:function(){}},sl9.currency.tplhtm={m:'<div id="tdf_currency" class="tdf_container"><div class="tdf_currency_container"> {_ for c,cur in currencies _}1{_ endfor _}\t</div></div>',subs:["tdf_currency_selected{_ else _}tdf_hidden",' <div class="tdf_currency_div tdfe {_ if cur.is_selected _}0{_ endif _}" data-e="currency_click" data-code="{{cur.code}}"><a class="tdf_currency_item" href="javascript:;"><img src="{{cdnpath}}/fe/nfec/img/flag/{{cur.flag}}.png"><span class="tdf_currency_code">{{cur.code}}</span></a></div> ']},sl9.dcode={},sl9.dcode.cartlinkhtm={m:'<li class="breadcrumb__item breadcrumb__item--completed"><a class="breadcrumb__link" data-trekkie-id="breadcrumb_cart_link" href="{{proot}}cart">{{sl9.data.settings.8.cart}}</a><svg class="icon-svg icon-svg--color-adaptive-light icon-svg--size-10 breadcrumb__chevron-icon" aria-hidden="true" focusable="false"><use xlink:href="#chevron-right"></use></svg></li>',subs:[]},sl9.dcode.cartreturnhtm={m:'<a class="step__footer__previous-link" data-trekkie-id="previous_step_link" href="{{proot}}cart"><svg focusable="false" aria-hidden="true" class="icon-svg icon-svg--color-accent icon-svg--size-10 previous-link__icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path d="M8 1L7 0 3 4 2 5l1 1 4 4 1-1-4-4"></path></svg><span class="step__footer__previous-link-content">{{sl9.data.settings.8.cart}}</span></a>',subs:[]},sl9.dcode.checkoutinputhtm={m:'<div class="order-summary__section order-summary__section--discount"><form class="edit_checkout animate-floating-labels" action="javascript:;" onsubmit="return"><div class="fieldset"><div class="field" id="tdf_ck_code_field"><div class="field__input-btn-wrapper"><label class="field__label field__label--visible" for="checkout_reduction_code">{{sl9.data.settings.8.input_discount_code}}</label><div class="field__input-wrapper"><input placeholder="{{sl9.data.settings.8.input_discount_code}}" class="field__input tdfe" data-et="input" data-e="ck_code_input" autocomplete="off" aria-required="true" size="30" type="text" id="tdf_extra_code"></div><button id="tdf_ck_code_btn" name="button" type="button" class="field__input-btn btn btn--disabled tdfe" aria-busy="false" disabled="disabled" data-e="ck_code_apply"><span class="btn__content visually-hidden-on-mobile" aria-hidden="true"> {{sl9.data.settings.8.apply}} </span><svg class="icon-svg icon-svg--size-16 btn__icon shown-on-mobile" aria-hidden="true" focusable="false"><svg id="arrow" width="100%" height="100%"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M16 8.1l-8.1 8.1-1.1-1.1L13 8.9H0V7.3h13L6.8 1.1 7.9 0 16 8.1z"></path></svg></svg></svg><svg class="icon-svg icon-svg--size-18 btn__spinner icon-svg--spinner-button" aria-hidden="true" focusable="false"><svg id="spinner-button" width="100%" height="100%"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M20 10c0 5.523-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0v2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8h2z"></path></svg></svg></svg></button></div></div></div></form> {_ if has_coupon _}0{_ endif _}</div>',subs:[' <div class="tags-list"><div class="tag"><form class="edit_checkout animate-floating-labels" accept-charset="UTF-8"><div class="tag__wrapper"><span class="tag__text"><span class="reduction-code"><svg class="icon-svg icon-svg--color-adaptive-light icon-svg--size-18 reduction-code__icon" aria-hidden="true" focusable="false"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M17.78 3.09C17.45 2.443 16.778 2 16 2h-5.165c-.535 0-1.046.214-1.422.593l-6.82 6.89c0 .002 0 .003-.002.003-.245.253-.413.554-.5.874L.738 8.055c-.56-.953-.24-2.178.712-2.737L9.823.425C10.284.155 10.834.08 11.35.22l4.99 1.337c.755.203 1.293.814 1.44 1.533z" fill-opacity=".55"/><path d="M10.835 2H16c1.105 0 2 .895 2 2v5.172c0 .53-.21 1.04-.586 1.414l-6.818 6.818c-.777.778-2.036.782-2.82.01l-5.166-5.1c-.786-.775-.794-2.04-.02-2.828.002 0 .003 0 .003-.002l6.82-6.89C9.79 2.214 10.3 2 10.835 2zM13.5 8c.828 0 1.5-.672 1.5-1.5S14.328 5 13.5 5 12 5.672 12 6.5 12.672 8 13.5 8z"/></svg></svg><span class="reduction-code__text" style="text-transform:uppercase"> {{coupon_code}}</span></span></span> {{ include sl9.dcode.snippet_coderemove }} </div></form></div></div> ']},sl9.dcode.ckinput={Start:function(){var t=nfec.platform.current.page.Detect();if(nfec.platform.base.page.IsInCheckout(t.type)){var e=jQuery(".logo"),o=jQuery(".step__footer__continue-btn");if(o.length){var n=window.location.href,r=-1!=n.indexOf("step=");if(r&&-1!=n.indexOf("step=contact_information")&&-1==n.indexOf("previous_step")&&(r=!1),window.Shopify&&Shopify.Checkout&&Shopify.Checkout.step&&"contact_information"!=Shopify.Checkout.step&&(r=!0),jQuery(".reduction-code").length||r||-1!=window.location.href.indexOf("is_tdf")||-1!=window.location.href.indexOf("step")){e.on("click",function(){window.location="/"}),e.css("cursor","pointer");var i=jQuery(".breadcrumb__link").first().attr("href");if(!i||-1==i.indexOf("/cart"))if(nfec.event_hub.ListenTo("cart_synced",function(t,e){if(e.cart.getTotalAddeds()){var n=jQuery(".main__header .breadcrumb");if(n.length&&n.prepend(sl9.common.tpl.Render(sl9.dcode.cartlinkhtm,{})),!r){var i=o.closest(".step__footer");i.length&&i.append(sl9.common.tpl.Render(sl9.dcode.cartreturnhtm,{}))}}},!0),!r)if(jQuery("#checkout_buyer_accepts_marketing").prop("checked",!0),sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"enable_checkout_code")&&-1==window.location.href.indexOf("is_tdf=2")){sl9.manager.dcode.Get();nfec.event_hub.ListenTo("ck_code_remove",function(t,e){sl9.manager.dcode.Remove(1),sl9.common.checkout.Process()});var d=nfec.store.control.Get("ince");d&&(nfec.store.control.Remove("ince"),jQuery(".order-summary-toggle").click()),jQuery(".order-summary__section--discount").length?sl9.dcode.ckinput.handleGiftCart():sl9.dcode.ckinput.handleNone(),d&&jQuery(".order-summary__section--discount").prepend(sl9.common.tpl.Render(sl9.dcode.invalidmessagehtm,{})),nfec.event_hub.ListenTo("ck_code_remove_warn",function(t,e){jQuery(e.els).closest("form").remove()})}}else nfec.event_hub.ListenTo("cart_synced",function(t,e){e.cart.getTotalAddeds()&&(sl9.manager.draft_order.Get().has_discount&&sl9.common.checkout.Process(!1,!0))},!0)}}},handleNone:function(){var t=sl9.manager.dcode.Get();nfec.event_hub.ListenTo("ck_code_input",function(t,e){var n=jQuery("#tdf_ck_code_btn"),i="btn--disabled",o="disabled";jQuery("#tdf_ck_code_field").removeClass("field--error"),jQuery(".tdf_invalid_message").remove(),jQuery(e.els).val()?n.removeClass(i).removeAttr(o):n.addClass(i).attr(o,o)}),jQuery(".order-summary__section.order-summary__section--product-list").after(sl9.common.tpl.Render(sl9.dcode.checkoutinputhtm,{has_coupon:t?1:0,coupon_code:t?t.code:""})),jQuery("#tdf_extra_code").on("keypress",function(t){13==t.keyCode&&(t.preventDefault(),nfec.event_hub.Trigger("ck_code_apply",{}))}),nfec.event_hub.ListenTo("ck_code_apply",function(t,e){var n=jQuery("#tdf_ck_code_btn"),i="btn--loading",o=jQuery("#tdf_extra_code").val()||"";if(o=o.trim()){n.addClass(i);var r=function(){jQuery("#tdf_ck_code_field").addClass("field--error").append(sl9.common.tpl.Render(sl9.dcode.snippet_invalidcodehtm,{}))};sl9.dcode.main.HandleApply(o,r,function(t){sl9.manager.dcode.PreCheckCode()?sl9.common.checkout.Process():r()},function(){n.removeClass(i)})}})},handleGiftCart:function(){var i=".edit_checkout .field__input-btn.btn",o=jQuery(i),n=o.closest(".field"),r=jQuery("#checkout_reduction_code"),t=jQuery('label[for="checkout_reduction_code"]'),e=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"input_discount_code");r.attr("placeholder",e),t.text(e);var d=sl9.manager.dcode.Get();d&&d.code&&jQuery(".tags-list>.tag").each(function(){var t=jQuery(this).find(".reduction-code__text");t.length&&(t.closest(".tag__wrapper").append(sl9.common.tpl.Render(sl9.dcode.snippet_coderemovehtm,{})),t.text(d.code))}),r.on("input",function(){var t="btn--disabled",e="disabled";n.removeClass("field--error"),jQuery(".tdf_invalid_message").remove(),jQuery(this).val()?o.removeClass(t).removeAttr(e):o.addClass(t).attr(e,e)});var a=function(){var t="btn--loading",e=r.val()||"";if(e=e.trim()){o.addClass(t);var n=function(){jQuery(i).closest("form").trigger("submit")};return sl9.dcode.main.HandleApply(e,n,function(t){sl9.manager.dcode.PreCheckCode()?sl9.common.checkout.Process():n()},function(){o.removeClass(t)}),!0}};o.attr("type","button"),o.on("click",function(){var t=jQuery(this).closest("form");a()||t.trigger("submit")}),r.on("keypress",function(t){if(13==t.keyCode){if(!a())return;t.preventDefault()}})}},sl9.dcode.invalidmessagehtm={m:'<form><div aria-atomic="true" aria-live="polite" class="notice notice--warning" role="status" tabindex="-1"><svg class="icon-svg icon-svg--size-24 notice__icon" aria-hidden="true" focusable="false"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 22"><path d="M15.286 2.386l7.91 13.857C25.01 19.423 23.65 22 20.16 22H3.84C.35 22-1.01 19.427.805 16.243l7.91-13.857c1.815-3.178 4.754-3.185 6.57 0zm-1.737.992c-1.05-1.838-2.05-1.837-3.1 0L2.54 17.235C1.468 19.122 1.93 20 3.84 20h16.32c1.91 0 2.374-.88 1.298-2.765l-7.91-13.857zM12 6.5c.552 0 1 .448 1 1V12c0 .552-.448 1-1 1s-1-.448-1-1V7.5c0-.552.448-1 1-1zm-1.5 10c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5z"></path></svg></svg><p class="notice__text">{{sl9.data.settings.8.email_no_match_code}}</p><button name="button" type="button" class="notice__close tdfe" data-e="ck_code_remove_warn"><svg class="icon-svg icon-svg--color-adaptive-lighter icon-svg--size-14 icon-svg--block" aria-hidden="true" focusable="false"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M15.1 2.3L13.7.9 8 6.6 2.3.9.9 2.3 6.6 8 .9 13.7l1.4 1.4L8 9.4l5.7 5.7 1.4-1.4L9.4 8"></path></svg></svg></button></div></form>',subs:[]},sl9.dcode.main={current:{},Start:function(){sl9.dcode.ckinput.Start()},save:function(){var t=new sl9.model.dcode;t.fromJSON(sl9.dcode.main.current),sl9.manager.dcode.Set(t)},HandleApply:function(o,r,d,t){nfec.util.request.Api({url:"2/dcode/find",method:"GET",data:{dcode:o},success:function(t){if(t.id){if(t.c=o,t.countries){var e=nfec.manager.country.Get();if("*"!=e){for(var n=!1,i=0;i<t.countries.length;i++){if("*"==t.countries[i]){n=!0;break}if(e==t.countries[i]){n=!0;break}}if(!n)return void r();for(i=0;i<t.i_countries.length;i++)if(t.countries[i]==e)return void r()}}sl9.dcode.main.current=t,sl9.dcode.main.save(),d(t)}else r()},error:function(){r()},complete:function(){t()}},!0)}},sl9.dcode.snippet_coderemovehtm={m:'<button type="button" class="tag__button tdfe" data-e="ck_code_remove"><svg class="icon-svg icon-svg--color-adaptive-dark icon-svg--size-12 icon-svg--block" aria-hidden="true" focusable="false"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13"><path d="M1.5 1.5l10.05 10.05M11.5 1.5L1.45 11.55" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round"></path></svg></svg></button>',subs:[]},sl9.dcode.snippet_invalidcodehtm={m:'<p class="field__message field__message--error tdf_invalid_message">{{sl9.data.settings.8.invalid_code}}</p>',subs:[]},sl9.discount={},sl9.discount.boxhtm={m:'<div id="tdf_discount_box" class="tdf_content_section_discounted tdf_container tdf_nonpopup"> {_ if coupon_added _}0{_ endif _} {_ if coupon_enable _}1{_ endif _}</div>',subs:[" {{ include sl9.discount.snippet_codeadded }} "," {{ include sl9.discount.snippet_codebox }} "]},sl9.discount.select_gift_btnhtm={m:'<button type="button" class="tdf_cta_btn tdfe" data-e="select_gift" data-offer-type-id="{{offer_type_id}}" data-offer-id="{{offer_id}}" data-promoitem-id="{{promoItem_id}}"> {{sl9.data.settings.8.select_free_gift}}</button>{_ if sl9.data.settings.6.no_giftable _}0{_ endif _}',subs:['<button type="button" class="tdf_cta_btn tdfe tdf_no_gift" data-e="select_gift" data-offer-type-id="{{offer_type_id}}" data-offer-id="{{offer_id}}" data-promoitem-id="{{promoItem_id}}"> {{sl9.data.settings.8.no_thank}}</button>']},sl9.discount.main={Start:function(){var t=sl9.struct.consta.SettingTypeOther;sl9.main.GetData("settings",t,"discount_widget")&&sl9.discount.widget.Start(),sl9.discount.main.HandleGift();var e=!1;nfec.event_hub.ListenTo("promo_updated",function(){e||(e=!0,sl9.discount.main.showProductDiscountable())},!0,!0),nfec.event_hub.ListenTo("notify_discount_popup_discountable",function(){switch(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"sale_place_id")){case sl9.struct.consta.SalePlaceNoti:var t=sl9.discount.main.buildCurrentDiscountable();if(!t)return;nfec.event_hub.Trigger("notify_discount_popup_discountable_add",{content:t})}});var _=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"enable_gift_popup"),l=!1,u=!1,p=0;_&&nfec.event_hub.ListenPast("notify_discount_msg",function(t,e){if(l=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"enable_gift_ck"),e.is_gifted){var _=(new Date).getTime();if(!(_<p+1200)){var n=jQuery("#tdf_notify .tdf_gift_title");if(n.length){var s=!1;n.each(function(){if(!s){var t=jQuery(this),e=t.closest(".tdf_gift"),n=parseInt(e.data("offer-id")),i=parseInt(e.data("offer-type-id")),o=(parseInt(e.data("promoitem-id")),nfec.manager.gift.FindItem(sl9.struct.app.id,i,n),sl9.manager.offer.Get(i,n)),r=t.data("pids")||o.discount.value||"",d=o.discount.vids||[];if(!d.length){var a=t.data("vids");a&&(d=(a+="").split(","))}var c=(r+="")?r.split(","):[];if(c.length<2){if(d.length&&d.length<2)return;var f=parseInt(c[0]);if(product=nfec.manager.product.FindByID(f),product.variants.length<2)return}p=_,setTimeout(function(){t.trigger("click")},1200),s=!0}}),!s&&l&&(s=!0,p=_,setTimeout(function(){n.first().trigger("click")},1200)),s&&(u=!0,setTimeout(function(){nfec.event_hub.Trigger("showing_gift",{})},100))}}}}),nfec.event_hub.ListenTo("show_free_gifts",function(t,e){if(!jQuery(".tdf_qv_gift").length){var n=e.els.closest(".tdf_gift"),i=parseInt(n.data("offer-id")),o=parseInt(n.data("offer-type-id")),r=parseInt(n.data("promoitem-id")),d=nfec.manager.gift.FindItem(sl9.struct.app.id,o,i),a=sl9.manager.offer.Get(o,i),c=e.els.data("pids")||a.discount.value||"",f=a.discount.vids||[];if(!f.length){var _=e.els.data("vids");if(_){f=(_+="").split(",");for(var s=0;s<f.length;s++)f[s]=parseInt(f[s])}}var l,u,p,h=(c+="")?c.split(","):[];for(s=0;s<h.length;s++)h[s]=parseInt(h[s]);(l=e.els.data("pid"))?(l=parseInt(l),u=parseInt(e.els.data("vid"))):d?(l=d.product_id,u=d.variant_id):(l=h[0],u=(p=nfec.manager.product.FindByID(l)).variants[0].id),p||(p=nfec.manager.product.FindByID(l));var m={is_gift:!0,handle:p.handle,current_variant_id:u,product_ids:h,not_show_normal_cta:!0,not_show_qty:!0,is_custom_cta:!0,custom_cta:sl9.common.tpl.Render(sl9.discount.select_gift_btnhtm,{offer_id:i,offer_type_id:o,promoItem_id:r}),vids:f};nfec.event_hub.Trigger("show_quick_view",m)}}),nfec.event_hub.ListenTo("select_gift",function(t,e){var i=parseInt(e.els.data("offer-id")),o=parseInt(e.els.data("offer-type-id")),r=parseInt(e.els.data("promoitem-id")),n=e.els.closest(".tdf_qv_content");n.length||(n=e.els.closest(".tdf_products_vertical_content"));var d=parseInt(n.data("product-id")),a=parseInt(n.data("variant-id"));e.els.hasClass("tdf_no_gift")?sl9.manager.nogif.Set(o,i):sl9.manager.nogif.Del(o,i);var c=new nfec.model.gift;c.app_id=sl9.struct.app.id,c.offer_type_id=o,c.offer_id=i,c.product_id=d,c.variant_id=a,nfec.manager.gift.AddItem(c),o==sl9.struct.consta.OfferTypeLoyal?nfec.event_hub.Trigger("select_reward_gift",{pid:d,vid:a,rid:r}):r&&sl9.manager.promo.UpdateItemVariant(r,d,a);var f=nfec.manager.product.FindByID(d);jQuery(".tdf_gift").each(function(){var t=jQuery(this);if(t.data("offer-type-id")==o&&t.data("offer-id")==i){var e=parseInt(t.data("promoitem-id"));if(e){if(!r||r!=e)return}else if(r)return;var n=t.find(".tdf_gift_title");n.html(f.getTitle()),nfec.util.tool.SetAtt(n,"pid",d),nfec.util.tool.SetAtt(n,"vid",a)}}),nfec.event_hub.Trigger("selected_gift",{}),nfec.event_hub.Trigger("close_last_quick_view"),l=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"enable_gift_ck"),_&&l&&u&&setTimeout(function(){switch(l){case 2:nfec.platform.current.redirect.GoToCartPage();break;default:sl9.common.checkout.Process()}},500)}),jQuery(document).on("keypress",".tdf_input_discount",function(t){13==t.keyCode&&(t.preventDefault(),jQuery(".tdf_input_form .tdf_normal_btn").trigger("click"))}),nfec.event_hub.ListenTo("store_form_change_variant",function(t,e){var n=jQuery("#tdf_sale_widget .tdf_nonpopup");if(nfec.manager.product.FindByID(e.product_id).getVariantByID(e.variant_id).is_discountable())if(n.length){var i=sl9.discount.main.buildCurrentDiscountable(!0);i&&n.html(i)}else{sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"sale_place_id")==sl9.struct.consta.SalePlaceWidget&&sl9.discount.main.showProductDiscountable()}else n.html("")},!0,!0)},showProductDiscountable:function(){switch(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"sale_place_id")){case sl9.struct.consta.SalePlaceNoti:if(!(t=sl9.discount.main.buildCurrentDiscountable()))return;nfec.event_hub.Trigger("notify_discount_msg",{content:t});break;case sl9.struct.consta.SalePlaceWidget:var t;if(!(t=sl9.discount.main.buildCurrentDiscountable(!0)))return;t='<div id="tdf_sale_widget" class="tdf_container"><div class="tdf_nonpopup">'+t+"</div></div>";var e=jQuery(".tdfPlaceSale").first();if(e.length)return void e.after(t);nfec.platform.current.element.GetAddCartForms(!0).prepend(t)}},buildCurrentDiscountable:function(t){var e=nfec.manager.discountable.GetCurrentProductData(t);if(e)return e.offer_type_id==sl9.struct.consta.OfferTypeFirst&&sl9.common.track.AddAction(sl9.struct.consta.ActionTrackImpression,e.offer_type_id,e.offer_id),sl9.common.tpl.Render(sl9.notify.snippet_product_discountablehtm,{discountable:e})},HandleGift:function(){var h=nfec.gift_props||{gift:"100% discount"},n=function(){var t=sl9.manager.draft_order.Get();if(t){var e,n,i=nfec.manager.cart.Get(),o={},r={};if(nfec.addgift2cart)for(var d=0,a=t.items.length;d<a;d++)(e=t.items[d]).isFree()&&(o[e.variant_id]=e.quantity);for(d=0,a=i.gifts.length;d<a;d++)r[(e=i.gifts[d]).variant_id]||(r[e.variant_id]=0),r[e.variant_id]+=e.quantity;var c,f,_={};for(n in r)r.hasOwnProperty(n)&&(f=(o[n]||0)-r[n])&&(_[n]=f,c=!0);var s=[];for(n in o)o.hasOwnProperty(n)&&(r[n]||s.push({id:parseInt(n),quantity:o[n],properties:h}));var l=function(t){nfec.fl_gifting=1,nfec.util.request.Run({method:"POST",url:nfec.main.PRo+"cart/add.js",dataType:"json",data:{items:t},success:function(t){nfec.sync.cart.CheckLastListen(),nfec.event_hub.Trigger("gift_updated",{})},error:function(){}})};if(c){var u,p={};t:for(n in _)if(_.hasOwnProperty(n))for(d=0,a=i.gifts.length;d<a;d++)if((e=i.gifts[d]).variant_id==n){if(!((u=e.quantity+_[n])<0)){p[e.key]=u;continue t}p[e.key]=0,_[n]=u}nfec.fl_gifting=1,nfec.util.request.Run({method:"POST",url:nfec.main.PRo+"cart/update.js",dataType:"json",data:{updates:p},success:function(t){s.length?l(s):(nfec.sync.cart.CheckLastListen(1),nfec.event_hub.Trigger("gift_updated",{}))},error:function(){}})}else s.length&&l(s)}};nfec.event_hub.ListenTo("gift_update",function(t){setTimeout(n,200)}),nfec.event_hub.ListenTo("cart_updated",function(t){setTimeout(n,200)},!0,!0),nfec.event_hub.ListenTo("selected_gift",function(t,e){n()}),nfec.event_hub.ListenTo("loyal_content_widget",function(t,e){setTimeout(n,200)})}},sl9.discount.snippet_codeaddedhtm={m:'<div class="tdf_discounted_dcode"><div class="tdf_discount_icon tdf_discount_icon_{{consta.DiscountTypeCode}}"></div><div class="tdf_discount_content"> {{coupon_code}} <span class="tdfe dcode_remove_btn" data-e="dcode_remove"> &#10005; </span><div class="tdf_coupon_mess">{{sl9.data.settings.8.discount_cal_at_checkout}}</div></div></div>',subs:[]},sl9.discount.snippet_codeboxhtm={m:'<div class="tdf_input_form"><input type="text" class="tdf_input_discount" placeholder="{{sl9.data.settings.8.cart_discount_code}}"><button type="button" class="tdf_normal_btn tdfe" data-e="dcode_apply">{{sl9.data.settings.8.apply}}</button></div>',subs:[]},sl9.discount.widgethtm={m:'<div id="tdf_discount_widget" class="tdf_content_section_discounted tdf_container tdf_nonpopup"> {_ if is_moti _}0{_ endif _} {_ if discounteds.length _}5{_ endif _} {_ if coupon_added _}1{_ endif _} <div class="tdf_loyal_div"> {{loyal_content}} </div> {_ if is_moti_wsale _}2{_ endif _} {_ if coupon_enable _}3{_ endif _}</div>',subs:[" {{motivator}} "," {{ include sl9.discount.snippet_codeadded }} "," {{motiWholesale}} "," {{ include sl9.discount.snippet_codebox }} "," {{ include sl9.notify.snippet_product_discounted plus promoItem as promoItem }} "," <h3>{{sl9.data.settings.8.your_discount}}:</h3> {_ for i,promoItem in discounteds _}4{_ endfor _} "]},sl9.discount.widget={LoyalContent:"",Start:function(){if(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"mini_dwidget_off")&&nfec.platform.current.page.Detect().type!=nfec.consta.PageTypeCart)return;var x="#tdf_discount_widget",T="#tdf_discount_box",r=function(t){var e=0,n=jQuery(x);if(n.length){if(t)return;e=1}if(e||(n=jQuery(".tdfPlaceDiscounts")).length&&(e=2),!e&&(n=nfec.platform.current.element.GetCartFormDom(!0)).length){e=3;var i=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"theme_d_place")||".ajaxcart__inner--has-fixed-footer,.drawer__inner--has-fixed-footer";nfec.thm.cb&&(i+=","+nfec.thm.cb);var o=n.find(i);o.length&&(n=o)}var r=0,d=jQuery(".tdfPlaceDiscountBox");if(d.length&&(r=2),e||r){var a=sl9.manager.draft_order.Get(),c=[],f=sl9.manager.draft_order.GetTotalDiscount(a);if(!(8413<nfec.manager.setting.Data.id||sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"cart_mt"))||a.items.length){var _=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"saving_hide");if(0<f&&!_){var s=nfec.manager.cart.Get();c.push({discount_type:nfec.consta.DiscountTypeValue,discount_value:f,quantity:s.getTotalAddeds()})}var l=sl9.manager.promo.Get();c=c.concat(l.getSum());var u=sl9.discount.widget.LoyalContent,p=sl9.motivator.noti.BuildProgress(),h=sl9.wholesale.moti.BuildProgress(),m=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"cart_coupon"),g=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"cart_coupon_restrict"),y=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"enable_cart_code");if(y&&2888<nfec.manager.setting.Data.id&&!g&&(m=!0),c.length||p||h||u||m){var v={discounteds:c,motivator:p,motiWholesale:h,is_moti:p?1:0,is_moti_wsale:h?1:0,loyal_content:u};if(a.has_discount||m){var b=sl9.manager.dcode.Get();y&&(b&&b.code?(v.coupon_added=1,v.coupon_code=b.code):v.coupon_enable=1)}if(r){var w=sl9.common.tpl.Render(sl9.discount.boxhtm,v);switch(r){case 2:jQuery(T).length?jQuery(T).replaceWith(w):d.after(w)}v.coupon_added=0,v.coupon_enable=0}var k=sl9.common.tpl.Render(sl9.discount.widgethtm,v);switch(n=n.first(),e){case 1:n.replaceWith(k);break;case 2:setTimeout(function(){jQuery(x).length||n.after(k)},150);break;case 3:setTimeout(function(){jQuery(x).length||n.prepend(k)},150)}}else jQuery("#tdf_discount_widget").hide()}}};nfec.event_hub.ListenTo("loyal_content_widget",function(t,e){jQuery(".tdf_loyal_div").html(e.content),sl9.discount.widget.LoyalContent=e.content,r()},!0,!0),nfec.event_hub.ListenTo("promo_updated",function(){setTimeout(function(){r()},900)},!0,!0),nfec.event_hub.ListenTo("selected_gift",function(){r()}),nfec.event_hub.ListenTo("reload_cart",function(){r()}),nfec.event_hub.ListenTo("request_got_cart",function(){r(!0),setTimeout(function(){r(!0)},900)}),jQuery(document).on("cart:rerendered",function(){r(!0)}),nfec.event_hub.ListenTo("dcode_remove",function(t,e){sl9.manager.dcode.Remove(1),r()}),nfec.event_hub.ListenTo("dcode_apply",function(t,e){var n=e.els,i=n.closest(".tdf_input_form").find(".tdf_input_discount").val();if(i=i.trim()){nfec.util.tpl.AddBtnLoading(n);var o=function(){var t=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"invalid_code");nfec.noti.control.Run(t,4e3)};sl9.dcode.main.HandleApply(i,o,function(t){if(sl9.manager.dcode.PreCheckCode()){var e=sl9.manager.dcode.Get();if(e.opc){if(nfec.manager.coupon.CkFlag(e.code))return o(),void sl9.manager.dcode.Remove();nfec.manager.coupon.Flag(e.code)}var n={discount_code:e.code};nfec.platform.current.cart_api.AddAttr(n),r()}else o()},function(){nfec.util.tpl.RemoveBtnLoading(n)})}})}},sl9.label={},sl9.label.discountablehtm={m:"{_ if discountable.discount_type == consta.DiscountTypeFreeShip _}0{_ endif _}{_ if discountable.discount_type == consta.DiscountTypeFreeGift _}1{_ endif _}{_ if discountable.discount_type == consta.DiscountTypeValue || discountable.discount_type == consta.DiscountTypePercent _}4{_ endif _}",subs:["{{sl9.data.settings.8.free_ship}}","+ {{sl9.data.settings.8.free_gift}}"," {{variant.display_price.toCurrency}} {_ else _} {{sl9.data.settings.8.ribbon_price}} "," {_ if sl9.data.settings.8.ribbon_price_default _}2{_ endif _}{_ else _}{{sl9.data.settings.8.sale}}","{_ if variant.is_discountable _}3{_ endif _}"]},sl9.label.main={Data:{},Start:function(){sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"ribbon_off")||(nfec.event_hub.ListenTo("promo_updated",function(t,e){sl9.label.main.addLabel()},!0,!0),nfec.event_hub.ListenTo("quick_view_showed",function(t,e){sl9.label.main.addLabel()}),nfec.event_hub.ListenTo("update_label",function(t,e){sl9.label.main.addLabel()}),nfec.event_hub.ListenTo("select_variant",function(t,e){sl9.label.main.addLabel()}),setTimeout(function(){sl9.label.main.addLabel()},4e3),setTimeout(function(){sl9.label.main.addLabel()},8e3),nfec.event_hub.ListenTo("page_scroll",function(t,e){sl9.label.main.addLabel()}),nfec.event_hub.ListenTo("url_change",function(t,e){sl9.label.main.addLabel()}),jQuery(document).on("Searchanise.DataRequestEnd",function(){setTimeout(function(){sl9.label.main.addLabel()},300)}))},Add:function(t,e){sl9.label.main.Data[t]=e},addLabel:function(){var t=sl9.struct.consta.SettingTypeOther,w=sl9.main.GetData("settings",t,"ribbon_place_id"),k=sl9.main.GetData("settings",t,"label_min_img_h")||80,x=sl9.main.GetData("settings",t,"label_sel")||"img,._custom_theme_img,.grid-product__image-mask,.snize-item,.snize-overhidden,picture",T="",S="left";switch(w){case 2:case 3:case 4:case 5:T="tdf_label_v tdf_label_v"+w;break;case 1:T="tdf_ribbon tdf_ribbon_right",S="right";break;default:T="tdf_ribbon"}jQuery(".tdf_label").remove(),jQuery("body").find('a[href*="/products/"],.fakea[href*="/products/"]').each(function(){var t=jQuery(this),e=t.closest("form").attr("action");if(nfec.thm.lf||!e||-1==e.indexOf("/cart")&&-1==e.indexOf("/checkout")){var n=t.attr("href");if(-1==n.indexOf(".shopify.com")&&!t.closest(".slideshow").length){var i=nfec.platform.current.product.GetHandleFromHref(n),o=nfec.manager.product.FindByHandle(i);if(o){var r=parseInt(t.data("vid")),d=sl9.label.main.Data[o.id],a=o.variants[0];r&&(a=o.getVariantByID(r));var c=!0;if(sl9.label.cstF&&(c=sl9.label.cstF(t,o,a,d)),!d){if(!c)return;var f=nfec.manager.discountable.Get(o.id,r);if(!f)return;d=sl9.common.tpl.Render(sl9.label.discountablehtm,{product:o,variant:a,discountable:f})}var _=nfec.util.tpl.ToCurrency(a.display_price());d=d.replace("{price}",_);var s=t;nfec.thm.lp&&(s=t.closest(nfec.thm.lp));var l,u=s.find(x);if(nfec.thm.ls){var p=s.find(nfec.thm.ls);p.length&&(u=p)}if(u.length||(u=t.closest(".product-card-wrapper,.card-wrapper").find(".card__media")),sl9.label.cstFI&&(u=sl9.label.cstFI(t,u)),!u.length)if(t.hasClass("tdf_img_parent"))u=t.find(".tdf_img_fake"),l=!0;else{var h=t.closest(".ais-infinite-hits--item");if(!(u=h.length?h.find(".ais-hit--picture"):(h=t.parent()).find("img")).length)return}var m,g=0;if(u.each(function(){var t=jQuery(this),e=t.innerHeight();"0"!==t.css("opacity")&&"0"!==t.parent().css("opacity")&&g<e&&(m=t,g=e)}),l||!(g<k)){var y=m.hasClass("tdf_vertical_img")?m:m.parent();if(!l&&y.innerHeight()<.9*g){if((y=y.parent()).innerHeight()<.9*g)return;if(y.innerHeight()>1.4*g)return}var v=y.css("position");v&&"static"!=v||y.css("position","relative");var b={};w<2&&(b=function(t){var e=t.innerHeight(),n=t.innerWidth(),i=n<e?n:e;if(700<i||i<120){var o=t.parent();e=o.innerHeight(),i=(n=o.innerWidth())<e?n:e}400<i&&(i=400),i<200&&(i=200);var r=i/200,d=parseInt(75*r),a=parseInt(19*r),c=parseInt(-21*r),f=parseInt(100*r),_=parseInt(20*r),s=parseInt(10*r),l="width:"+f+"px;top:"+a+"px;"+S+":"+c+"px;line-height:"+_+"px;font-size:"+s+"px";return{div:'style="width:'+d+"px;height:"+d+'px"',span:'style="'+l+'"',stl:l}}(m)),y.prepend(sl9.common.tpl.Render(sl9.label.tplhtm,{message:d,div_style:b.div,span_style:b.span,place_class:T})),w<2&&y.find(".tdf_ribbon .tdf_money").attr("style",b.stl)}}}}})}},sl9.label.tplhtm={m:'<div class="tdf_label {{place_class}}" {{div_style}}><span class="tdf_ribbon_span" {{span_style}}>{{message.toTranslate}}</span></div>',subs:[]},sl9.loyal={},sl9.loyal.acchtm={m:'<div class="tdf_loyal_discountable"><div>{{point_message}}</div><a href="javascript:;" class="tdfe" data-e="loyal_rewards_show">{{sl9.data.settings.8.lo_reward_view}}</a></div>',subs:[]},sl9.loyal.discountedhtm={m:'<div class="tdf_discounted_loyal"><div class="tdf_discount_icon tdf_discount_icon_9"></div><div class="tdf_discount_content"> {_ if promoItem.discount_type == consta.DiscountTypeFreeShip _}0{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypeFreeGift _}1{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypeValue _}2{_ endif _} </div></div>',subs:[" {{sl9.data.settings.8.free_ship}} {{ include sl9.loyal.snippet_close }} "," {{ include sl9.loyal.snippet_gift }} ",' {{promoItem.toCDsc}}{{ include sl9.loyal.snippet_close }} <div class="tdf_coupon_mess">{{sl9.data.settings.8.discount_cal_at_checkout}}</div> ']},sl9.loyal.acc={Start:function(){sl9.loyal.point_s.Start(),nfec.event_hub.ListenTo("point_ready",function(t,e){sl9.notify.main.LoyalContent=!0,nfec.event_hub.Trigger("minicon_show");var i=function(t){return sl9.common.tpl.Render(sl9.loyal.acchtm,{point_message:sl9.loyal.util.GetPointMessage(t)})},o=!1,n=function(t){if(!o){var e=sl9.loyal.point_m.Get();if(e||t){var n=i(e);o=!0,sl9.loyal.point_noti_m.Set(1),nfec.event_hub.Trigger("notify_discount_msg",{content:n})}}};nfec.event_hub.ListenTo("customer_login",function(t,e){n(!0)},!0),sl9.loyal.point_noti_m.Get()||n(),nfec.event_hub.ListenTo("notify_discount_popup_discountable",function(){var t=sl9.loyal.point_m.Get(),e=i(t);nfec.event_hub.Trigger("notify_discount_popup_discountable_add",{content:e})})},!0)}},sl9.loyal.discountinghtm={m:'<div class="tdf_discounting_loyal"><div class="tdf_discount_icon tdf_discount_icon_9"></div><div class="tdf_discount_content"> {_ if promoItem.discount_type == consta.DiscountTypeFreeShip _}0{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypeFreeGift _}1{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypeValue _}2{_ endif _} </div></div>',subs:[" {{sl9.data.settings.8.free_ship}}<br>{{sl9.data.settings.8.added}} "," {{ assign discounting = 1 }} {{ include sl9.loyal.snippet_gift }} "," {{promoItem.toCDsc}} {{sl9.data.settings.8.added}} "]},sl9.loyal.point_c=function(){this.point=0,this.parseState=function(t){var e=JSON.parse(t);this.point=e.p},this.toState=function(){var t={p:this.point};return JSON.stringify(t)}},sl9.loyal.main={Start:function(){sl9.main.GetData("settings",sl9.struct.consta.SettingTypeLoyal,"active")&&(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeLoyal,"online_off")||(sl9.loyal.main.formatOffers(),nfec.manager.customer.Get()?(sl9.loyal.acc.Start(),sl9.loyal.reward.Start()):sl9.loyal.welcome.Start()))},formatOffers:function(){var t=sl9.struct.consta.OfferTypeLoyal,e=sl9.manager.offer.List(t);e.sort(function(t,e){var n=t.trigger.compare(e.trigger);return n||(t.point<e.point?-1:t.point>e.point?1:t.id>e.id?-1:1)}),sl9.manager.offer.Set(t,e)}},sl9.loyal.point_m={Set:function(t){var e=new sl9.loyal.point_c;e.point=t,nfec.store.control.Set("lop",e.toState(),864e3,!0)},Get:function(){var t=nfec.store.control.Get("lop");if(!t)return null;var e=new sl9.loyal.point_c;return e.parseState(t),e.point},Remove:function(){nfec.store.control.Remove("lop")}},sl9.loyal.point_noti_m={Set:function(t){nfec.store.control.Set("pon",t,86400,!0)},Get:function(){return nfec.store.control.Get("pon")}},sl9.loyal.point_s={Start:function(){nfec.event_hub.ListenTo("customer_update",function(t,e){sl9.loyal.point_m.Remove()},!0);var t=nfec.manager.customer.Get(),e=sl9.loyal.point_m.Get(),n=function(){nfec.event_hub.Trigger("point_ready")};e?n():nfec.util.request.Api({url:"2/lo/p",method:"GET",timeout:1e4,data:{cid:t.id,vtx:nfec.util.tool.GetSecond()},success:function(t){void 0!==t.p&&(sl9.loyal.point_m.Set(t.p),n())},error:function(){}},!0)}},sl9.loyal.reward={Start:function(){var a=sl9.struct.consta.OfferTypeLoyal;nfec.event_hub.ListenTo("customer_update",function(t,e){sl9.loyal.rewards_m.Remove()},!0),nfec.event_hub.ListenTo("loyal_rewards_show",function(t,e){var n=sl9.manager.offer.List(a),i=sl9.loyal.point_m.Get(),o=sl9.common.tpl.Render(sl9.loyal.rewardshtm,{point:i,point_message:sl9.loyal.util.GetPointMessage(i),offers:n});nfec.modal.control.Run(o)});var e=function(){for(var t=sl9.loyal.rewards_m.Get(),e="",n=0;n<t.items.length;n++){var i=t.items[n],o=sl9.manager.offer.Get(a,i.offer_id);o&&(e+=sl9.common.tpl.Render(sl9.loyal.discountedhtm,{promoItem:{offer_id:o.id,offer_type_id:a,reward_id:i.id,discount_type:o.discount.type_id,discount_value:o.discount.value,product_id:i.pid,variant_id:i.vid}}))}return e};nfec.event_hub.ListenTo("select_reward_gift",function(t,e){var n=sl9.loyal.rewards_m.Get(),i=n.find(e.rid);i&&(i.pid=e.pid,i.vid=e.vid,sl9.loyal.rewards_m.Set(n),c())}),nfec.event_hub.ListenTo("notify_discount_popup_discountable",function(){var t=e();t&&nfec.event_hub.Trigger("notify_discount_popup_discountable_add",{content:t,append:1})});var c=function(){var t=e();sl9.manager.draft_order.IsLoyal=!!t,nfec.event_hub.Trigger("loyal_content_widget",{content:t})};c(),nfec.event_hub.ListenTo("loyal_reward_redeem",function(t,e){var d=parseInt(e.els.data("oid"));nfec.loading.control.Start();var n=nfec.manager.customer.Get();nfec.util.request.Api({url:"2/lo/rd",method:"POST",timeout:1e4,data:{rid:d,cid:n.id},success:function(t){if(t.i){nfec.loading.control.Stop(),sl9.loyal.point_m.Set(t.p);var e=sl9.manager.offer.Get(a,d),n=sl9.loyal.rewards_m.Get(),i=new sl9.loyal.reward_c;if(i.offer_id=d,e.discount.type_id==nfec.consta.DiscountTypeFreeGift)if(i.pid=e.discount.pids[0],e.discount.vids.length)i.vid=e.discount.vids[0];else{var o=nfec.manager.product.FindByID(i.pid);i.vid=o.variants[0].id}i.id=t.i,n.addItem(i),sl9.loyal.rewards_m.Set(n),nfec.modal.control.Close();var r=sl9.common.tpl.Render(sl9.loyal.discountinghtm,{promoItem:{offer_type_id:a,offer_id:e.id,discount_type:e.discount.type_id,discount_value:e.discount.value,product_id:i.pid,variant_id:i.vid}});nfec.event_hub.Trigger("notify_discount_msg",{content:r}),c(),sl9.common.checkout.handleCart()}},error:function(){nfec.loading.control.Stop()}},!0)}),nfec.event_hub.ListenTo("loyal_reward_revert",function(t,e){var n=parseInt(e.els.data("rid")),i=sl9.loyal.rewards_m.Get().find(n);if(i){nfec.loading.control.Start();var o=nfec.manager.customer.Get();nfec.util.request.Api({url:"2/lo/rv",method:"POST",timeout:1e4,data:{tid:i.id,cid:o.id},success:function(t){if(t.i){nfec.loading.control.Stop(),sl9.loyal.point_m.Set(t.p);sl9.loyal.rewards_m.RemoveByID(i.id);jQuery(".tdf_notify_minicon_close").trigger("click"),c(),sl9.common.checkout.handleCart()}},error:function(){nfec.loading.control.Stop()}},!0)}})}},sl9.loyal.reward_c=function(){this.id=0,this.offer_id=0,this.pid=null,this.vid=null,this.parseState=function(t){this.id=t.n,this.offer_id=t.r,this.pid=t.p,this.vid=t.v},this.toState=function(){return{n:this.id,r:this.offer_id,p:this.pid,v:this.vid}}},sl9.loyal.rewardshtm={m:'<div id="tdf_loyal_rewards"><div class="tdf_point_message">{{point_message}}</div><div class="tdf_loyal_earn">{{sl9.data.settings.8.lo_earn}}</div> {_ for r,offer in offers _}1{_ endfor _}</div>',subs:[" tdf_loyal_disable_btn {_ else _} tdfe ",' <div><div class="tdf_loyal_offer"><span class="tdf_loyal_offer_message">{{offer.message.toTranslate}}</span><br><span class="tdf_loyal_offer_point">{{offer.point}} {{sl9.data.settings.8.lo_points}}</span></div><button type="button" class="tdf_loyal_rewards_btn {_ if offer.point > point _}0{_ endif _}" data-e="loyal_reward_redeem" data-oid="{{offer.id}}">{{sl9.data.settings.8.lo_redeem}}</button></div> ']},sl9.loyal.rewards_c=function(){this.items=[],this.find=function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].id==t)return this.items[e];return null},this.removeItem=function(t){for(var e=[],n=0;n<this.items.length;n++)this.items[n].id!=t&&e.push(this.items[n]);this.items=e},this.addItem=function(t){this.items.push(t)},this.parseState=function(t){var e=JSON.parse(t);if(this.items=[],e.i)for(var n,i=0,o=e.i.length;i<o;i++)(n=new sl9.loyal.reward_c).parseState(e.i[i]),this.items.push(n)},this.toState=function(){for(var t={i:[]},e=0,n=this.items.length;e<n;e++)t.i.push(this.items[e].toState());return JSON.stringify(t)}},sl9.loyal.rewards_m={Set:function(t){nfec.store.control.Set("lor",t.toState(),864e3,!0)},Get:function(){var t=nfec.store.control.Get("lor"),e=new sl9.loyal.rewards_c;return t&&e.parseState(t),e},RemoveByID:function(t){var e=sl9.loyal.rewards_m.Get();e.removeItem(t),sl9.loyal.rewards_m.Set(e)},Remove:function(){nfec.store.control.Remove("lor")}},sl9.loyal.snippet_closehtm={m:'<span class="tdfe dcode_remove_btn" data-e="loyal_reward_revert" data-rid="{{promoItem.reward_id}}"> &#10005; </span>',subs:[]},sl9.loyal.snippet_gifthtm={m:'<div class="tdf_gift" data-offer-type-id="{{promoItem.offer_type_id}}" data-offer-id="{{promoItem.offer_id}}" data-promoitem-id="{{promoItem.reward_id}}"> {{ assign gift = products.{{{promoItem.product_id}}} }} <div class="tdf_discount_tag"> {{sl9.data.settings.8.free_gift}} {_ if discounting _}0{_ endif _} </div><div class="tdf_discount_text"><a href="javascript:;" class="tdf_gift_title tdfe" data-e="show_free_gifts" data-pid="{{promoItem.product_id}}" title="{{gift.title.toInput}}" data-vid="{{promoItem.variant_id}}">{{gift.getTitle}}</a></div></div>',subs:[" {{sl9.data.settings.8.added}} {_ else _} {{ include sl9.loyal.snippet_close }} "]},sl9.loyal.util={GetPointMessage:function(t){var e=sl9.struct.consta.SettingTypeTrans,n='<span class="tdf_point">'+t+"</span> ";n+=1<t?sl9.main.GetData("settings",e,"lo_points"):sl9.main.GetData("settings",e,"lo_point");var i=sl9.main.GetData("settings",e,"lo_have");return i=i.replace("{point}",n)},HandleDraftOrder:function(t){for(var e=sl9.struct.consta.OfferTypeLoyal,n=sl9.loyal.rewards_m.Get(),i=0;i<n.items.length;i++){var o=n.items[i],r=sl9.manager.offer.Get(e,o.offer_id);if(r){var d=new sl9.model.draft_order_item,a=new sl9.model.draft_order_discount;switch(r.discount.type_id){case nfec.consta.DiscountTypeFreeShip:t.setFreeShip(1);break;case nfec.consta.DiscountTypeFreeGift:var c=nfec.manager.product.FindByID(o.pid);if(!c)break;var f=c.getVariantByID(o.vid);if(!f)break;a.fromFreeGift(f.price,1,{offer_id:r.id,offer_type_id:e}),d.variant_id=o.vid,d.quantity=1,d.discount=a,d.price=f.price,t.has_discount=!0,t.addItem(d);break;case nfec.consta.DiscountTypeValue:var _=t.getTotalAmountBeforeCartDiscount(),s=r.discount.value;t.discount&&(s+=t.discount.value),(a=new sl9.model.draft_order_discount).fromDiscount({discount_type:nfec.consta.DiscountTypeValue,discount_value:s},_),t.discount=a}t.setLoyal()}}}},sl9.loyal.welcomehtm={m:'<div id="tdf_loyal" class="tdf_container"><div class="tdf_loyal_container"><div>{{sl9.data.settings.8.lo_welcome}}</div><div>{{sl9.data.settings.8.lo_join}}</div><a class="tdf_loyal_login" href="/account/login">{{sl9.data.settings.8.lo_signin}}</a><a href="/account/register">{{sl9.data.settings.8.lo_signup}}</a></div></div>',subs:[]},sl9.loyal.welcome={Start:function(){var t=nfec.platform.current.page.Detect();if(-1!=[nfec.consta.PageTypeHome,nfec.consta.PageTypeProduct,nfec.consta.PageTypeCart,nfec.consta.PageTypeCollection].indexOf(t.type)){var e=sl9.common.tpl.Render(sl9.loyal.welcomehtm,{}),n=jQuery(".tdfPlaceLoyal");if(n.length)n.first().after(e);else{var i=jQuery(".endOfLayoutContentX").first().parent(),o=i.children("footer");o.length?o.first().before(e):i.append(e)}}}},sl9.motivator={},sl9.motivator.main={Start:function(){sl9.motivator.main.formatOffers(),sl9.motivator.noti.Start()},formatOffers:function(){var t=sl9.struct.consta.OfferTypeCart,e=sl9.manager.offer.List(t);e.sort(function(t,e){return t.goal>e.goal?-1:1}),sl9.manager.offer.Set(t,e)}},sl9.motivator.noti={Start:function(){var o=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"motivator_once"),r=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"motivator_nonoti"),d=!1;nfec.event_hub.ListenTo("promo_updated",function(t,e){if(!e.compared||!e.compared.added.length&&!e.compared.removed.length){var n=sl9.motivator.noti.Find();if(n&&!n.current_amount){var i=sl9.manager.offer.Get(sl9.struct.consta.OfferTypeCart,n.offer_id),o=i.trigger.isPreSelect()?"mpf":"mcf";if(!sl9.manager.idsflag.Check(o,i.id)){var r=sl9.motivator.noti.build(n);sl9.manager.idsflag.Add(o,i.id),r&&nfec.event_hub.Trigger("notify_discount_msg",{prepend:1,content:r})}}}},!0,!0),nfec.event_hub.ListenTo("cart_empty",function(t,e){e.compared&&e.compared.removed.length&&(nfec.store.control.Remove("mcf"),nfec.store.control.Remove("mpf"))},!0,!0),nfec.event_hub.ListenTo("notify_discount_popup_discountable",function(){var t=sl9.motivator.noti.BuildProgress();t&&nfec.event_hub.Trigger("notify_discount_popup_discountable_add",{content:t})});var n=function(t,i){if(!sl9.common.checkout.IsCheckingOut){if(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"discount_widget"))if(nfec.platform.current.page.Detect().type==nfec.consta.PageTypeCart){if(jQuery(".tdfPlaceDiscounts").length)return;if(nfec.platform.current.element.GetCartFormDom(!0).length)return}setTimeout(function(){if(!(r||d&&o)){var t=i.added[0],e=sl9.motivator.noti.Find(t);if(e){var n=sl9.motivator.noti.build(e);n&&(d=!0,nfec.event_hub.Trigger("notify_discount_msg",{prepend:1,content:n}))}}},100)}};nfec.event_hub.ListenTo("cart_item_added_by_update",function(t,e){n(0,e.compared)}),nfec.event_hub.ListenTo("cart_item_added",function(t,e){n(0,e)},!0,!0)},Find:function(t){var e,n=nfec.manager.cart.Get(),i=sl9.struct.consta.OfferTypeCart,o=sl9.manager.offer.List(i),r=nfec.platform.current.page.Detect(),d=sl9.manager.draft_order.Get(),a=[],c=[];t&&(a=[t.product_id],c=[t.variant_id]),a.length||r.type==nfec.consta.PageTypeProduct&&(a=[r.payload.id]),n&&(a.length||(a=n.getProductIDs()),c=n.getVariantIDs());for(var f=d.getTotalAmountBeforeCartDiscount(null,null,1),_=o.length-1;0<=_;_--)if((e=o[_]).trigger.isPreSelect()&&e.trigger.areIn(a,c)&&(e.discount.type_id!=nfec.consta.DiscountTypeFreeShip||!d.free_ship)){var s=e.is_category?d.getTotalAmountBeforeCartDiscount(e.trigger.getPIDs(),e.trigger.getVIDs(),e.discount.type_id):f,l=e.goal-s;if(!e.goal&&!s&&e.first_message)return e.getDiscountable(s,l);if(!(l<=0)&&(s||e.first_message))return e.getDiscountable(s,l)}for(_=o.length-1;0<=_;_--)if(!((e=o[_]).trigger.isPreSelect()||e.discount.type_id==nfec.consta.DiscountTypeFreeShip&&d.free_ship)){l=e.goal-f;if(!e.goal&&!f&&e.first_message)return e.getDiscountable(f,l);if(!(l<=0)&&(f||e.first_message))return e.getDiscountable(f,l)}return null},build:function(t){var e=sl9.manager.offer.Get(sl9.struct.consta.OfferTypeCart,t.offer_id);sl9.common.track.AddAction(sl9.struct.consta.ActionTrackView,t.offer_type_id,t.offer_id);var n=e.message||"";if(t.current_amount||(n=e.first_message),!n)return"";var i=sl9.common.tpl.Render(sl9.notify.cart_discountable_transhtm,{discountable:t}),o=t.remain_amount;o<.01&&(o=.01),n=nfec.util.tpl.ToTranslate(n);var r=function(){n=nfec.util.tool.Replaces(n,"{discount}",i),n=nfec.util.tool.Replaces(n,"{amount}",nfec.util.tpl.ToCurrency(o)),n=nfec.util.tool.Replaces(n,"{goal}",nfec.util.tpl.ToCurrency(e.goal))};if(r(),r(),!t.current_amount)return sl9.common.tpl.Render(sl9.notify.snippet_cart_discountablehtm,{message:n,discountable:t});var d=Math.floor(98*t.current_amount/e.goal);return sl9.common.tpl.Render(sl9.notify.snippet_cart_progresshtm,{message:n,progress_style:'style="width:'+d+'%"'})},BuildProgress:function(){var t=sl9.motivator.noti.Find();if(t)return sl9.motivator.noti.build(t)}},sl9.motivator.promo={HandlePromo:function(t){var e,n=nfec.manager.cart.Get(),i=sl9.struct.consta.OfferTypeCart,o=sl9.manager.offer.List(i),r=nfec.manager.cart.GetCurrentProductIDs(),d=n?n.getVariantIDs():[];r.push(1);var a=sl9.manager.promo.Get(),c=new sl9.manager.gifter;c.init(a);var f=sl9.manager.draft_order.Get(t),_=f.getTotalAmountBeforeCartDiscount(),s=function(){var t=new sl9.model.promo_item;return t.offer_type_id=i,t.offer_id=e.id,t.app_id=sl9.struct.app.id,t.is_cart=!0,t.quantity=1,t},l=n.getAllItems(),u=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"gift_once"),p=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"offer_once"),h=!1,m=!1,g=0,y=0,v=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"discountable_no");t:for(var b=0;b<o.length;b++)if(!(((e=o[b]).is_category?f.getTotalAmountBeforeCartDiscount(e.trigger.getPIDs(),e.trigger.getVIDs(),e.discount.type_id):_)<e.goal)&&(!e.trigger.isPreSelect()||e.trigger.areIn(r,d))&&!(p&&m&&e.goal<y)){m=!0,y=e.goal,(x=s()).discount_type=e.discount.type_id,x.discount_value=e.discount.value;var w=!1;switch(e.discount.type_id){case nfec.consta.DiscountTypeFreeShip:t.addItem(x);break;case nfec.consta.DiscountTypeFreeGift:if(u&&h&&e.goal<g)continue t;if(c.serve(i,e,x))continue;h=!0,g=e.goal,t.addItem(x);break;case nfec.consta.DiscountTypeValue:t.addItem(x);break;default:if(!e.is_d_cat){t.addItem(x);continue}w=!0;for(var k=0;k<l.length;k++){var x,T=l[k];if(e.isIn(T.product_id,[T.variant_id]))(x=s()).is_cart=!1,x.discount_type=e.discount.type_id,x.discount_value=e.discount.value,x.product_id=T.product_id,x.variant_id=T.variant_id,x.price=T.price,t.addItem(x)}}if(e.is_category&&w&&!v)for(k=0;k<e.product_groups.length;k++)for(var S=0;S<e.product_groups[k].ids.length;S++){var D=new nfec.model.discountable;D.app_id=sl9.struct.app.id,D.discount_type=e.discount.type_id,D.discount_value=e.discount.value,D.offer_id=e.id,D.offer_type_id=i,D.product_id=e.product_groups[k].ids[S],D.vids=e.product_groups[k].vids,nfec.manager.discountable.Set(e.product_groups[k].ids[S],D)}}}},sl9.model={},sl9.model.bundle=function(){this.id=0,this.offer_id=0,this.is_auto=0,this.items=[],this.getVarIDs=function(){for(var t=[],e=0;e<this.items.length;e++)t.push(this.items[e].variant_id);return t},this.isValid=function(t){if(t&&t.length==this.items.length){for(var e=0,n=this.items.length;e<n;e++)if(-1==t[e].indexOf(this.items[e].variant_id))return;return!0}},this.parseState=function(t){if(this.id=t.n,this.offer_id=t.o,this.is_auto=t.a,this.items=[],t.i)for(var e,n=0,i=t.i.length;n<i;n++)(e=new sl9.model.bundle_item).parseState(t.i[n]),this.items.push(e)},this.toState=function(){for(var t={n:this.id,a:this.is_auto,o:this.offer_id,i:[]},e=0,n=this.items.length;e<n;e++)t.i.push(this.items[e].toState());return t}},sl9.model.bundle_item=function(){this.product_id=0,this.variant_id=0,this.toState=function(){return{p:this.product_id,v:this.variant_id}},this.parseState=function(t){this.product_id=t.p,this.variant_id=t.v}},sl9.model.bundles=function(){this.items=[],this.c=1,this.getID=function(){var t=new Date,e=Math.ceil(t.getTime()/1e3)+this.c;return this.c++,e},this.removeItem=function(t){for(var e=[],n=0;n<this.items.length;n++)this.items[n].id!=t&&e.push(this.items[n]);this.items=e},this.addItem=function(t){return t.id=this.getID(),this.items.push(t),t.id},this.parseState=function(t){var e=JSON.parse(t);if(this.items=[],e.i)for(var n,i=0,o=e.i.length;i<o;i++)(n=new sl9.model.bundle).parseState(e.i[i]),this.items.push(n)},this.toState=function(){for(var t={i:[]},e=0,n=this.items.length;e<n;e++)t.i.push(this.items[e].toState());return JSON.stringify(t)}},sl9.model.dcode=function(){this.code="",this.target_type="",this.target_selection="",this.allocation_method="",this.al=0,this.value_type="",this.value="",this.o_product_ids=[],this.o_variant_ids=[],this.o_collection_ids=[],this.t_customer=0,this.opc=0,this.t_product_ids=[],this.t_variant_ids=[],this.t_collection_ids=[],this.t_subtotal_range={not_less_than:0},this.t_quantity_range={not_less_than:0},this.t_shipping_price_range={not_greater_than:0},this.q_r={t_quantity:0,o_quantity:0},this.rp=0,this.collects={},this.items=[],this.isOncePerOrder=function(){return"across"==this.allocation_method&&"fixed_amount"==this.value_type},this.getDiscount=function(t){var e={discount_value:this.value,offer_type_id:10};switch(this.value_type){case"fixed_amount":e.discount_type=nfec.consta.DiscountTypeValue,t&&this.isOncePerOrder()&&(e.discount_value=this.value/t);break;default:e.discount_type=nfec.consta.DiscountTypePercent}return e},this.isCartTotalValid=function(t,e){var n=this.getOfferProductIDs(),i=this.o_variant_ids,o=this.t_quantity_range.not_less_than||1;return!(t.countVoP(n,i)<o)&&!((n.length||i.length?e.getItemAmountVoP(n,i):e.getTotalAmount())<this.t_subtotal_range.not_less_than)},this.getTriggerProductIDs=function(){if(this.t_product_ids.length)return this.t_product_ids;for(var t,e,n=[],i=0;i<this.t_collection_ids.length;i++)if(t=this.t_collection_ids[i],this.collects[t])for(e=this.collects[t].length,b=0;b<e;b++)-1==n.indexOf(this.collects[t][b])&&n.push(this.collects[t][b]);return n},this.getOfferProductIDs=function(){if(this.o_product_ids.length)return this.o_product_ids;for(var t,e,n=[],i=0;i<this.o_collection_ids.length;i++)if(t=this.o_collection_ids[i],this.collects[t])for(e=this.collects[t].length,b=0;b<e;b++)-1==n.indexOf(this.collects[t][b])&&n.push(this.collects[t][b]);return n},this.toState=function(){var t={c:this.code,i:this.id,tt:this.target_type,ts:this.target_selection,am:this.allocation_method,al:this.al,vt:this.value_type,v:this.value,op:this.o_product_ids,ov:this.o_variant_ids,oc:this.o_collection_ids,tb:this.t_customer,opc:this.opc,tp:this.t_product_ids,tv:this.t_variant_ids,tc:this.t_collection_ids,rt:{g:this.t_subtotal_range.not_less_than},rq:{g:this.t_quantity_range.not_less_than},rs:{l:this.t_shipping_price_range.not_greater_than},rr:{t:this.q_r.t_quantity,o:this.q_r.o_quantity},rp:this.rp,cl:this.collects};return JSON.stringify(t)},this.parseState=function(t){var e=JSON.parse(t);this.uncompress(e)},this.uncompress=function(t){this.code=t.c,this.id=t.i,this.target_type=t.tt,this.target_selection=t.ts,this.allocation_method=t.am,this.al=t.al,this.value_type=t.vt,this.value=t.v,this.o_product_ids=t.op||[],this.o_variant_ids=t.ov||[],this.o_collection_ids=t.oc||[],this.t_customer=t.tb,this.opc=t.opc,this.t_product_ids=t.tp||[],this.t_variant_ids=t.tv||[],this.t_collection_ids=t.tc||[],this.t_subtotal_range={not_less_than:t.rt.g},this.t_quantity_range={not_less_than:t.rq.g},this.t_shipping_price_range={not_greater_than:t.rs.l},this.q_r={t_quantity:t.rr.t,o_quantity:t.rr.o},this.rp=t.rp,this.collects=t.cl||{}},this.fromJSON=function(t){t.v=Math.abs(parseFloat(t.v)),t.i=t.id,t.rt=t.rt||{},t.rt.g=t.rt.greater_than_or_equal_to||0,t.rt.g=Math.abs(parseFloat(t.rt.g)),t.rq=t.rq||{},t.rq.g=t.rq.greater_than_or_equal_to||0,t.rs=t.rs||{},t.rs.l=t.rs.less_than_or_equal_to||0,t.rs.l=Math.abs(parseFloat(t.rs.l)),t.rr=t.rr||{},t.rr.t=t.rr.prerequisite_quantity||0,t.rr.o=t.rr.entitled_quantity||0,t.rp=parseFloat(t.rp),t.tb=t.t_customer?1:0,t.opc=t.opc?1:0,this.uncompress(t)}},sl9.model.draft_order=function(){this.id=0,this.items=[],this.free_ship=!1,this.discount=null,this.has_discount=!1,this.change_cart_price=!1,this.discount_code=null,this.min_cart=null,this.min_fship=null,this.cart_token=null,this.reserved={},this.currency="",this.notes={},this.is_loyal=!1,this.reserve=function(t,e){return this.reserved[t.variant_id]||(this.reserved[t.variant_id]=0),!(e.countByVIDs([t.variant_id])<=this.reserved[t.variant_id])&&(this.reserved[t.variant_id]+=1,!0)},this.setFreeShip=function(t){var e=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"skip_free_ship");this.free_ship=!0,t&&(this.ffs=1),e&&!t||nfec.IsDmodeNone||(this.has_discount=!0)},this.setLoyal=function(){this.is_loyal=!0,this.has_discount=!0},this.toJSON=function(){for(var t,e=[],n=0,i=0;i<this.items.length;i++)t=this.items[i].toJSON(),e.push(t),t.d&&t.d.a&&(n+=Math.floor(parseFloat(t.d.a)));var o=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"skip_free_ship")&&!this.ffs,r={i:e,s:!o&&this.free_ship,no:this.notes,il:this.is_loyal};!o&&this.free_ship&&(r.fst=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"free_ship")),this.discount&&(r.d=this.discount.toJSON(),r.d.ti=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"cart_discount"),n+=Math.floor(parseFloat(r.d.a))),this.discount_code&&(r.c=this.discount_code+"");var d=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"landing_tag");if(d){var a=sl9.manager.ckeyword.Get();if(a){var c=sl9.manager.keyword.Get(a);c&&c.title&&(r.ta=c.title)}"no"==d&&(r.ta="no")}return r.t=this.cart_token,r.m=this.currency,r.s&&(n+=1),n||(n=323),r.h=nfec.util.tool.H(n,"2",nfec.manager.setting.Data.id+""),r},this.getTotalAmount=function(){var t=this.getTotalAmountBeforeCartDiscount();return this.discount&&this.discount.amount&&(t-=this.discount.amount),t},this.getTotalAmountBeforeCartDiscount=function(t,e,n){for(var i,o=0,r=0;r<this.items.length;r++)if(i=this.items[r],(!t||-1!=t.indexOf(i.product_id))&&(!e||!e.length||-1!=e.indexOf(i.variant_id))&&(o+=i.price*i.quantity,i.discount&&i.discount.amount)){if((t||n)&&i.discount.offer_type_id==sl9.struct.consta.OfferTypeCart&&!i.isFree())continue;o-=i.discount.amount}return o},this.getItemAmountVoP=function(t,e){for(var n,i=0,o=0;o<this.items.length;o++)if(n=this.items[o],(!t.length&&!e.length||-1!=t.indexOf(n.product_id)||-1!=e.indexOf(n.variant_id))&&(i+=n.price*n.quantity,n.discount&&n.discount.amount)){if(n.discount.offer_type_id==sl9.struct.consta.OfferTypeCart)continue;i-=n.discount.amount}return i},this.getTotalDiscount=function(){for(var t,e=0,n=0;n<this.items.length;n++)(t=this.items[n]).discount&&t.discount.amount&&!t.discount.free&&(e+=t.discount.amount);return this.discount&&this.discount.amount&&(e+=this.discount.amount),nfec.addgift2cart&&(e+=nfec.manager.cart.GiftPrices),e},this.getTotalItems=function(){for(var t=0,e=0;e<this.items.length;e++)t+=this.items[e].quantity;return t},this.addItem=function(t){var e,n=1;sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"no_merge_var")&&(n=0),nfec.manager.setting.IsCurrencyRound()&&(n=0);for(var i=0;i<this.items.length;i++)if((e=this.items[i]).variant_id==t.variant_id&&JSON.stringify(e.properties)==JSON.stringify(t.properties)){if(!e.discount&&!t.discount)return void(e.quantity+=1);if(n){if(e.isFree()!=t.isFree())continue;return e.quantity+=1,e.discount?t.discount&&(e.discount.amount+=t.discount.amount):t.discount&&(e.discount=t.discount),void(e.discount&&(e.discount.value=e.discount.amount/e.quantity))}if(e.discount&&t.discount&&e.discount.type_id==t.discount.type_id&&e.discount.value==t.discount.value)return e.quantity+=1,void(e.discount.amount=e.discount.value*e.quantity)}this.items.push(t)},this.addCartAttr=function(t){if(t.attributes){var e;for(e in t.attributes)t.attributes.hasOwnProperty(e)&&(this.notes[e]=t.attributes[e]+"");t.note&&(this.notes.cart_note=t.note+"")}},this.getItemDiscountValue=function(t){for(var e=0,n=0,i=0;i<this.items.length;i++)this.items[i].variant_id==t&&(this.items[i].isFree()||(n+=this.items[i].quantity,this.items[i].discount&&(e+=this.items[i].discount.amount)));return n?e/n:0},this.checkScode=function(){if(!nfec.force_drmode){if(nfec.force_mode)return!0;if(!nfec.addgift2cart)for(var t,e=0;e<this.items.length;e++)if((t=this.items[e]).discount&&t.discount.free)return;if(!this.free_ship)return!0;if(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"skip_free_ship")&&!this.ffs)return!0;if(!this.getTotalDiscount())return!0}}},sl9.model.draft_order_discount=function(){this.type_id=0,this.value=0,this.amount=0,this.offer_type_id=0,this.offer_id=0,this.free=!1,this.quantity=1,this.adjD=function(t){nfec.main.TFR&&(this.value=nfec.main.TN(this.value,2,1),this.amount=nfec.main.TN(this.value*t,2,1))},this.fromFreeGift=function(t,e,n){this.type_id=nfec.consta.DiscountTypeValue,this.value=t,this.amount=t*e,this.free=!0,this.offer_type_id=n.offer_type_id,this.offer_id=n.offer_id},this.fromDiscount=function(t,e,n){switch(n=n||1,this.quantity=n,this.offer_type_id=t.offer_type_id,this.offer_id=t.offer_id,t.discount_type){case nfec.consta.DiscountTypePercent:if(this.type_id=nfec.consta.DiscountTypeValue,nfec.manager.setting.IsCurrencyRound())this.value=Math.floor(e*t.discount_value/100);else{var i=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"round_discount");this.value=e*t.discount_value/100,i&&(this.value=Math.round(100*this.value)/100)}this.amount=this.value*n,this.adjD(n);break;default:this.type_id=t.discount_type,this.value=t.discount_value,e&&e<this.value&&(this.value=nfec.main.TN(e,2,1)),nfec.manager.setting.IsCurrencyRound()&&(this.value=Math.floor(this.value)),this.amount=this.value*n,this.adjD(n)}},this.toJSON=function(){var t=this.value,e=this.amount;if(t){var n=Math.round(e/t);void 0!==this.price0&&this.price0<t&&(t=this.price0),nfec.main.TFR||(t=Math.round(100*t)/100),e=n*t}return{t:this.type_id,o:this.offer_type_id,i:this.offer_id,v:nfec.main.TF(t,2,1),a:nfec.main.TF(e,2,1)}}},sl9.model.draft_order_item=function(){this.variant_id=0,this.quantity=0,this.discount=null,this.properties=[],this.product_id=0,this.price=0,this.isFree=function(){return!!this.discount&&!!this.discount.free},this.addPropertiesByCartItems=function(t){var e;if(t.properties)for(e in t.properties)t.properties.hasOwnProperty(e)&&this.properties.push({n:e+"",v:t.properties[e]+""})},this.toJSON=function(){var t={v:this.variant_id,q:this.quantity,p:this.properties,f:this.isFree(),c:this.product_id};return this.discount&&(t.d=this.discount.toJSON()),t}},sl9.model.keyword=function(){this.id=0,this.title="",this.fromJSON=function(t){this.id=t.id,this.title=t.title||""},this.check=function(t){return-1!=t.indexOf(this.title)}},sl9.model.product_offer=function(){this.product_id=0,this.offer_id=0,this.offer_type_id=0,this.toState=function(){return{p:this.product_id,o:this.offer_id,n:this.offer_type_id}},this.parseState=function(t){this.product_id=t.p,this.offer_id=t.o,this.offer_type_id=t.n}},sl9.model.product_offers=function(){this.items=[],this.addItem=function(t){for(var e,n=0;n<this.items.length;n++)if((e=this.items[n]).product_id&&t.product_id&&e.offer_type_id==t.offer_type_id&&e.offer_id==t.offer_id)return void(this.items[n]=t);this.items.push(t)},this.findItemByProduct=function(t){for(var e,n=0;n<this.items.length;n++)if((e=this.items[n]).product_id==t)return e;return null},this.parseState=function(t){var e=JSON.parse(t);if(this.items=[],e.i)for(var n,i=0,o=e.i.length;i<o;i++)(n=new sl9.model.product_offer).parseState(e.i[i]),this.items.push(n)},this.toState=function(){for(var t={i:[]},e=0,n=this.items.length;e<n;e++)t.i.push(this.items[e].toState());return JSON.stringify(t)}},sl9.model.promo=function(){this.items=[],this.skips=[],this.c=1,this.getID=function(){var t=new Date,e=Math.ceil(t.getTime()/1e3)+this.c;return this.c++,e},this.findItemByID=function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].id==t)return this.items[e];return null},this.updateItemVariant=function(t,e,n){var i=this.findItemByID(t);i&&(i.product_id=e,i.variant_id=n)},this.findItemByDiscountType=function(t){for(var e=[],n=0;n<this.items.length;n++)this.items[n].discount_type==t&&e.push(this.items[n]);return e},this.getSum=function(t){for(var e=[],n=0;n<this.items.length;n++){var i=this.items[n];i.discount_type&&(i.isNormalDsc()||(!nfec.IsDmodeNone&&!nfec.addgift2cart||t||i.discount_type==nfec.consta.DiscountTypeFreeShip)&&e.push(i))}return e},this.hasCartItemDiscount=function(t){for(var e,n=0;n<this.items.length;n++)if((e=this.items[n]).is_cart&&e.isNormalDsc())return e.discount_type==t.discount_type&&e.discount_value<t.discount_value&&(this.items[n]=t),!0;return!1},this.findGiftsByOffer=function(t,e){for(var n,i=[],o=0;o<this.items.length;o++)(n=this.items[o]).offer_type_id==t&&n.offer_id==e&&n.discount_type==nfec.consta.DiscountTypeFreeGift&&i.push(n);return i},this.hasFreeShip=function(){return!!this.findItemByDiscountType(nfec.consta.DiscountTypeFreeShip).length},this.addItem=function(t){switch(t.id=t.id||this.getID(),t.discount_type){case nfec.consta.DiscountTypeFreeShip:if(this.hasFreeShip())return;break;case nfec.consta.DiscountTypePercent:case nfec.consta.DiscountTypeValue:if(t.is_cart){if(this.hasCartItemDiscount(t))return;break}for(var e=-1,n=-1,i=0;i<this.items.length;i++){var o=this.items[i];o.discount_type!=nfec.consta.DiscountTypeFreeGift&&(o.product_id==t.product_id&&o.variant_id==t.variant_id&&(t.price=o.price,o.getDiscountedPrice()<=t.getDiscountedPrice()||o.getDiscountedPrice()<=n||(e=i,n=o.getDiscountedPrice())))}if(e<0)return;return t.price=this.items[e].price,void(this.items[e]=t)}this.items.push(t)},this.hasSameItem=function(t){for(var e,n=0;n<this.items.length;n++)if(e=this.items[n],-1==this.skips.indexOf(e.id)&&e.isSame(t))return this.skips.push(e.id),!0;return!1},this.findAddedItems=function(t,e){for(var n,i,o=[],r=[],d=0;d<this.items.length;d++)(n=this.items[d]).discount_type&&(n.bundle_id&&e||n.discount_type==nfec.consta.DiscountTypeFreeShip&&t.hasFreeShip()||t.hasSameItem(n)||(i=n.offer_type_id+"_"+n.offer_id+"_"+n.discount_type,-1==r.indexOf(i)&&(r.push(i),o.push(n))));return o},this.parseState=function(t){var e=JSON.parse(t);if(this.items=[],e.i)for(var n,i=0,o=e.i.length;i<o;i++)(n=new sl9.model.promo_item).parseState(e.i[i]),this.items.push(n)},this.toState=function(){for(var t={i:[]},e=0,n=this.items.length;e<n;e++)t.i.push(this.items[e].toState());return JSON.stringify(t)}},sl9.model.promo_item=function(){this.id=0,this.discount_type=0,this.discount_value=null,this.price=0,this.bundle_id=0,this.product_id=0,this.variant_id=0,this.quantity=0,this.is_cart=!1,this.offer_id=0,this.offer_type_id=0,this.app_id=0,this.vids="",this.isNormalDsc=function(){return-1<[nfec.consta.DiscountTypePercent,nfec.consta.DiscountTypeValue].indexOf(this.discount_type)},this.discount_value_round=function(){return Math.round(10*this.discount_value)/10},this.getDiscountedPrice=function(){var t=this.price;switch(this.discount_type){case nfec.consta.DiscountTypeValue:t=this.price-this.discount_value;break;case nfec.consta.DiscountTypePercent:t=this.price*(100-this.discount_value)/100}return t<0&&(t=0),t},this.isSame=function(t){var e;for(e in t)if(t.hasOwnProperty(e)&&"function"!=typeof t[e]&&!(-1<["id","price","vids"].indexOf(e))&&t[e]!==this[e])return!1;return!0},this.toState=function(){return{i:this.id,dt:this.discount_type,dv:this.discount_value,b:this.bundle_id,p:this.product_id,v:this.variant_id,q:this.quantity,c:this.is_cart,oi:this.offer_id,ot:this.offer_type_id,a:this.app_id,g:this.vids||""}},this.parseState=function(t){this.discount_type=t.dt,this.discount_value=t.dv,this.bundle_id=t.b,this.product_id=t.p,this.variant_id=t.v,this.quantity=t.q,this.is_cart=t.c,this.offer_id=t.oi,this.offer_type_id=t.ot,this.app_id=t.a,this.id=t.i,this.vids=t.g||""}},sl9.model.replace_item=function(){this.product_id=0,this.variant_id=0,this.toState=function(){return{p:this.product_id,v:this.variant_id}},this.parseState=function(t){this.product_id=t.p,this.variant_id=t.v}},sl9.model.replace_items=function(){this.items=[],this.findItem=function(t,e){for(var n=0;n<this.items.length;n++)if(this.items[n].product_id==t&&this.items[n].variant_id==e)return this.items[n];return null},this.hasPIDs=function(t){for(var e=0;e<this.items.length;e++)if(-1!=t.indexOf(this.items[e].product_id))return!0;return!1},this.hasVarIDs=function(t){for(var e=0;e<this.items.length;e++)if(-1!=t.indexOf(this.items[e].variant_id))return!0;return!1},this.parseState=function(t){var e=JSON.parse(t);if(this.items=[],e.i)for(var n,i=0,o=e.i.length;i<o;i++)(n=new sl9.model.replace_item).parseState(e.i[i]),this.items.push(n)},this.toState=function(){for(var t={i:[]},e=0,n=this.items.length;e<n;e++)t.i.push(this.items[e].toState());return JSON.stringify(t)}},sl9.model.rform=function(){this.per_page=0,this.tpl="",this.clas="",this.wrap="",this.wrapTag="",this.toState=function(){return JSON.stringify({p:this.per_page,t:this.tpl,c:this.clas,w:this.wrap,wt:this.wrapTag})},this.parseState=function(t){var e=JSON.parse(t);this.per_page=e.p,this.tpl=e.t,this.clas=e.c,this.wrap=e.w,this.wrapTag=e.wt}},sl9.model.schedule=function(){this.id=0,this.type_id=0,this.has_end=!1,this.weekly=new sl9.model.schedule_weekly,this.monthly=new sl9.model.schedule_monthly,this.start_time=new sl9.model.schedule_time("start_time"),this.end_time=new sl9.model.schedule_time("end_time",1),this.fromJSON=function(t){this.id=t.id,this.type_id=t.tid,this.has_end=t.ee,t.st&&(this.start_time.fromJSON(t.st),this.has_end&&this.end_time.fromJSON(t.et)),t.w&&this.weekly.fromJSON(t.w),t.m&&this.monthly.fromJSON(t.m)},this.countNextTime=function(){var t=(new Date).getTime();switch(this.type_id){case sl9.struct.consta.ScheduleTypeDate:var e=this.start_time.getUnix(),n=this.end_time.getUnix();return e<=t?this.has_end?(n<e&&(n=this.end_time.getUnix(1)),t<=n?0:this.start_time.getUnix(1)-t):0:!this.has_end||e<n||n<t?e-t:0;case sl9.struct.consta.ScheduleTypeWeekly:return this.weekly.countNextTime();case sl9.struct.consta.ScheduleTypeMonthly:return this.monthly.countNextTime();default:return 0}}},sl9.model.schedule_monthly=function(){this.d=[],this.h_s=1,this.h_e=25,this.fromJSON=function(t){this.d=t.d||[],this.h_s=t.h_s,this.h_e=t.h_e,this.h_s||(this.h_s=1),this.h_e||(this.h_e=25)},this.getNextDay=function(t){var e=new Date;return e.setDate(e.getDate()+t),e.setHours(this.h_s-1,0,0,0),e},this.countNextTime=function(){for(var t=(new Date).getTime(),e=-1;e<33;e++){var n=this.getNextDay(e);if(-1!=this.d.indexOf(n.getDate())){var i=n.getTime(),o=(i=nfec.util.tool.ToStoreTimeUnix(i))+3600*(this.h_e-this.h_s)*1e3;if(t<i)return i-t;if(t<=o)return 0}}return 0}},sl9.model.schedule_time=function(t,e){this.d=0,this.m=0,this.h=0,this.fromJSON=function(t){this.d=t.d,t.m&&(this.m=t.m),this.h=t.h},this.getUnix=function(t){var e=new Date;if(t){var n=(new Date).getFullYear();e.setFullYear(n+t)}e.setMonth(this.m-1,this.d),e.setHours(this.h-1,0,0,0);var i=e.getTime();return nfec.util.tool.ToStoreTimeUnix(i)}},sl9.model.schedule_weekly=function(){this.d=[],this.h_s=1,this.h_e=25,this.fromJSON=function(t){this.d=t.d||[],this.h_s=t.h_s,this.h_e=t.h_e,this.h_s||(this.h_s=1),this.h_e||(this.h_e=25)},this.getNextDay=function(t){var e=new Date;return e.setDate(e.getDate()+t),e.setHours(this.h_s-1,0,0,0),e},this.countNextTime=function(){for(var t=(new Date).getTime(),e=-1;e<9;e++){var n=this.getNextDay(e);if(-1!=this.d.indexOf(n.getDay()+1)){var i=n.getTime(),o=(i=nfec.util.tool.ToStoreTimeUnix(i))+3600*(this.h_e-this.h_s)*1e3;if(t<i)return i-t;if(t<=o)return 0}}return 0}},sl9.model.scode=function(){this.id=0,this.code="",this.token="",this.amount="",this.goal="",this.toState=function(){return JSON.stringify({i:this.id,c:this.code,t:this.token,a:this.amount,g:this.goal})},this.parseState=function(t){var e=JSON.parse(t);this.id=e.i,this.code=e.c,this.token=e.t,this.amount=e.a,this.goal=e.g},this.check=function(t,e,n){if(this.token==t){if(this.amount==e&&!(parseFloat(this.goal)>parseFloat(n)))return!0}else this.id=0}},sl9.model.segment=function(){this.id=0,this.type_id=0,this.rules=[],this.fromJSON=function(t){if(this.id=t.id,this.type_id=t.t,t.r)for(var e=0;e<t.r.length;e++){var n=new sl9.model.segment_rule;n.fromJSON(t.r[e]),this.rules.push(n)}},this.check=function(t){switch(this.type_id){case sl9.struct.consta.SegmentTypeLogined:if(!t)return!1;for(var e=0;e<this.rules.length;e++)if(!this.rules[e].check(t))return!1;return!0}return!t}},sl9.model.segment_rule=function(){this.column=0,this.relation=0,this.value=null,this.fromJSON=function(t){this.column=t.column,this.relation=t.relation,this.value=t.value,"string"==typeof this.value&&(this.value=this.value.replace(/\"/g,""))},this.isNegative=function(){return 40<=this.relation},this.checkStr=function(t){if(t||(t=""),this.value||(this.value=""),"string"!=typeof t)return!1;t=nfec.util.tool.Decode(t).replace(/\"/g,"");for(var e=this.value.split(","),n=sl9.struct.consta,i=0;i<e.length;i++){var o=e[i];if(o=o.trim())switch(this.relation){case n.RelIsOneOf:if(t==o)return!0;break;case n.RelContainOneOf:if(-1!=t.indexOf(o))return!0;break;case n.RelHaveOneOf:for(var r=t.split(","),d=0;d<r.length;d++){if((a=r[d].trim())&&a==o)return!0}break;case n.RelMultiContainOneOf:for(r=t.split(","),d=0;d<r.length;d++){if((a=r[d].trim())&&-1!=a.indexOf(o))return!0}break;case n.RelIsNotOneOf:if(t==o)return!1;break;case n.RelDontContainOneOf:if(-1!=t.indexOf(o))return!1;break;case n.RelDontHaveOneOf:for(r=t.split(","),d=0;d<r.length;d++){if((a=r[d].trim())&&a==o)return!1}break;case n.RelDontMContainOneOf:for(r=t.split(","),d=0;d<r.length;d++){var a;if((a=r[d].trim())&&-1!=a.indexOf(o))return!1}}}return!!this.isNegative()},this.checkNumber=function(t){t||(t=0);var e=this.value||0,n=sl9.struct.consta;switch(this.relation){case n.RelGreater:if(e<t)return!0;break;case n.RelLess:if(t<e)return!0}return!1},this.checkDay=function(t){t||(t=0);var e=new Date;return this.checkNumber((e.getTime()-1e3*t)/864e5)},this.check=function(t){var e=sl9.struct.customer_col;switch(this.column){case e.Tags:return this.checkStr(t.tags);case e.Email:return this.checkStr(t.email);case e.Phone:return this.checkStr(t.phone);case e.Name:return this.checkStr(t.name);case e.Country:return this.checkStr(t.address.country_code);case e.Province:return this.checkStr(t.address.province);case e.ProvinceCode:return this.checkStr(t.address.province_code);case e.ZipCode:return this.checkStr(t.address.zip);case e.City:return this.checkStr(t.address.city);case e.Street:return this.checkStr(t.address.street);case e.Address:return this.checkStr(t.address.address);case e.Company:return this.checkStr(t.address.company);case e.Spent:return this.checkNumber(t.total_spent);case e.TotalOrder:return this.checkNumber(t.orders_count);case e.FirstOrderAt:return!!(n=t.orders.length)&&this.checkDay(t.orders[n-1].ca);case e.LastOrderAt:var n;return!!(n=t.orders.length)&&this.checkDay(t.orders[0].ca);case e.Purchased:for(var i=0;i<t.orders.length;i++)for(var o=0;o<t.orders[i].it.length;o++){var r=t.orders[i].it[o].t;if(this.isNegative()){if(!this.checkStr(r))return!1}else if(this.checkStr(r))return!0}return!!this.isNegative()}return!1}},sl9.model.session=function(){this.action_id=0,this.offer_id=0,this.offer_type_id=0,this.toState=function(){return{a:this.action_id,o:this.offer_id,n:this.offer_type_id}},this.parseState=function(t){this.action_id=t.a,this.offer_id=t.o,this.offer_type_id=t.n}},sl9.model.sessions=function(){this.items=[],this.addItem=function(t){for(var e,n=0;n<this.items.length;n++)if((e=this.items[n]).action_id==t.action_id&&e.offer_type_id==t.offer_type_id&&e.offer_id==t.offer_id)return void(this.items[n]=t);this.items.push(t)},this.findItem=function(t,e,n){for(var i,o=0;o<this.items.length;o++)if((i=this.items[o]).action_id==t&&i.offer_type_id==e&&i.offer_id==n)return i;return null},this.parseState=function(t){var e=JSON.parse(t);if(this.items=[],e.i)for(var n,i=0,o=e.i.length;i<o;i++)(n=new sl9.model.session).parseState(e.i[i]),this.items.push(n)},this.toState=function(){for(var t={i:[]},e=0,n=this.items.length;e<n;e++)t.i.push(this.items[e].toState());return JSON.stringify(t)}},sl9.modelo={},sl9.modelo.bundle=function(){this.display_id=0,this.is_uncheck=0,sl9.modelo.offer.call(this),this.getNum=function(){return sl9.struct.consta.OfferTypeBundle},this.isCustomValid=function(){return!(this.trigger.product_groups.length<2)&&!(this.product_groups.length<2)},this.fromJSON=function(t){this.display_id=t.display_id,this.is_uncheck=t.is_uncheck||0,this.formatOffer(t)}},sl9.modelo.discount=function(){this.type_id=0,this.value=null,this.pvids={},this.vids=[],this.pids=[],this.origin_type_id=0,this.discounted_price=0,this.isValid=function(){return this.type_id},this.fromJSON=function(t,e){switch(this.origin_type_id=t.type_id,this.type_id=t.type_id,this.value=t.value,this.pvids=t.pvids,t.type_id&&(window.dsqion=1),t.type_id){case nfec.consta.DiscountTypePrice:if(!t.value||!e.product_groups.length)return void(this.type_id=0);var n=e.first_price;if(!n)return void(this.type_id=0);this.discounted_price=t.value;var i=n-t.value;if(i<=0)return void(this.type_id=0);this.value=parseFloat(nfec.main.TF(i,2,1)),this.type_id=nfec.consta.DiscountTypeValue;break;case nfec.consta.DiscountTypePercent:case nfec.consta.DiscountTypeValue:t.value||(this.type_id=0);break;case nfec.consta.DiscountTypeFreeGift:if(t.value&&"string"==typeof t.value){for(var o=[],r=!(!t.pvids||jQuery.isEmptyObject(t.pvids)),d=t.value.split(","),a=[],c=0;c<d.length;c++){var f=parseInt(d[c]),_=nfec.manager.product.FindByID(f);if(_)if(r){var s=_.filterVarIDs(t.pvids[_.id]);s.length&&(o=o.concat(s),a.push(f))}else a.push(f)}if(r){if(!o.length)return void(this.type_id=0);this.vids=o}if(!a.length)return void(this.type_id=0);this.pids=a,this.value=a.join(",")}else this.type_id=0;break;case nfec.consta.DiscountTypeFreeShip:break;case nfec.consta.DiscountTypeWholesale:if(!t.value||!t.value.levels||!t.value.levels.length)return void(this.type_id=0);break;default:this.type_id=0}}},sl9.modelo.loyal=function(){this.point=0,this.getNum=function(){return sl9.struct.consta.OfferTypeLoyal},sl9.modelo.offer.call(this),this.isCustomValid=function(){return!!this.discount.isValid()},this.fromJSON=function(t){this.point=t.p,this.formatOffer(t)}},sl9.modelo.motivator=function(){this.goal=0,this.first_message="",this.is_category=!1,this.is_d_cat=!1,this.getNum=function(){return sl9.struct.consta.OfferTypeCart},sl9.modelo.offer.call(this),this.isCustomValid=function(){return!!this.discount.isValid()},this.fromJSON=function(t){this.goal=t.goal||0,this.first_message=t.first_message,this.is_category=t.is_category,this.formatOffer(t),this.is_category&&(this.product_groups.length&&this.product_groups[0].isPreSelect()||(this.is_category=!1)),this.is_d_cat=this.is_category,sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"mt_ct")&&(this.is_category=!1)},this.getDiscountable=function(t,e){var n=new nfec.model.discountable;return n.app_id=sl9.struct.app.id,n.discount_type=this.discount.type_id,n.discount_value=this.discount.value,n.is_cart=!0,n.offer_id=this.id,n.offer_type_id=sl9.struct.consta.OfferTypeCart,n.remain_amount=e,n.current_amount=t,n}},sl9.modelo.offer=function(){this.id=0,this.wid=0,this.message="",this.label="",this.trigger=new sl9.modelo.trigger,this.discount=new sl9.modelo.discount,sl9.modelo.offertpl.call(this),this.hasMessage=function(){return this.message?1:0},this.isValid=function(t,e,n){return!this.is_invalid_group&&!this.trigger.is_invalid_group&&(!this.trigger.online_off&&(!!this.trigger.checkCountry(t)&&(!!this.trigger.checkCustomer(e)&&(!!this.trigger.checkKeyword(n)&&(!this.trigger.countNextTime()&&!!this.isCustomValid())))))},this.isAI=function(){for(var t=0,e=this.product_groups.length;t<e;t++)if(this.product_groups[t].type_id==sl9.struct.consta.GroupTypeAI)return!0;return!1},this.formatOffer=function(t){this.id=t.id,this.wid=t.wid,this.message=t.message,this.label=t.label||"",this.formatOfferTpl(t),t.discount&&this.discount.fromJSON(t.discount,this),t.trigger&&this.trigger.fromJSON(t.trigger)}},sl9.modelo.offertpl=function(){sl9.modelo.product_groups.call(this),this.formatOfferTpl=function(t){this.formatProductGroups(t.product_groups)},this.addLabel=function(t){for(var e=0;e<this.product_groups.length;e++){var n=this.product_groups[e];if(!n.is_sub&&n.isPreSelect()&&n.isValid())for(var i=0;i<n.ids.length;i++)sl9.label.main.Add(n.ids[i],t)}}},sl9.modelo.postsale=function(){this.getNum=function(){return sl9.struct.consta.OfferTypePostsale},sl9.modelo.offer.call(this),this.isCustomValid=function(){return!0},this.hasProductMessage=function(){return this.product_message?1:0},this.hasCoupon=function(){return this.coupon?1:0},this.fromJSON=function(t){this.is_not_social=t.is_not_social,this.product_message=t.product_message,this.coupon=t.coupon,this.coupon_share=this.coupon?encodeURIComponent(this.coupon):"";var e="https://"+nfec.manager.setting.GetPubDomain();this.link_share=encodeURIComponent(t.link_share||e),this.link_shoping=t.link_shoping,this.formatOffer(t),this.is_invalid_group=!1}},sl9.modelo.product_group=function(t){this.is_trigger=t,this.type_id=0,this.ids=[],this.pvids={},this.vids=[],this.first_price=0,this.is_sub=!1,this.isVLim=function(){return this.isPreSelect()&&this.pvids&&!jQuery.isEmptyObject(this.pvids)},this.isPreSelect=function(){return-1!=[sl9.struct.consta.GroupTypeManual,sl9.struct.consta.GroupTypeAuto].indexOf(this.type_id)},this.isValid=function(){return!!this.type_id&&!(this.isPreSelect()&&!this.ids.length)},this.isIn=function(t,e){switch(this.type_id){case sl9.struct.consta.GroupTypeManual:case sl9.struct.consta.GroupTypeAuto:var n=this.pvids[t]||[];if(n.length&&e){for(var i=!1,o=0;o<e.length;o++)if(-1!=n.indexOf(e[o])){i=!0;break}if(!i)return!1}return!!this.ids&&-1!==this.ids.indexOf(t);default:return!0}},this.fromJSON=function(t){if(this.type_id=t.type_id,t.ids){var e,n,i;this.pvids=t.pvids||{},this.is_sub=t.is_sub,e=[];var o=[],r=this.isVLim();for(n=0;n<t.ids.length;n++){i=t.ids[n];var d,a=nfec.manager.product.FindByID(i);if(a)if(r){if((d=a.filterVarIDs(this.pvids[i])).length&&(o=o.concat(d),e.push(i),!this.first_price)){var c=a.getVariantByID(d[0]);this.first_price=c.price}}else e.push(i),this.first_price||(this.first_price=a.variants[0].price);else this.is_trigger&&(e.push(i),r&&(d=this.pvids[i])&&(o=o.concat(d)))}this.vids=o,this.ids=e}},this.isSimple=function(){if(!this.isVLim()&&this.isPreSelect()&&1==this.ids.length)return this.ids[0]}},sl9.modelo.rec=function(){this.place_id=0,this.not_btn=!1,sl9.modelo.offer.call(this),this.getNum=function(){return sl9.struct.consta.OfferTypeRec},this.isCustomValid=function(){return!!this.product_groups.length},this.fromJSON=function(t){if(this.place_id=t.place_id,this.not_btn=t.not_btn,t.trigger){var e=t.trigger.label;e&&(t.label=e,t.trigger.label="")}this.formatOffer(t)}},sl9.modelo.product_groups=function(){this.product_groups=[],this.first_price=0,this.priority=0,this.is_invalid_group=!1,this.formatProductGroups=function(t){if(t)for(var e,n=sl9.struct.consta.GroupPriority,i=0;i<t.length;i++){var o=new sl9.modelo.product_group(this.is_trigger);if(o.fromJSON(t[i]),!o.isValid())return this.product_groups=[],void(this.is_invalid_group=!0);this.first_price+=o.first_price,(e=n.indexOf(o.type_id))>this.priority&&(this.priority=e),this.product_groups.push(o)}},this.isIn=function(t,e){for(var n=0,i=this.product_groups.length;n<i;n++)if(this.product_groups[n].isIn(t,e))return!0;return!1},this.areIn=function(t,e){for(var n=0,i=t.length;n<i;n++)if(this.isIn(t[n],e))return!0;return!1},this.isSimple=function(){if(1==this.product_groups.length)return this.product_groups[0].isSimple()},this.getPIDs=function(){for(var t=[],e=0;e<this.product_groups.length;e++)t=t.concat(this.product_groups[e].ids);return t},this.getVIDs=function(){for(var t=[],e=0;e<this.product_groups.length;e++)t=t.concat(this.product_groups[e].vids);return t},this.isPreSelect=function(){var t=this.product_groups.length;if(!t)return!1;for(var e=0;e<t;e++)if(!this.product_groups[e].isPreSelect())return!1;return!0}},sl9.modelo.sale=function(){this.getNum=function(){return sl9.struct.consta.OfferTypeFirst},sl9.modelo.offer.call(this),this.isCustomValid=function(){return!!this.product_groups.length&&!!this.discount.isValid()},this.fromJSON=function(t){this.formatOffer(t)}},sl9.modelo.trigger=function(){this.is_trigger=!0,this.online_off=!1,this.page_ids=[],this.min_cart=0,this.on_checkout=!1,this.country_codes=[],this.schedule_ids=[],this.schedules=[],this.segment_ids=[],this.segments=[],this.keyword_ids=[],this.keywords=[],sl9.modelo.offertpl.call(this),this.label="",this.compare=function(t){var e=function(t,e){return t==e?0:t&&e?e<t?1:-1:t?-1:1},n=e(this.keywords.length,t.keywords.length);return n||((n=e(this.schedules.length,t.schedules.length))?n:(n=e(this.segments.length,t.segments.length))||e(this.country_codes.length,t.country_codes.length))},this.checkCountry=function(t){return!(t&&"*"!=t&&this.country_codes&&this.country_codes.length&&-1==this.country_codes.indexOf(t))},this.checkKeyword=function(t){if(!this.keywords||!this.keywords.length)return!0;for(var e=0;e<this.keywords.length;e++)if(this.keywords[e].id==t)return!0;return!1},this.checkCustomer=function(t){if(!this.segments||!this.segments.length)return!0;window.actSegment=1;for(var e=0;e<this.segments.length;e++)if(this.segments[e].check(t))return!0;return!1},this.checkPage=function(t){return!(!this.page_ids||-1==this.page_ids.indexOf(t.type))&&!(t.type==nfec.consta.PageTypeProduct&&!this.isIn(t.payload.id))},this.checkOnCheckout=function(t){return!(this.on_checkout&&!t)},this.fromJSON=function(t){this.page_ids=t.page_ids,this.min_cart=t.min_cart,this.on_checkout=t.on_checkout,this.online_off=t.online_off,this.label=t.label||"",this.country_codes=t.country_codes||[],this.schedule_ids=t.schedule_ids||[],this.segment_ids=t.segment_ids||[],this.keyword_ids=t.keyword_ids||[];for(var e=0;e<this.schedule_ids.length;e++){var n=sl9.manager.schedule.Get(this.schedule_ids[e]);this.schedules.push(n)}for(e=0;e<this.segment_ids.length;e++){n=sl9.manager.segment.Get(this.segment_ids[e]);this.segments.push(n)}for(e=0;e<this.keyword_ids.length;e++){(n=sl9.manager.keyword.Get(this.keyword_ids[e]))&&this.keywords.push(n)}this.formatOfferTpl(t);var o=sl9.struct.consta.GroupPriority;this.product_groups.sort(function(t,e){var n=o.indexOf(t.type_id),i=o.indexOf(e.type_id);return i<n?-1:n<i?1:0})},this.countNextTime=function(){for(var t=0,e=0;e<this.schedules.length;e++){var n=this.schedules[e].countNextTime();if(!n)return 0;(!t||n<t)&&(t=n)}return t}},sl9.modelo.upsale=function(){this.is_replace=!1,this.is_strict=!1,this.display_id=0,this.getNum=function(){return sl9.struct.consta.OfferTypeUpsell},sl9.modelo.offer.call(this),this.isCustomValid=function(){return!!this.trigger.product_groups.length&&!!this.product_groups.length},this.fromJSON=function(t){if(this.is_replace=t.is_replace,this.display_id=t.display_id||0,this.formatOffer(t),this.isAI()&&(this.discount.type_id=0),this.discount.isValid()&&!this.is_replace){var e=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeUpsell,"up_strict"),n=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeUpsell,"up_strict_no");e&&(this.is_strict=!0),this.discount.type_id!=nfec.consta.DiscountTypePercent||n||50<=this.discount.value&&(this.is_strict=!0)}},this.isPopup=function(){return-1!=[0,1,3,4].indexOf(this.display_id)},this.isWidget=function(){return-1!=[2,3,4].indexOf(this.display_id)},this.getPDisplayID=function(){return-1!=[1,4].indexOf(this.display_id)?1:0}},sl9.modelo.wholesale=function(){this.apply_num=0,this.levels=[],sl9.modelo.offer.call(this),this.mtv_message="",this.display_id=0,this.custom_label="",this.getNum=function(){return sl9.struct.consta.OfferTypeWholesale},this.isCustomValid=function(){return!!this.product_groups.length&&!!this.levels.length},this.fromJSON=function(t){this.apply_num=t.apply_num,this.mtv_message=t.mtv_message,this.display_id=t.display_id||0;if(t.trigger&&(this.custom_label=t.trigger.label||"",t.trigger.label=""),this.formatOffer(t),this.discount.isValid()){for(var e={},n=[],i=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"buy_quantity")||"Buy {quantity}",o=0;o<this.discount.value.levels.length;o++){var r=this.discount.value.levels[o];if(r.discount){var d=new sl9.modelo.discount;if(d.fromJSON(r.discount,this),d.isValid()){r.discount=d;var a=nfec.util.tool.Replaces(i,"{quantity}",r.quantity);switch(e[r.quantity]||(e[r.quantity]={quantity:r.quantity,range:r.quantity,quantity_btn:a,discount:null,is_discount:!1,gifts:[],is_freeship:!1,giftIDs:[],vids:[],vm:{}},n.push(e[r.quantity])),r.discount.origin_type_id){case nfec.consta.DiscountTypeFreeGift:var c=r.discount.pids;if(r.discount.vids){for(var f=0;f<r.discount.vids.length;f++){var _=r.discount.vids[f];-1==e[r.quantity].vids.indexOf(_)&&e[r.quantity].vids.push(_)}e[r.quantity].vm[e[r.quantity].gifts.length]=r.discount.vids}e[r.quantity].gifts.push(c);for(f=0;f<c.length;f++)-1==e[r.quantity].giftIDs.indexOf(c[f])&&e[r.quantity].giftIDs.push(c[f]);break;case nfec.consta.DiscountTypeFreeShip:e[r.quantity].is_freeship=!0;break;case nfec.consta.DiscountTypePrice:this.display_price=!0;default:e[r.quantity].is_discount=!0,e[r.quantity].discount=r.discount}}}}if(n.length){n.sort(function(t,e){return t.quantity<e.quantity?-1:1});for(var s=this.isSimple(),l=0;l<n.length;l++){var u=n[l];s&&(1!=u.giftIDs.length||u.vids.length||s==u.giftIDs[0]&&(u.isSimple=!0));var p=n[l+1];p?p.quantity<=u.quantity+1||(u.range=u.quantity+" - "+(p.quantity-1)):u.range=u.quantity+" +"}this.levels=n}}},this.addCustomLabel=function(){for(var t=-1!=this.custom_label.indexOf("{price}"),e=this.product_groups[0],n=this.levels[this.levels.length-1].discount,i=0;i<e.ids.length;i++){var o=e.ids[i],r=this.custom_label;if(n&&t){for(var d=nfec.manager.product.FindByID(o).filterVars(e.vids),a=0,c=0;c<d.length;c++)(!a||d[c].price<a)&&(a=d[c].price);switch(n.type_id){case nfec.consta.DiscountTypeValue:a-=n.value;break;case nfec.consta.DiscountTypePercent:a=a*(100-n.value)/100}a<0&&(a=0),a=nfec.util.tpl.ToCurrency(a),r=r.replace("{price}",a)}sl9.label.main.Add(o,r)}},this.getNextLevel=function(t){for(var e=0;e<this.levels.length;e++)if(!(this.levels[e].quantity<=t))return this.levels[e];return null}},sl9.quickview={},sl9.quickview.global={Start:function(){var t=nfec.platform.current.page.Detect(),b=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"enable_quick_view");t.type!=nfec.consta.PageTypeHome&&jQuery(document).on("click","a",function(t){var e=jQuery(this),n=e.attr("href");if(n&&"#"!==n&&-1===n.indexOf("javascript")&&!e.data("no-ajax")&&-1==n.indexOf(".shopify.com")){var i=nfec.platform.current.product.GetHandleFromURL(n);if(i&&(e.find("img").length||!(e.innerHeight()<120)||e.hasClass("tdf_img_qv"))){var o=e.find("img");if(o.length||1<(o=e.parent().find("img")).length&&(o=[]),o.length){var r=o.height();if(50<r){var d=o.offset();if(t.pageY<d.top||t.pageY>d.top+r)return}}if(e.closest(".tdf_rec").length)return nfec.event_hub.Trigger("click_rec_img",{els:e,handle:i}),void t.preventDefault();if(b){for(var a,c,f,_=e,s=[],l=!1,u=[],p=0;p<12&&(a=_.parent()).length;p++){for(var h=0,m=(c=(_=a).find('a[href*="/products/"]')).length;h<m;h++){var g,y=c.eq(h).attr("href");if(-1==y.indexOf(".shopify.com"))if((g=nfec.platform.current.product.GetHandleFromHref(y))&&g!=i&&(l=!0,(f=nfec.manager.product.FindByHandle(g))&&-1==s.indexOf(f.id))){s.push(f.id);var v={id:f.id};u.push(v)}}if(l)break}nfec.event_hub.Trigger("show_quick_view",{handle:i,qv_products:u,is_global:!0,is_normal:!0}),t.preventDefault()}}}})}},sl9.quickview.modalhtm={m:'<div class="tdf_dialog_modal tdf_dialog_modal_qv tdfe" data-e="click_quick_view_bg"><i class="tdf_close_btn"></i><div class="tdf_dialog_qv {_ if is_gift _}0{_ endif _} {_ if qv_products && qv_products.length > 1 _}1{_ endif _}"> {{ include sl9.quickview.snippet_product }} {_ if qv_products && qv_products.length > 1 _}8{_ endif _}\t</div></div>',subs:["tdf_qv_gift","tdf_qvs","tdf_img_parent","tdf_hidden","tdf_hidden",' {{custom_cta}} {_ else _} <button type="button" class="tdf_normal_btn tdfe" data-e="qv_add_to_cart">{{sl9.data.settings.8.add}}</button> ',' <option class="tdf_qv_option" value="{{variant.id}}">{{variant.getTitle}}</option> ',' {{ assign subProduct = products.{{{p.id}}} }} <div class="tdf_products_vertical_content" data-offer-id="{{p.offer_id}}" data-offer-type-id="{{p.offer_type_id}}" data-product-id="{{subProduct.id}}" data-variant-id="{{subProduct.fvariants.0.id}}"><a href="{{subProduct.url}}" class="tdfe {_ if ! is_custom_cta _}2{_ endif _}" data-no-ajax="1" data-e="click_qv_sub_product"><div class="tdf_img tdf_vertical_img tdf_img_fake" style="background-image:url({{subProduct.image.mediumSrc}})"></div><div class="tdf_vertical_name"><h4 class="tdf_vertical_title" title="{{subProduct.title.toCustomTrans.toInput}}">{{subProduct.title.toCustomTrans}}</h4></div><div class="tdf_vertical_price {_ if is_gift _}3{_ endif _}"> {{ include sl9.common.snippet_price plus subProduct.fvariants.0 as current_variant }} </div></a><div class="tdf_qv_bottom_stuff"><div class="tdf_vertical_variants {_ if 2 > subProduct.fvariants.length && ! filterVariant _}4{_ endif _}"><div class="tdf_select_box"><select class="tdf_select_input tdfe" data-e="select_quickview_variant" data-et="change"> {_ for v,variant in subProduct.fvariants _}6{_ endfor _} </select><span class="tdf_select_icon"></span><div class="tdf_select_backdrop"></div></div></div> {_ if is_custom_cta _}5{_ endif _} </div></div> ',' <div class="tdf_qv_recommend"><div class="tdf_qv_recommend_container"><div class="tdf_qv_recommend_title"><h3 class="tdf_qv_h3">{{message.toTranslate}}</h3></div><div class="tdf_qv_recommend_content"> {_ for i,p in qv_products _}7{_ endfor _} </div></div></div> ']},sl9.quickview.main={current:{},Start:function(){sl9.quickview.global.Start();var a=nfec.store.control.Get("qvs"),c=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"qv_off_scroll"),d=function(){jQuery(".tdf_dialog_modal").length||(jQuery("body").removeClass("tdf_disable_scroll"),nfec.event_hub.Trigger("close_popup",{}))},f=function(){a||jQuery(".tdf_dialog_modal_qv").last().animate({scrollTop:0},600,function(){var t=jQuery(".tdf_swiper_slide_container").length;if(!(t<2)){var e=400*t;1300<e&&(e=1300),nfec.util.tpl.AutoSlide(jQuery(".tdf_swiper_wrapper").last(),"scrollLeft",!1,e)}})},e=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"product_fields"),n=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"qv_widget_off"),_=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"qv_lim")||32;nfec.event_hub.ListenTo("show_quick_view",function(t,d){nfec.loading.control.Start(),d.is_gift||!(e||n&&!d.is_global)?nfec.manager.product.GetByHandle(d.handle,function(t){if(!t||t.isHidden()&&d.is_global)nfec.platform.current.redirect.GoToProductPage(d.handle);else{nfec.loading.control.Stop(),d.vids=d.vids||[];var e=function(t){return d.pvids?d.pvids[t]:d.vids};if(t.fvariants=t.filterVars(e(t.id),!0),d.current_variant=t.fvariants[0],d.product=t,d.current_variant_id&&(d.current_variant=t.getVariantByID(d.current_variant_id)),d.product_ids){d.qv_products=[];for(var n=0;n<d.product_ids.length;n++)d.qv_products.push({id:d.product_ids[n]})}if(d.qv_products&&d.qv_products.length){var i=!1;for(n=0;n<d.qv_products.length;n++)if(t.id==d.qv_products[n].id){i=!0;break}i||d.qv_products.push({id:t.id}),d.qv_products=d.qv_products.slice(0,_)}if(d.qv_products)for(n=0;n<d.qv_products.length;n++){var o=nfec.manager.product.FindByID(d.qv_products[n].id);o.fvariants=o.filterVars(e(o.id))}d.vids.length&&(d.filterVariant=!0),jQuery.isEmptyObject(d.pvids)||(d.filterVariant=!0),sl9.quickview.main.current=d;var r=jQuery("#tdf_quickview");r.length?jQuery("body").addClass("tdf_disable_scroll"):(jQuery("body").first().append(sl9.common.tpl.Render(sl9.quickview.tplhtm,{})).addClass("tdf_disable_scroll"),r=jQuery("#tdf_quickview")),r.append(sl9.common.tpl.Render(sl9.quickview.modalhtm,sl9.quickview.main.current)),nfec.manager.recent_views.AddFromProduct(t),f(),sl9.common.tpl.AdjustH(jQuery(".tdf_qv_recommend_content"),"tdf_products_vertical_content"),a||c||(setTimeout(function(){nfec.util.tpl.AutoSlide(jQuery(".tdf_qv_product_content").last(),"scrollTop",!0,600,.3)},500),a=!0),nfec.store.control.Set("qvs",1,3600,!0),nfec.event_hub.Trigger("quick_view_showed",d)}}):nfec.platform.current.redirect.GoToProductPage(d.handle)}),nfec.event_hub.ListenTo("close_quick_view",function(t,e){jQuery("#tdf_quickview").remove(),d()}),nfec.event_hub.ListenTo("close_last_quick_view",function(t,e){jQuery(".tdf_dialog_modal_qv").last().remove(),d()}),nfec.event_hub.ListenTo("click_qv_sub_product",function(t,n){var i=n.els.closest(".tdf_products_vertical_content"),e=parseInt(i.data("product-id"));sl9.common.util.AddTrackFlag(i);var o=nfec.manager.product.FindByID(e);nfec.manager.product.GetByHandle(o.handle,function(t){sl9.quickview.main.current.product=t;var e=i.find(".tdf_select_input").val();sl9.quickview.main.current.current_variant=t.getVariantByID(e),n.els.closest(".tdf_dialog_modal_qv").find(".tdf_qv_content").replaceWith(sl9.common.tpl.Render(sl9.quickview.snippet_producthtm,sl9.quickview.main.current)),f(),nfec.event_hub.Trigger("quick_view_sub_showed")})}),nfec.event_hub.ListenTo("click_quick_view_bg",function(t,e){jQuery(e.event.target).closest(".tdf_dialog_qv").length||(e.els.closest(".tdf_dialog_modal_qv").remove(),e.els.remove(),d())}),nfec.event_hub.ListenTo("select_quickview_variant",function(t,e){e.productels=e.els.closest(".tdf_products_vertical_content"),nfec.event_hub.Trigger("select_variant",e)});var m=function(t,n){t.find(".tdf_swiper_slide_container").each(function(){var t=jQuery(this);if(t.data("image-id")==n.image.id){var e=t.closest(".tdf_swiper_wrapper");t.closest(".tdf_swiper_wrapper").animate({scrollLeft:t.position().left+e.scrollLeft()},1e3)}}),nfec.util.tool.SetAtt(t,"variant-id",n.id),t.find(".tdf_qv_product_content .tdf_qv_product_price").html(sl9.common.tpl.Render(sl9.common.snippet_pricehtm,{current_variant:n})),t.find(".tdf_qv_product_content .tdf_discountable_div").html(sl9.common.tpl.Render(sl9.common.snippet_discountablehtm,{discountable:n.getDiscountable()}))},i=function(t,e){var n=t.els.closest(".tdf_qv_content"),i=parseInt(n.data("product-id")),o=nfec.manager.product.FindByID(i),r=o.getVariantByID(e);m(n,r),nfec.event_hub.Trigger("update_qv_variant",{product:o,variant:r,els:t.els})};nfec.event_hub.ListenTo("select_quickview_main_variant",function(t,e){var n=parseInt(e.els.val());i(e,n)}),nfec.event_hub.ListenTo("choose_quickview_main_variant",function(t,e){var n=e.els.data("vid");n=parseInt(n),e.els.closest(".tdf_qv_variants_swatch").find(".selecting").removeClass("selecting"),e.els.addClass("selecting"),i(e,n)}),nfec.event_hub.ListenTo("select_product_option_value",function(t,o){var e=o.els.closest(".tdf_qv_option"),r=parseInt(e.data("position")),d=o.els.data("v")+"",n=e.closest(".tdf_qv_content"),i=parseInt(n.data("product-id")),a=nfec.manager.product.FindByID(i),c=a.getAvailableOptionsForOptionValue(r,d),f=n.find(".tdf_qv_option");n.find(".tdf_qv_swatch_real").removeClass("unavailable").removeClass("available");var _=[],s=!1,l={};f.each(function(){var t=jQuery(this),n=parseInt(t.data("position")),i=c[n]?c[n].values:[],e=t.find(".tdf_qv_swatch_real");if(n==r)return e.removeClass("selecting"),o.els.addClass("selecting"),void(l[n]=d);e.each(function(){var t=jQuery(this),e=t.data("v")+"";if(t.hasClass("selecting"))return-1!==i.indexOf(e)?void(l[n]=e):(t.addClass("unavailable"),void(s=!0));-1!==i.indexOf(e)&&_.push(t)})});var u=a.getVariantByOptionValues(l);if(s||!u){for(var p=0,h=_.length;p<h;p++)_[p].addClass("available");return n.find(".tdf_qv_btn button").each(function(){sl9.common.product.HandleSoldout(jQuery(this),!0)}),void sl9.common.product.NotiSelectOther()}n.find(".tdf_qv_btn button").each(function(){sl9.common.product.CleanSoldout(jQuery(this))}),m(n,u),nfec.event_hub.Trigger("update_qv_variant",{product:a,variant:u,els:o.els})}),nfec.event_hub.ListenTo("qv_add_to_cart",function(t,e){var n=e.els.closest(".tdf_qv_content"),i=[];n.length||(n=e.els.closest(".tdf_products_vertical_content"),i=n.find(".tdf_select_input").find(":selected")),sl9.common.util.AddTrackFlag(n);var o=parseInt(n.find(".tdf_qty_change input").val())||1;o<1&&(o=1);parseInt(n.data("product-id"));var r=parseInt(n.data("variant-id"));nfec.util.tpl.AddBtnLoading(e.els),nfec.platform.current.cart_api.AddItem(r,o,function(t){t?(jQuery("#tdf_quickview").remove(),setTimeout(d,300)):(nfec.util.tpl.RemoveBtnLoading(e.els),sl9.common.product.HandleSoldout(e.els),i.length&&setTimeout(function(){i.siblings().length&&sl9.common.product.CleanSoldout(e.els),i.remove()},3e3))})})}},sl9.quickview.snippet_producthtm={m:'<div class="tdf_qv_content" data-product-id="{{product.id}}" data-variant-id="{{current_variant.id}}"><div class="tdf_quickview_title_holiday"><div class="tdf_qv_product_name">{{product.getTitle}}</div></div><div class="tdf_carousel_container"> {_ if product.images.length == 1 | product.images.length == 0 _}20{_ endif _} </div><div class="tdf_qv_product_content"><div class="tdf_qv_product_name">{{product.getTitle}}</div><div class="tdf_qv_product_price {_ if is_gift _}0{_ endif _}"> {{ include sl9.common.snippet_price }} </div> {_ if sl9.data.settings.6.qv_long_option _}27{_ endif _} {_ if ! not_show_qty _}22{_ endif _} {_ if ! is_custom_cta _}23{_ endif _} <div class="tdf_qv_btn"> {{custom_cta}} {_ if ! not_show_normal_cta _}24{_ endif _} </div> {_ if is_normal _}11{_ endif _} {_ if ! product.is_premium && ! is_gift && sl9.data.settings.6.qv_top_detail _}12{_ endif _} {_ if ! sl9.data.settings.8.m_lang_on || sl9.data.settings.6.show_prod_des _}13{_ endif _} {_ if ! product.is_premium && ! is_gift && ! sl9.data.settings.6.qv_top_detail _}14{_ endif _} </div></div>',subs:["tdf_hidden"," selecting","tdf_hidden"," / ","tdf_hidden",'selected="selected"',"tdf_hidden"," selecting","{{prefill_quantity}}{_ else _}1"," {{ include sl9.common.snippet_discountable plus current_variant.discountable as discountable }} ",' <button type="button" class="tdf_normal_btn tdfe" data-e="qv_add_to_cart">{{sl9.data.settings.8.add}}</button> ',' <div class="tdf_qv_wsale_div"></div> ',' <div class="tdf_qv_decscription_link"><a class="tdf_qv_a" href="{{product.url}}">{{sl9.data.settings.8.product_details}}</a></div> ',' <div class="x_body_htm">{{product.getDes}}</div> ',' <div class="tdf_qv_decscription_link"><a class="tdf_qv_a" href="{{product.url}}">{{sl9.data.settings.8.product_details}}</a></div> ',' <div class="tdf_swiper_slide_container" data-image-id="{{image.id}}"><div class="tdf_swiper_slide"><img class="tdf_qv_img" src="{{image.grandeSrc}}" badgified="1"></div></div> ',' <label class="tdf_qv_label"><span class="tdf_qv_swatch_real tdfe{_ if variant.id == current_variant.id _}1{_ endif _}" data-e="choose_quickview_main_variant" data-vid="{{variant.id}}">{{variant.getTitle}}</span></label> '," {_ if o > 1 _}3{_ endif _}{{option.name.toCustomTrans}} ",' <option class="tdf_qv_option" value="{{variant.id}}" {_ if variant.id == current_variant.id _}5{_ endif _}>{{variant.getTitle}}</option> ',' <label class="tdf_qv_label"><span class="tdf_qv_swatch_real tdfe{_ if value == current_option_value _}7{_ endif _}" data-e="select_product_option_value" data-v="{{value.toInput}}">{{value.toCustomTrans}}</span></label> ',' <div class="tdf_one_img"><div class="tdf_swiper_slide_container"><div class="tdf_swiper_slide" style="background-image:url({{product.image.largeSrc}});background-size:contain;background-position:center;background-repeat: no-repeat"></div></div></div> {_ else _} <div class="tdf_swiper_wrapper"> {_ for i,image in product.images _}15{_ endfor _} </div> ',' <div class="{_ if 2 > product.fvariants.length && ! filterVariant _}2{_ endif _}"> {_ for o,option in product.getAvailableOptions _}17{_ endfor _} </div><div class="tdf_select_box {_ if 2 > product.fvariants.length && ! filterVariant _}4{_ endif _}"><select class="tdf_select_input tdfe" data-e="select_quickview_main_variant" data-et="change"> {_ for v,variant in product.fvariants _}18{_ endfor _} </select><span class="tdf_select_icon"></span><div class="tdf_select_backdrop"></div></div> ',' <div class="tdf_qv_quantity_container"><label class="tdf_qv_title">{{sl9.data.settings.8.quantity}}:</label><div class="tdf_qty_change"><input class="tdf_qv_input" type="number" min="1" name="tdf_qv_qty_input" value="{_ if prefill_quantity _}8{_ endif _}"></div></div> ',' <div class="tdf_discountable_div"> {_ if current_variant.is_discountable _}9{_ endif _} </div> '," {_ if ! not_show_normal_cta_if_premium || ! product.is_premium _}10{_ endif _} ",' {{ assign current_option_value = current_variant.option{{{o}}} }} <div class="tdf_qv_option" data-position="{{option.position}}"><label class="tdf_qv_title">{{option.name.toCustomTrans}}</label><div class="tdf_qv_variants_swatch"> {_ for v,value in option.values _}19{_ endfor _} </div></div> ',' <div class="tdf_qv_variants_container {_ if 2 > product.fvariants.length _}6{_ endif _}"> {_ for o,option in product.getAvailableOptions _}25{_ endfor _} </div> ',' <div class="tdf_qv_variants_swatch"> {_ for v,variant in product.fvariants _}16{_ endfor _} </div> {_ else _} {_ if product.getOptionsDisplayType == consta.OptionDisplayTypeSelect || filterVariant _}21{_ endif _} {_ if product.getOptionsDisplayType == consta.OptionDisplayTypeCheckboxs && ! filterVariant _}26{_ endif _} ']},sl9.quickview.tplhtm={m:'<div id="tdf_quickview" class="tdf_container"></div>',subs:[]},sl9.psale={},sl9.psale.btnhtm={m:'<a href="/" data-trekkie-id="continue_shopping_button" class="step__footer__continue-btn btn"><span class="btn__content">{{sl9.data.settings.8.continue_shopping}}</span></a>',subs:[]},sl9.psale.main={Start:function(){var n,t,e,i=sl9.struct.consta.OfferTypePostsale,o=sl9.manager.offer.List(i),r=0,d=0,a=[],c=[];if(window.Shopify&&Shopify.checkout&&(r=parseFloat(Shopify.checkout.subtotal_price),Shopify.checkout.line_items))for(var f=0;f<Shopify.checkout.line_items.length;f++){var _=Shopify.checkout.line_items[f];a.push(_.product_id),c.push(_.variant_id)}for(o.sort(function(t,e){return t.trigger.min_cart>e.trigger.min_cart?-1:t.trigger.min_cart<e.trigger.min_cart?1:t.trigger.compare(e.trigger)}),sl9.manager.offer.Set(i,o),t=0;t<o.length;t++)if(!((e=o[t]).trigger.min_cart>r)&&(!e.trigger.isPreSelect()||e.trigger.areIn(a,c))&&!(e.trigger.min_cart<d)){d=e.trigger.min_cart,n=e;break}if(n){var s=[{code:"fb",link:"https://www.facebook.com/sharer.php?u="+e.link_share},{code:"tw",link:"https://twitter.com/share?url="+e.link_share+"&text="+e.coupon_share},{code:"pt",link:"https://pinterest.com/pin/create/button/?url="+e.link_share+"&description="+e.coupon_share},{code:"in",link:" https://www.instagram.com"}],l=jQuery(".step__footer").first();l.before(sl9.common.tpl.Render(sl9.psale.tplhtm,{offer:n,shares:s}));var u="step__footer__continue-btn";jQuery("."+u).length||l.prepend(sl9.common.tpl.Render(sl9.psale.btnhtm,{})),e.link_shoping&&jQuery("."+u).attr("href",e.link_shoping),nfec.event_hub.ListenTo("psale_copy_coupon",function(t,e){document.getElementById("tdf_psale_coupon").select(),document.execCommand("copy"),jQuery(e.els).text(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"copied")),sl9.common.track.AddAction(sl9.struct.consta.ActionTrackClick,i,n.id)}),jQuery("#tdf_psale").on("click",function(){sl9.common.track.AddAction(sl9.struct.consta.ActionTrackClick,i,n.id)}),sl9.common.track.AddImpression(i,n.id)}}},sl9.psale.tplhtm={m:'<div id="tdf_psale" class="tdf_container tdf_nonpopup">{_ if offer.hasMessage _}0{_ endif _}{_ if offer.hasCoupon _}1{_ endif _}{_ if ! offer.is_not_social _}5{_ endif _}{_ if offer.hasProductMessage _}2{_ endif _}<div class="tdf_psale_product_container">{_ for g,group in offer.product_groups _}6{_ endfor _}</div></div>',subs:[' <div class="tdf_psale_title">{{offer.message}}</div>',' <div class="tdf_psale_code_container"><div class="tdf_psale_code"><input id="tdf_psale_coupon" type="text" value="{{offer.coupon}}"></div><button type="button" class="tdf_normal_btn tdfe" data-e="psale_copy_coupon">{{sl9.data.settings.8.copy}}</button></div>','<div class="tdf_psale_second_message">{{offer.product_message}}</div>',' <a role="button" href="{{share.link}}" target="_blank" class="tdf_icon_wrapper"><div class="tdf_share_btn tdf_share_{{share.code}}"></div></a> ',' {{ assign psaleproduct = products.{{{pid}}} }} <a href="{{psaleproduct.url}}" class="tdf_psale_product_img"><div style="background-image: url(\'{{psaleproduct.variants.0.image.mediumSrc}}\');"></div></a> ',' <div class="tdf_psale_share_container"> {_ for s,share in shares _}3{_ endfor _} </div>'," {_ for i,pid in group.ids _}4{_ endfor _}"]},sl9.manager={},sl9.manager.bundles={Set:function(t){nfec.store.control.Set("bun",t.toState(),864e3,!0)},Get:function(){var t=nfec.store.control.Get("bun"),e=new sl9.model.bundles;return t&&e.parseState(t),e},RemoveBunlde:function(t){var e=sl9.manager.bundles.Get();e.removeItem(t),sl9.manager.bundles.Set(e)}},sl9.manager.ckeyword={Set:function(t){nfec.store.control.Set("kwd",t,864e3,!0)},Get:function(){var t=nfec.store.control.Get("kwd");return t?parseInt(t):null}},sl9.manager.dcode={Set:function(t){nfec.store.control.Set("dco",t.toState(),36e4,!0),nfec.manager.coupon.Set(t.code)},Get:function(){var t=nfec.store.control.Get("dco");if(!t)return null;var e=new sl9.model.dcode;return e.parseState(t),e},Remove:function(t){nfec.manager.coupon.Remove(t),nfec.store.control.Remove("dco");var e=nfec.manager.cart.Get();e&&!e.attributes.discount_code||nfec.platform.current.cart_api.AddAttr({discount_code:""})},PreCheckCode:function(){var t=sl9.manager.dcode.Get();if(t){var e=nfec.manager.cart.Get(),n=sl9.manager.draft_order.Get();if(t.isCartTotalValid(e,n))return t;sl9.manager.dcode.Remove()}},HandleDraftOrder:function(t){var e=sl9.manager.dcode.Get();if(e){var n=nfec.manager.cart.Get();if(e.isCartTotalValid(n,t)){var i=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"scode_prefix")||"SUM";if(0!==e.code.toUpperCase().indexOf(i+"_")){var o=t.getTotalAmountBeforeCartDiscount();if("shipping_line"!=e.target_type){var r=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"skip_discounted");if("all"!=e.target_selection||"fixed_amount"!=e.value_type&&r){t.min_cart,!1;var d,a=e.getOfferProductIDs();if(e.q_r.o_quantity)sl9.manager.dcode.HBXGY(e,t,n);else for(var c=0;c<t.items.length;c++){if(d=t.items[c],a.length||e.o_variant_ids.length){if(-1==a.indexOf(d.product_id)&&-1==e.o_variant_ids.indexOf(d.variant_id))continue}else if(!r)return;(_=new sl9.model.draft_order_discount).fromDiscount(e.getDiscount(d.quantity),d.price,d.quantity);var f=_.amount;if(d.discount&&(f-=d.discount.amount,_.price0=d.discount.price0),!(f<=0)&&(d.discount=_,t.discount_code=e.code,e.isOncePerOrder()&&(e.value-=_.amount,e.value<=0)))return}}else{var _;(_=new sl9.model.draft_order_discount).fromDiscount(e.getDiscount(),o);var s=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"min_freeship");if(t.min_fship&&s){var l=o-t.min_fship;if(l<=0)return;_.amount>l&&(_.amount=l,_.value=l)}(!t.discount||_.amount>t.discount.amount)&&(t.discount=_,t.discount_code=e.code)}}else t.setFreeShip(1)}}}},HBXGY:function(){}},sl9.manager.draft_order={IsLoyal:!1,Get:function(t){var e,n,i=nfec.manager.cart.Get(),o=t||sl9.manager.promo.Get(),r=new sl9.model.draft_order,d={},a=sl9.struct.consta.SettingTypeOther,c=sl9.main.GetData("settings",a,"no_giftable"),f=function(t){return!(!c||!sl9.manager.nogif.Check(t.offer_type_id,t.offer_id))};t:for(var _=0;_<o.items.length;_++)if(!(e=o.items[_]).is_cart){var s=new sl9.model.draft_order_item,l=new sl9.model.draft_order_discount;switch(e.discount_type){case nfec.consta.DiscountTypeFreeShip:r.setFreeShip();continue t;case nfec.consta.DiscountTypeFreeGift:if(f(e))continue t;if(!(v=nfec.manager.product.FindByID(e.product_id)))continue t;if(!(b=v.getVariantByID(e.variant_id)))continue t;var u=b.price;void 0!==b.price0&&(u=b.price0),l.fromFreeGift(u,e.quantity,e),s.discount=l,s.price=u,r.has_discount=!0,nfec.addgift2cart&&(r.change_cart_price=!0);break;case nfec.consta.DiscountTypePercent:case nfec.consta.DiscountTypeValue:var p=d[e.variant_id]||0;if(!(n=i.findItemByVariant(e.product_id,e.variant_id,p)))continue t;p++,d[e.variant_id]=p,s.addPropertiesByCartItems(n);var h=n.price,m=(u=-1,nfec.manager.product.FindByID(e.product_id));if(m){var g=m.getVariantByID(e.variant_id);g&&void 0!==g.price0&&(u=g.price0)}s.price=h,l.fromDiscount(e,h,e.quantity),-1<u&&(l.price0=u),s.discount=l,r.change_cart_price=!0,r.has_discount=!0;break;default:p=d[e.variant_id]||0;if(!(n=i.findItemByVariant(e.product_id,e.variant_id,p)))continue t;p++,d[e.variant_id]=p,s.addPropertiesByCartItems(n),nfec.SDiscountComb&&n.t_discount&&(l.type_id=nfec.consta.DiscountTypeValue,l.value=n.t_discount/n.quantity,l.amount=n.t_discount/n.quantity,s.discount=l),s.price=n.price}s.product_id=e.product_id,s.variant_id=e.variant_id,s.quantity=e.quantity,r.addItem(s)}var y=r.getTotalAmount();t:for(_=0;_<o.items.length;_++){l=new sl9.model.draft_order_discount,s=new sl9.model.draft_order_item;if((e=o.items[_]).is_cart){switch(e.discount_type){case nfec.consta.DiscountTypeFreeShip:r.setFreeShip(),(w=sl9.manager.offer.Get(e.offer_type_id,e.offer_id))&&(!r.min_fship||r.min_fship<w.goal)&&(r.min_fship=w.goal),w&&(!r.min_cart||r.min_cart<w.goal)&&(r.min_cart=w.goal);continue t;case nfec.consta.DiscountTypeFreeGift:if(f(e))continue t;var v,b;if(!(v=nfec.manager.product.FindByID(e.product_id)))continue t;if(!(b=v.getVariantByID(e.variant_id)))continue t;u=b.price;void 0!==b.price0&&(u=b.price0),l.fromFreeGift(u,1,e),s.discount=l,s.product_id=e.product_id,s.variant_id=b.id,s.quantity=e.quantity,s.price=u,r.addItem(s),nfec.addgift2cart&&(r.change_cart_price=!0);break;default:var w;l.fromDiscount(e,y),r.discount=l,(w=sl9.manager.offer.Get(e.offer_type_id,e.offer_id))&&(!r.min_cart||r.min_cart<w.goal)&&(r.min_cart=w.goal),r.change_cart_price=!0}r.has_discount=!0}}return r.cart_token=i.token,r.addCartAttr(i),r.currency=nfec.manager.currency.srate()?Shopify.currency.active:nfec.manager.currency.GetCartCurrency(),sl9.manager.draft_order.IsLoyal&&(r.has_discount=!0),nfec.IsDmodeNone&&(r.has_discount=!1),sl9.loyal.util.HandleDraftOrder(r),r},GetTotalDiscount:function(t){var e=nfec.manager.cart.GetOldTotal()-t.getTotalAmount();return e<.005?0:e}},sl9.manager.gifter=function(){this.offsetMap={},this.promo=null,this.init=function(t){this.promo=t},this.serve=function(t,e,n,i,o){n.quantity=1,n.discount_type=nfec.consta.DiscountTypeFreeGift;var r=this.promo.findGiftsByOffer(t,e.id),d="k_"+t+"_"+e.id;this.offsetMap[d]||(this.offsetMap[d]=0);var a=this.offsetMap[d];n.id=parseInt("4"+e.id+"0"+t+"0"+a);var c=r[a];this.offsetMap[d]++,i||(i=e.discount.value?e.discount.value.split(","):[]);for(var f=0;f<i.length;f++)i[f]=parseInt(i[f]);if(o||(o=e.discount.vids||[]),n.vids=o.join(","),n.discount_value=i.join(","),c&&-1!=i.indexOf(c.product_id)&&(!o.length||-1!=o.indexOf(c.variant_id)))return n.product_id=c.product_id,void(n.variant_id=c.variant_id);var _=nfec.manager.gift.FindItem(sl9.struct.app.id,t,e.id);if(_&&-1<i.indexOf(_.product_id)&&(!o.length||-1!=o.indexOf(_.variant_id)))return n.product_id=_.product_id,void(n.variant_id=_.variant_id);var s=nfec.manager.cart.Get();if(s){var l=s.findItemsByVIDs(i,o);if(l.length)return n.product_id=l[0].product_id,void(n.variant_id=l[0].variant_id)}n.product_id=i[0];var u=nfec.manager.product.FindByID(i[0]);if(!u)return!0;o.length?n.variant_id=o[0]:n.variant_id=u.variants[0].id}},sl9.manager.idsflag={Set:function(t,e){nfec.store.control.Set(t,JSON.stringify(e),3600,!0)},Get:function(t){var e=nfec.store.control.Get(t);return e?JSON.parse(e):[]},Add:function(t,e){var n=sl9.manager.idsflag.Get(t);return-1==n.indexOf(e)&&(n.push(e),sl9.manager.idsflag.Set(t,n),!0)},Check:function(t,e){return-1!=sl9.manager.idsflag.Get(t).indexOf(e)}},sl9.manager.keyword={Data:{},Get:function(t){return sl9.manager.keyword.Data[t]},SetFromJSON:function(t){var e=new sl9.model.keyword;return e.fromJSON(t),sl9.manager.keyword.Data[e.id]=e}},sl9.manager.nogif={Check:function(t,e){return!!nfec.store.control.Get("ngi_"+t+"_"+e)},Del:function(t,e){nfec.store.control.Remove("ngi_"+t+"_"+e)},Set:function(t,e){nfec.store.control.Set("ngi_"+t+"_"+e,1,186400,!0)}},sl9.manager.offer={Data:{},Add:function(t){var e,n,i=nfec.manager.country.Get(),o=nfec.manager.customer.Get(),r=sl9.manager.ckeyword.Get();for(e in t)if(t.hasOwnProperty(e)){var d=parseInt(e);for(n in sl9.manager.offer.Data[d]=[],t[e])if(t[e].hasOwnProperty(n)){var a;switch(d){case sl9.struct.consta.OfferTypeBundle:a=sl9.modelo.bundle;break;case sl9.struct.consta.OfferTypeUpsell:a=sl9.modelo.upsale;break;case sl9.struct.consta.OfferTypeRec:a=sl9.modelo.rec;break;case sl9.struct.consta.OfferTypeFirst:a=sl9.modelo.sale;break;case sl9.struct.consta.OfferTypeCart:a=sl9.modelo.motivator;break;case sl9.struct.consta.OfferTypeWholesale:a=sl9.modelo.wholesale;break;case sl9.struct.consta.OfferTypePostsale:a=sl9.modelo.postsale;break;case sl9.struct.consta.OfferTypeLoyal:a=sl9.modelo.loyal}var c=new a;if(n)try{if(c.fromJSON(t[e][n]),!c.isValid(i,o,r))continue;if(!c.id)continue;c.label&&c.addLabel(c.label),c.trigger.label&&c.trigger.addLabel(c.trigger.label),c.custom_label&&c.addCustomLabel(),sl9.manager.offer.Data[d].push(c)}catch(t){console.log(t)}}}},Set:function(t,e){sl9.manager.offer.Data[t]=e},Get:function(t,e){for(var n=sl9.manager.offer.List(t),i=0;i<n.length;i++)if(n[i].id==e)return n[i];return null},ListAll:function(t){return sl9.manager.offer.Data[t]||[]},List:function(t){var e=sl9.manager.offer.Data[t],n=sl9.common.checkout.IsClickedCheckoutBtn(),i=[];if(!e)return i;for(var o=0;o<e.length;o++)e[o].trigger.checkOnCheckout(n)&&i.push(e[o]);return i}},sl9.manager.product_offer={Set:function(t){nfec.store.control.Set("pof",t.toState(),186400,!0)},Get:function(){var t=nfec.store.control.Get("pof"),e=new sl9.model.product_offers;return t&&e.parseState(t),e},AddRaw:function(t,e,n){if(!sl9.manager.product_offer.Get().findItemByProduct(n)){var i=new sl9.model.product_offer;i.product_id=parseInt(n),i.offer_type_id=parseInt(t),i.offer_id=parseInt(e),sl9.manager.product_offer.addItem(i)}},addItem:function(t){var e=sl9.manager.product_offer.Get();e.addItem(t),sl9.manager.product_offer.Set(e)},FindByProduct:function(t,e){sl9.manager.promo.Get();var n=nfec.manager.discountable.Get(t,e);return n||sl9.manager.product_offer.Get().findItemByProduct(t)}},sl9.manager.replaceflag={Set:function(t){nfec.store.control.Set("rpv",t.toState(),864e3,!0)},Get:function(){var t=nfec.store.control.Get("rpv"),e=new sl9.model.replace_items;return t&&e.parseState(t),e},Add:function(t,e){var n=sl9.manager.replaceflag.Get();if(!n.findItem(t,e)){var i=new sl9.model.replace_item;i.product_id=t,i.variant_id=e,n.items.push(i),sl9.manager.replaceflag.Set(n)}},CheckGroups:function(t){if(!t)return!1;var e=sl9.manager.replaceflag.Get();t:for(var n=0;n<t.length;n++){var i=t[n];switch(i.type_id){case sl9.struct.consta.GroupTypeManual:case sl9.struct.consta.GroupTypeAuto:if(i.vids&&i.vids.length){if(e.hasVarIDs(i.vids))return!0;continue t}if(!i.ids)return!1;if(e.hasPIDs(i.ids))return!0;break;default:return!!e.items.length}}return!1}},sl9.manager.rform={Check:function(){return!!nfec.store.control.Get("rfmf")},Del:function(){nfec.store.control.Remove("rfmf")},Set:function(t){nfec.store.control.Set("rfmf",1,3e3,!0),nfec.store.control.Set("rfm",t.toState(),186400,!0)},Get:function(){var t=nfec.store.control.Get("rfm");if(!t)return null;var e=new sl9.model.rform;return e.parseState(t),e}},sl9.manager.schedule={Data:{},Get:function(t){return sl9.manager.schedule.Data[t]},SetFromJSON:function(t){var e=new sl9.model.schedule;e.fromJSON(t),sl9.manager.schedule.Data[e.id]=e}},sl9.manager.scode={Set:function(t){nfec.store.control.Set("scd",t.toState(),345600,!0)},Del:function(){nfec.store.control.Remove("scd")},Get:function(){var t=nfec.store.control.Get("scd"),e=new sl9.model.scode;return t&&e.parseState(t),e}},sl9.manager.segment={Data:{},Get:function(t){return sl9.manager.segment.Data[t]},SetFromJSON:function(t){var e=new sl9.model.segment;e.fromJSON(t),sl9.manager.segment.Data[e.id]=e}},sl9.manager.session={Set:function(t){nfec.store.control.Set("ses",t.toState(),186400,!0)},Get:function(){var t=nfec.store.control.Get("ses"),e=new sl9.model.sessions;return t&&e.parseState(t),e},AddItem:function(t){var e=sl9.manager.session.Get();e.addItem(t),sl9.manager.session.Set(e)},FindItem:function(t,e,n){return sl9.manager.session.Get().findItem(t,e,n)}},sl9.manager.promo={Set:function(t){nfec.store.control.Set("prm",t.toState(),864e3,!0)},Get:function(){var t=nfec.store.control.Get("prm"),e=new sl9.model.promo;return t&&e.parseState(t),e},UpdateItemVariant:function(t,e,n){var i=sl9.manager.promo.Get();i.updateItemVariant(t,e,n),sl9.manager.promo.Set(i)}},sl9.notify={},sl9.notify.anima={loopID:null,Start:function(){nfec.platform.current.page.Detect().type==nfec.consta.PageTypeCart&&sl9.notify.anima.run(),jQuery(document).on("click",'a[href$="/cart"]',function(t){sl9.notify.anima.run()})},run:function(){sl9.notify.anima.Clear(),sl9.notify.anima.loopID=setInterval(function(){var t=jQuery(".tdf_notify_minicon");t.length&&!t.hasClass("tdf_hidden")&&(t.css("opacity",.5),setTimeout(function(){t.css("opacity",1)},800))},1600),setTimeout(function(){sl9.notify.anima.Clear()},8e3)},Clear:function(){sl9.notify.anima.loopID&&(clearInterval(sl9.notify.anima.loopID),sl9.notify.anima.loopID=null,jQuery(".tdf_notify_minicon").css("opacity",1))}},sl9.notify.cart_discountable_transhtm={m:"{_ if discountable.discount_type == consta.DiscountTypeFreeShip _}0{_ endif _}{_ if discountable.discount_type == consta.DiscountTypeFreeGift _}1{_ endif _}{_ if discountable.discount_type == consta.DiscountTypeValue _}2{_ endif _}{_ if discountable.discount_type == consta.DiscountTypePercent _}3{_ endif _}",subs:['<span class="tdf_discount_tag">{{sl9.data.settings.8.free_ship}}</span>','<span class="tdf_discount_tag"> {{ include sl9.common.snippet_discountable_gift }}</span>','<span class="tdf_discount_tag">{{discountable.toCDsc}}</span>','<span class="tdf_discount_tag">{{discountable.toCDsc}}</span>']},sl9.notify.main={LoyalContent:!1,Start:function(){jQuery("body").first().append(sl9.common.tpl.Render(sl9.notify.tplhtm,{}));var r=0;jQuery(document).on("click",function(t){var e=new Date;if(!(r>e.getTime()-1e3)){var n=jQuery(t.target);if(!n.closest("#tdf_notify").length&&!n.closest("#tdf_quickview").length&&!n.hasClass("tdf_cta_btn")){var i=jQuery(".tdf_notify_minicon");if(i.hasClass("tdf_notify_minicon_close"))return jQuery(".tdf_notify_popup").html(""),jQuery(".tdf_notify_msgs").html(""),sl9.notify.main.ShowMiniIcon(),i.removeClass("tdf_notify_minicon_close"),void nfec.event_hub.Trigger("notify_close",{})}}});var t="tdf_notify_opening";nfec.event_hub.ListenTo("notify_open",function(){jQuery("body").addClass(t)}),nfec.event_hub.ListenTo("notify_close",function(){jQuery("body").removeClass(t)}),nfec.event_hub.ListenPast("notify_discount_msg",function(t,e){var n=new Date;r=n.getTime();var i=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"noti_timeout"),o=e.timeout||i||nfec.util.tool.GetHtmReadT(e.content);1===o&&e.is_gifted&&-1!=e.content.indexOf("tdf_gift_title")&&(o=1400),sl9.notify.message_control.Add(e.content,o),jQuery(".tdf_notify_minicon").addClass("tdf_notify_minicon_close").removeClass("tdf_hidden")}),nfec.event_hub.ListenTo("promo_updated",function(t,e){jQuery(".tdf_notify_minicon_close").length||sl9.notify.main.ShowMiniIcon()},!0,!0),nfec.event_hub.ListenTo("cart_synced",function(t,e){nfec.event_hub.ListenTo("minicon_show",function(t,e){jQuery(".tdf_notify_minicon_close").length||sl9.notify.main.ShowMiniIcon()},!0,!0)},!0),nfec.event_hub.ListenTo("notify_discount_icon_click",function(t,e){sl9.notify.anima.Clear();var n=jQuery(".tdf_notify_minicon");if(n.hasClass("tdf_notify_minicon_close"))return jQuery(".tdf_notify_popup").html(""),jQuery(".tdf_notify_msgs").html(""),sl9.notify.main.ShowMiniIcon(),n.removeClass("tdf_notify_minicon_close"),void nfec.event_hub.Trigger("notify_close",{});var i=sl9.manager.draft_order.Get(),o=[],r=sl9.manager.draft_order.GetTotalDiscount(i);if(0<r){var d=nfec.manager.cart.Get();o.push({discount_type:nfec.consta.DiscountTypeValue,discount_value:r,quantity:d.getTotalAddeds()})}var a=sl9.manager.promo.Get();o=o.concat(a.getSum(1));var c=sl9.common.tpl.Render(sl9.notify.popup_contenthtm,{discounteds:o});jQuery(".tdf_notify_popup").html(c),nfec.event_hub.Trigger("notify_discount_popup_discountable"),n.addClass("tdf_notify_minicon_close"),nfec.event_hub.Trigger("notify_open",{})}),nfec.event_hub.ListenTo("notify_discount_popup_discountable_add",function(t,e){if(e.content){var n=jQuery(".tdf_notify_popup_content"),i='<div class="tdf_content_section_discountable">'+e.content+"</div>";e.append?n.append(i):n.prepend(i)}}),nfec.event_hub.ListenTo("click_discount_checkout",function(t,e){switch(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"coa")){case sl9.struct.consta.ClickGoCart:if(nfec.platform.current.page.Detect().type==nfec.consta.PageTypeCart)return void nfec.event_hub.Trigger("notify_discount_icon_click",{});nfec.loading.control.Start(),nfec.platform.current.redirect.GoToCartPage();break;default:sl9.common.checkout.Process()}}),sl9.notify.anima.Start()},ShowMiniIcon:function(){var t=jQuery(".tdf_notify_minicon"),e=sl9.manager.draft_order.Get();if(e.has_discount&&e.items.length)t.removeClass("tdf_hidden");else if(sl9.notify.main.LoyalContent)t.removeClass("tdf_hidden");else{var n=nfec.manager.discountable.GetCurrentProductData();sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"sale_place_id")==sl9.struct.consta.SalePlaceWidget&&(n=!1),n||sl9.motivator.noti.BuildProgress()?t.removeClass("tdf_hidden"):t.addClass("tdf_hidden").removeAttr("style")}}},sl9.notify.messagehtm={m:'<div id="tdf_message_{{id}}" class="tdf_notify_msg"> {{content}}</div>',subs:[]},sl9.notify.message_control={id:1,getId:function(){return this.id+=1,this.id},Add:function(t,e){var n=jQuery(".tdf_notify_msgs"),i=this.getId();n.prepend(sl9.common.tpl.Render(sl9.notify.messagehtm,{id:i,content:t})),setTimeout(function(){sl9.notify.message_control.close(i)},e),nfec.event_hub.Trigger("notify_open",{})},close:function(t){var e=jQuery("#tdf_message_"+t);e.find(".tdf_discount_icon").slideUp(),e.slideUp(function(){e.remove(),jQuery(".tdf_notify_msg").length||(sl9.notify.main.ShowMiniIcon(),jQuery(".tdf_notify_minicon").removeClass("tdf_notify_minicon_close"),nfec.event_hub.Trigger("notify_close",{}))})}},sl9.notify.popup_contenthtm={m:'<div class="tdf_notify_popup_content"> {_ if discounteds.length _}3{_ endif _}</div>',subs:[" {{sl9.data.settings.8.checkout}} "," {{sl9.data.settings.8.view_cart}} "," {{ include sl9.notify.snippet_product_discounted plus promoItem as promoItem }} ",' <div class="tdf_content_section_discounted"><div class="tdf_discount_title"> {{sl9.data.settings.8.your_discount}}: </div> {_ for i,promoItem in discounteds _}2{_ endfor _} <button type="button" class="tdf_cta_btn tdfe {{sl9.data.settings.6.coa}}" data-e="click_discount_checkout"> {_ if ! sl9.data.settings.6.coa || sl9.data.settings.6.coa == 24 _}0{_ endif _} {_ if sl9.data.settings.6.coa == sl9.struct.consta.ClickGoCart _}1{_ endif _} </button></div> ']},sl9.notify.snippet_cart_discountablehtm={m:'<div class="tdf_discountable_cart"><div class="tdf_discount_icon tdf_discount_icon_{{discountable.discount_type}}"></div><div class="tdf_discount_content"> {{message}} </div></div>',subs:[]},sl9.notify.snippet_cart_discountinghtm={m:'<div class="tdf_discounting_cart"><div class="tdf_discount_icon tdf_discount_icon_{{promoItem.discount_type}}"></div><div class="tdf_discount_content"> {_ if promoItem.discount_type == consta.DiscountTypeFreeShip _}0{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypeFreeGift _}1{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypeValue _}2{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypePercent _}3{_ endif _} </div></div>',subs:[" {{sl9.data.settings.8.free_ship}}<br>{{sl9.data.settings.8.added}} "," {{ assign discounting = 1 }} {{ include sl9.notify.snippet_discounted_gift }} "," {{promoItem.toCDsc}} {{sl9.data.settings.8.added}} "," {{promoItem.toCDsc}} {{sl9.data.settings.8.added}} "]},sl9.notify.snippet_cart_progresshtm={m:'<div class="tdf_motivator tdf_container"><div class="tdf_motivator_container"> {{message}} <div class="tdf_motivator_border"><div class="tdf_motivator_progress" {{progress_style}}></div></div></div></div>',subs:[]},sl9.notify.snippet_discounted_gifthtm={m:'<div class="tdf_gift" data-offer-type-id="{{promoItem.offer_type_id}}" data-offer-id="{{promoItem.offer_id}}" data-promoitem-id="{{promoItem.id}}"> {{ assign gift = products.{{{promoItem.product_id}}} }} <div class="tdf_discount_tag"> {{sl9.data.settings.8.free_gift}} {_ if discounting _}0{_ endif _} </div><div class="tdf_discount_text"><a href="javascript:;" class="tdf_gift_title tdfe" data-e="show_free_gifts" data-pid="{{promoItem.product_id}}" data-pids="{{promoItem.discount_value}}" title="{{gift.title.toInput}}" data-vid="{{promoItem.variant_id}}" data-vids="{{promoItem.vids}}">{{gift.getTitle}}</a></div></div>',subs:[" {{sl9.data.settings.8.added}} "]},sl9.notify.snippet_product_discountablehtm={m:'<div class="tdf_discountable_product"><div class="tdf_discount_icon tdf_discount_icon_{{discountable.discount_type}}"></div><div class="tdf_discount_content"> {{ assign product = products.{{{discountable.product_id}}} }} {_ if discountable.discount_type == consta.DiscountTypeValue || discountable.discount_type == consta.DiscountTypePercent _}3{_ endif _} <div class="tdf_product_title">{{product.getTitle}}</div> {_ if discountable.discount_type == consta.DiscountTypeFreeShip _}4{_ endif _} {_ if discountable.discount_type == consta.DiscountTypeFreeGift _}2{_ endif _} </div></div>',subs:[" {{discountable.message.toTranslate}} {_ else _} {{sl9.data.settings.8.your_price}}: "," {{discountable.message.toTranslate}} {_ else _} {{sl9.data.settings.8.includes}} "," {{ include sl9.common.snippet_discountable_gift }} ",' {_ if discountable.hasMessage _}0{_ endif _} <br class="tdf_auto_br"><span class="tdf_price_original">{{product.current_sale_variant.display_old_price.toCurrency}}</span><span class="tdf_price_sales"> {{product.current_sale_variant.display_price.toCurrency}}</span> ',' <div class="tdf_discount_tag_freeship"> {_ if discountable.hasMessage _}1{_ endif _} <br class="tdf_auto_br"> {{sl9.data.settings.8.free_ship}} </div> ']},sl9.notify.snippet_product_discountedhtm={m:'<div class="tdf_discounted_product"><div class="tdf_discount_icon tdf_discount_icon_{{promoItem.discount_type}}"></div><div class="tdf_discount_content"> {_ if promoItem.discount_type == consta.DiscountTypeFreeShip _}0{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypeFreeGift _}1{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypeValue _}3{_ endif _} </div></div>',subs:[' <div class="tdf_discount_tag_freeship">{{sl9.data.settings.8.free_ship}}</div> ',' <div class="tdf_discount_tag">{{ include sl9.notify.snippet_discounted_gift }}</div> ',"{{sl9.data.settings.8.items}}{_ else _}{{sl9.data.settings.8.item}}",' <div class="tdf_discount_tag">{{sl9.data.settings.8.you_save}} {{promoItem.discount_value.toCrcF}}</div><div class="tdf_discount_text">{{promoItem.quantity}} {_ if promoItem.quantity > 1 _}2{_ endif _}</div> ']},sl9.notify.snippet_product_discountinghtm={m:'<div class="tdf_discounting_product"><div class="tdf_discount_icon tdf_discount_icon_{{promoItem.discount_type}}"></div><div class="tdf_discount_content"> {_ if promoItem.discount_type == consta.DiscountTypeFreeShip _}0{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypeFreeGift _}1{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypeValue _}4{_ endif _} {_ if promoItem.discount_type == consta.DiscountTypePercent _}5{_ endif _} </div></div>',subs:[' <div class="tdf_discount_tag_freeship">{{sl9.data.settings.8.free_ship}}<br>{{sl9.data.settings.8.added}}</div> ',' {{ assign discounting = 1 }} <div class="tdf_discount_tag">{{ include sl9.notify.snippet_discounted_gift }}</div> '," {{countBundleItems}} {{sl9.data.settings.8.items}} {_ else _} {{ include sl9.notify.snippet_product_titles plus promoItem as promoItem }} "," {{countBundleItems}} {{sl9.data.settings.8.items}} {_ else _} {{ include sl9.notify.snippet_product_titles plus promoItem as promoItem }} ",' <div class="tdf_discount_tag">{{promoItem.toDsc}} {{sl9.data.settings.8.added}}</div><div class="tdf_discount_text"> {_ if countBundleItems _}2{_ endif _} </div> ',' <div class="tdf_discount_tag">{{promoItem.toDscR}} {{sl9.data.settings.8.added}}</div><div class="tdf_discount_text"> {_ if countBundleItems _}3{_ endif _} </div> ']},sl9.notify.snippet_product_titleshtm={m:"{{ assign product = products.{{{promoItem.product_id}}} }}{{product.getTitle}}",subs:[]},sl9.notify.tplhtm={m:'<div id="tdf_notify" class="tdf_container"><div class=""><div class="tdf_notify_popup tdf_notify_container"></div><div class="tdf_notify_msgs tdf_notify_container"></div><div class="tdf_notify_minicon tdf_notify_container tdf_hidden tdfe" data-e="notify_discount_icon_click"></div></div></div>',subs:[]},sl9.sale={},sl9.sale.main={Start:function(){sl9.sale.main.formatOffers()},formatOffers:function(){var t=sl9.struct.consta.OfferTypeFirst,e=sl9.manager.offer.List(t);e.sort(function(t,e){if(!t.message)return 1;if(!e.message)return-1;var n=t.priority,i=e.priority;if(i<n)return-1;if(n<i)return 1;var o=t.trigger.compare(e.trigger);return o||(t.id>e.id?-1:1)}),sl9.manager.offer.Set(t,e)}},sl9.sale.promo={HandlePromo:function(t){var e,n=nfec.manager.cart.Get(),i=sl9.struct.consta.OfferTypeFirst,o=sl9.manager.offer.List(i),r=sl9.manager.promo.Get(),d=new sl9.manager.gifter;d.init(r);for(var a=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"gift_multi"),c=function(){var t=new sl9.model.promo_item;return t.offer_type_id=i,t.offer_id=e.id,t.app_id=sl9.struct.app.id,t.quantity=1,t},f=n.getAllItems(),_=0;_<o.length;_++){e=o[_];for(var s=0;s<f.length;s++){var l=f[s];if(!l.is_sub||nfec.IsSubDis)if(e.isIn(l.product_id,[l.variant_id]))switch((u=c()).discount_type=e.discount.type_id,u.discount_value=e.discount.value,e.discount.type_id){case nfec.consta.DiscountTypeFreeShip:t.addItem(u);break;case nfec.consta.DiscountTypeFreeGift:if(l.gifted&&!a)continue;var u=c();if(d.serve(i,e,u))continue;l.gifted=!0,t.addItem(u);break;default:(u=c()).discount_type=e.discount.type_id,u.discount_value=e.discount.value,u.product_id=l.product_id,u.variant_id=l.variant_id,u.price=l.price,t.addItem(u)}}for(var p=0;p<e.product_groups.length;p++)if(e.product_groups[p].ids)for(var h=0;h<e.product_groups[p].ids.length;h++){var m=new nfec.model.discountable;m.app_id=sl9.struct.app.id,m.discount_type=e.discount.type_id,m.discount_value=e.discount.value,m.message=e.message,m.offer_id=e.id,m.offer_type_id=i,m.product_id=e.product_groups[p].ids[h],m.vids=e.product_groups[p].vids,nfec.manager.discountable.Set(e.product_groups[p].ids[h],m)}}}},sl9.struct={},sl9.struct.app={id:2,code:"sl9"},sl9.struct.consta={RelGreater:2,RelLess:3,RelIsOneOf:7,RelHaveOneOf:8,RelContainOneOf:9,RelMultiContainOneOf:10,RelIsNotOneOf:42,RelDontHaveOneOf:43,RelDontContainOneOf:46,RelDontMContainOneOf:47,ClickGoCheckout:0,ClickGoCart:1,ClickGoShoping:2,ClickStay:3,ClickAdd:0,ClickReplace:1,OfferTypeFirst:1,OfferTypeUpsell:2,OfferTypeBundle:3,OfferTypeRec:4,OfferTypeCart:5,OfferTypeWholesale:7,OfferTypePostsale:8,OfferTypeTrigger:6,OfferTypeLoyal:9,GroupTypeAny:1,GroupTypeManual:2,GroupTypeAuto:3,GroupTypeRecentView:4,GroupTypeAI:5,GroupPriority:[1,5,4,3,2],SettingTypeFirst:1,SettingTypeUpsell:2,SettingTypeBundle:3,SettingTypeRec:4,SettingTypeCart:5,SettingTypeOther:6,SettingTypeBack:7,SettingTypeTrans:8,SettingTypeTheme:9,SettingTypeLoyal:10,ProductTypeSortByCreated:2,ActionTrackImpression:1,ActionTrackClick:2,ActionTrackView:3,ActionTrackAdd:4,CountdownSpecific:1,RecPlaceBottom:0,RecPlaceTop:1,RecPlaceUnderHeader:2,SalePlaceWidget:1,SalePlaceNoti:0,BundleStyleSimple:0,BundleStyleDetail:1,BundleStyleSet:2,BundleStyleNone:4,BundleStyleScrolless:5,BundleStyleAmz:6,ScheduleTypeDate:1,ScheduleTypeWeekly:2,ScheduleTypeMonthly:3,SegmentTypeLogined:1,SegmentTypeAnonym:2},sl9.struct.customer_col={Tags:1,Email:2,Phone:3,Name:4,Country:7,Province:8,ProvinceCode:9,ZipCode:10,City:11,Street:12,Address:13,Company:14,Spent:16,TotalOrder:17,FirstOrderAt:18,LastOrderAt:19,Purchased:20},sl9.rec={},sl9.rec.barhtm={m:'<div id="tdf_bar" class="tdf_container"><div class="tdf_bar_content tdfe" data-e="click_bar_bg"> {_ if isSmallScreen _}10{_ endif _} </div></div>',subs:[' <div class="tdf_bar_mm">{{message.toTranslate}}</div> ',' <div class="tdf_bar_btn"><button type="button"> {{sl9.data.settings.8.explore}} </button></div> '," {{ assign product = products.{{{p.id}}} }} {{ include sl9.rec.snippet_bar_img }} "," {{ assign product = products.{{{p.id}}} }} {{ include sl9.rec.snippet_bar_img }} "," <span>{{message.toTranslate}}</span> ",' <div class="tdf_bar_btn"><button type="button"> {{sl9.data.settings.8.explore}} </button></div> '," {{ assign product = products.{{{p.id}}} }} {{ include sl9.rec.snippet_bar_img }} "," {_ if 5 > i _}2{_ endif _} "," {_ if 2 > i _}3{_ endif _} "," {_ if i > 1 _}6{_ endif _} ",' {_ if sl9.data.settings.4.text_bar _}0{_ endif _} {_ if ! notBtn _}1{_ endif _} <div class="tdf_countdown tdf_hidden"></div> {_ for i,p in barproducts _}7{_ endfor _} {_ else _} <div class="tdf_bar_left_img"> {_ for i,p in barproducts _}8{_ endfor _} </div> {_ if isMessage _}4{_ endif _} {_ if ! notBtn _}5{_ endif _} <div class="tdf_countdown tdf_hidden"></div> {_ for i,p in barproducts _}9{_ endfor _} ']},sl9.rec.bar={currentBarProducts:[],Start:function(){var t=sl9.struct.consta.SettingTypeRec,e=sl9.main.GetData("settings",t,"mobile_header_on");if(!nfec.util.tool.IsTabletOrSmaller()||e){sl9.rec.bar.Run();var i=function(t){for(var e=0;e<sl9.rec.bar.currentBarProducts.length;e++){var n=sl9.rec.bar.currentBarProducts[e];if(t||(t=n.id),n.id==t){sl9.manager.product_offer.AddRaw(sl9.struct.consta.OfferTypeRec,n.offer_id,n.id);break}}var i=nfec.manager.product.FindByID(t);nfec.event_hub.Trigger("show_quick_view",{handle:i.handle,qv_products:sl9.rec.bar.currentBarProducts})};nfec.event_hub.ListenTo("click_bar_product",function(t,e){e.event.stopPropagation();var n=parseInt(e.els.data("id"));i(n)}),nfec.event_hub.ListenTo("click_bar_bg",function(t,e){i()})}},Run:function(){for(var t,e,n,i,o,r,d=sl9.struct.consta.OfferTypeRec,a=sl9.manager.offer.List(d),c=[],f=[],_=!1,s=0;s<a.length;s++)if((t=a[s]).place_id==sl9.struct.consta.RecPlaceTop||t.place_id==sl9.struct.consta.RecPlaceUnderHeader)for(i=t.place_id,o=0,r=t.product_groups.length;o<r;o++)if((e=t.product_groups[o]).type_id==sl9.struct.consta.GroupTypeRecentView&&(e.ids=nfec.manager.recent_views.GetProductIDs()),e.ids)for(var l=0;l<e.ids.length;l++)if(-1==f.indexOf(e.ids[l])){var u=nfec.manager.product.FindByID(e.ids[l]);u&&u.hasImage()&&(f.push(e.ids[l]),c.push({id:e.ids[l],offer_num:d,offer_id:t.id}),t.id,n||(n=t.message),t.not_btn&&(_=!0))}if(f.length){sl9.rec.bar.currentBarProducts=c.slice(0,16),c=c.slice(0,10);var p=jQuery("body").first();i==sl9.struct.consta.RecPlaceUnderHeader&&(p=jQuery(".endOfLayoutContentX").first().parent()),p.prepend(sl9.common.tpl.Render(sl9.rec.barhtm,{message:n,isMessage:!!n,barproducts:c,notBtn:_})),nfec.event_hub.Trigger("show_top_bar");var h,m=[];for(s=0;s<c.length;s++){var g=(h=c[s]).offer_num+"_"+h.offer_id;-1==m.indexOf(g)&&(m.push(g),sl9.common.track.AddImpression(h.offer_num,h.offer_id))}}}},sl9.rec.clock=function(){this.d=0,this.h=0,this.m=0,this.s=0,this.init=function(t){this.d=Math.floor(t/86400),t-=86400*this.d,this.h=Math.floor(t/3600),t-=3600*this.h,this.m=Math.floor(t/60),this.s=t-60*this.m},this.run=function(){return this.s+=-1,0<=this.s||(this.s=59,this.m+=-1,0<=this.m||(this.h+=-1,this.m=59,0<=this.h||(this.d+=-1,this.h=23,0<=this.d)))},this.getNum=function(t){return t<10?"0"+t:t},this.getStr=function(){var t="";return this.d&&(t+=this.getNum(this.d)+" "),t+this.getNum(this.h)+":"+this.getNum(this.m)+":"+this.getNum(this.s)}},sl9.rec.content={Products:{},firstLoadProducts:[],PrepareProduct:function(t){-1==sl9.rec.content.firstLoadProducts.indexOf(t)&&sl9.rec.content.firstLoadProducts.push(t)},Fetch:function(){sl9.rec.content.fetchProducts(sl9.rec.content.firstLoadProducts),sl9.rec.content.firstLoadProducts=[]},getProductFromPage:function(t,e){var n=nfec.manager.product.FindByID(t);handle=n.handle;for(var i=e.find('a[href*="/products/'+handle+'"]'),o=!1,r=0,d=i.length;r<d;r++){var a=i.eq(r);if(-1==(u=a.attr("href")).indexOf(".shopify.com")){var c=a.find("img");if(c.length||(c=a.parent().find("img")),c.length){o=!0,i=a;break}}}if(!o)return null;for(var f,_,s=i,l=0;l<12&&(f=s.parent()).length;l++){for(r=0,d=(_=f.find('a[href*="/products/"]')).length;r<d;r++){var u;if(-1==(u=_.eq(r).attr("href")).indexOf(".shopify.com")){var p=nfec.platform.current.product.GetHandleFromHref(u);if(p&&p!=handle)return s}}s=f}return null},fetchProducts:function(t){var e,n=sl9.manager.rform.Get(),i=sl9.main.GetData("product_ids",sl9.struct.consta.ProductTypeSortByCreated)||[],c={},o=[],r=n.per_page,d=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeRec,"use_default");if(r<4&&4<=i.length||d)for(a=0,f=t.length;a<f;a++)nfec.event_hub.Trigger("rec_product_ready",{id:t[a],isImg:1});else{for(a=0,f=t.length;a<f;a++)offset=i.indexOf(t[a]),-1==offset&&(offset=i.length),e=Math.ceil((offset+1)/r),c[e]||(c[e]=[],o.push(e)),c[e].push(t[a]);for(var a=0,f=o.length;a<f;a++)sl9.rec.page.Load(o[a]);nfec.event_hub.ListenTo("rec_page_ready",function(t,e){var n,i=e.id,o=c[i];if(o){var r=jQuery("<div></div>");r[0].innerHTML=e.raw,r=r.find(".endOfLayoutContentX").first().parent();for(var d=0,a=o.length;d<a;d++)(n=sl9.rec.content.getProductFromPage(o[d],r))&&nfec.event_hub.Trigger("rec_product_ready",{id:o[d],els:n})}},!0)}}},sl9.rec.countdown={clock:{d:0,h:0,m:0,s:0},Start:function(){var l=sl9.struct.consta.SettingTypeRec;if(sl9.main.GetData("settings",l,"countdown_on")){var u=0,t=sl9.main.GetData("settings",l,"countdown_d");t&&(u+=86400*t);var e=sl9.main.GetData("settings",l,"countdown_h");e&&(u+=3600*e);var n=sl9.main.GetData("settings",l,"countdown_m");n&&(u+=60*n),u&&nfec.event_hub.ListenTo("show_top_bar",function(){var t=jQuery(".tdf_countdown"),e=sl9.main.GetData("settings",l,"countdown_type"),n=new Date,i=Math.floor(n.getTime()/1e3),o=i;switch(e){case sl9.struct.consta.CountdownSpecific:var r=sl9.main.GetData("settings",l,"countdown_start_m");if(!r)return;var d=sl9.main.GetData("settings",l,"countdown_start_d");if(!d)return;var a=new Date;a.setMonth(r-1,d),a.setHours(0,0,0,0),o=Math.floor(a.getTime()/1e3);break;default:var c=nfec.store.control.Get("cdt");c?o=parseInt(c):nfec.store.control.Set("cdt",o,u+604800,!0)}if(!(i<o)){var f=o+u-i;if(!(f<1)){var _=new sl9.rec.clock;_.init(f),t.removeClass("tdf_hidden");var s=setInterval(function(){if(!_.run())return clearInterval(s),void t.remove();t.html(_.getStr())},1e3)}}})}}},sl9.rec.fullhtm={m:'<div class="tdf_rec_product" data-rec-product-id="{{product.id}}" data-rec-offer-id="{{offer_id}}" data-rec-offer-num="{{offer_num}}" data-product-id="{{product.id}}"><a href="{{product.url}}" class="tdf_img_qv tdf_img_parent" data-vid="{{product.variants.0.id}}"><div class="tdf_img tdf_vertical_img tdf_img_fake" style="background-image:url({{product.image.mediumSrc}})"></div><div class="tdf_vertical_name"><h4 class="tdf_vertical_title" title="{{product.getTitle.toInput}}">{{product.getTitle}}</h4></div><div class="tdf_vertical_price"> {{ include sl9.common.snippet_price plus product.variants.0 as current_variant }} </div></a> {_ if ! not_btn _}2{_ endif _}</div>',subs:["tdf_hidden",' <option class="tdf_qv_option" value="{{variant.id}}">{{variant.getTitle}}</option> ',' <div class="tdf_rec_product_btm"><div class="tdf_vertical_variants {_ if 2 > product.variants.length _}0{_ endif _}"><div class="tdf_select_box"><select class="tdf_select_input tdfe" data-e="select_rec_variant" data-et="change"> {_ for v,variant in product.variants _}1{_ endfor _} </select><span class="tdf_select_icon"></span><div class="tdf_select_backdrop"></div></div></div><button type="button" class="tdf_normal_btn tdfe" data-e="rec_add_to_cart">{{sl9.data.settings.8.add}}</button></div> ']},sl9.rec.imghtm={m:'<a class="tdf_img tdf_img_parent tdf_img_qv tdf_rec_product" data-rec-product-id="{{product.id}}" data-rec-offer-id="{{offer_id}}" data-rec-offer-num="{{offer_num}}" href="{{product.url}}" style="background-image:url({{product.image.mediumSrc}})"><span class="tdf_img_title tdf_img_fake">{{product.getTitle}}</span></a>',subs:[]},sl9.rec.main={Start:function(){if((sl9.rec.main.formatOffers(),sl9.rec.countdown.Start(),sl9.rec.bar.Start(),nfec.util.tool.IsTabletOrSmaller())&&sl9.main.GetData("settings",sl9.struct.consta.SettingTypeRec,"no_mobile"))return;sl9.rec.rform.Start(),sl9.rec.quickview.Start();var t=["cart_synced","rec_format_ready"];nfec.platform.current.page.Detect().type==nfec.consta.PageTypeProduct&&t.push("product_data_synced"),nfec.event_hub.ListenToMulti(t,function(){sl9.rec.section.Start()}),jQuery(document).on("click",".tdf_rec_product",function(t){var e=jQuery(this),n=parseInt(e.data("rec-offer-id")),i=parseInt(e.data("rec-product-id"));sl9.manager.product_offer.AddRaw(parseInt(e.data("rec-offer-num")),n,i)}),nfec.event_hub.ListenTo("rec_add_to_cart",function(t,e){var n=e.els.closest(".tdf_rec_product");if($variant=n.find(".tdf_select_input").find(":selected"),sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"product_fields")){var i=nfec.manager.product.FindByID(parseInt(n.data("product-id")));nfec.platform.current.redirect.GoToProductPage(i.handle,$variant.val())}else{nfec.util.tpl.AddBtnLoading(e.els),nfec.platform.current.cart_api.AddItem($variant.val(),1,function(t){nfec.util.tpl.RemoveBtnLoading(e.els),t||(sl9.common.product.HandleSoldout(e.els),$variant.length&&setTimeout(function(){$variant.siblings().length&&sl9.common.product.CleanSoldout(e.els),$variant.remove()},3e3))})}}),nfec.event_hub.ListenTo("select_rec_variant",function(t,e){e.productels=e.els.closest(".tdf_rec_product"),nfec.event_hub.Trigger("select_variant",e)})},formatOffers:function(){var t,e,n=sl9.struct.consta.OfferTypeRec,i=sl9.manager.offer.List(n),r=nfec.platform.current.page.Detect(),o=[],d=[];for(jQuery(".tdfPlaceRec").each(function(){var t=jQuery(this).data("offer-id");t&&d.push(parseInt(t))}),t=0;t<i.length;t++)e=i[t],(-1!=d.indexOf(e.id)||e.trigger.checkPage(r))&&o.push(e);o.sort(function(t,e){if(!t.message)return 1;if(!e.message)return-1;if(r.type==nfec.consta.PageTypeProduct){var n=t.trigger.priority;if((i=e.trigger.priority)<n)return-1;if(n<i)return 1}var i;n=t.priority;if((i=e.priority)<n)return-1;if(n<i)return 1;var o=t.trigger.compare(e.trigger);return o||(t.id>e.id?-1:1)}),sl9.manager.offer.Set(n,o)}},sl9.rec.page={loaded:{},Load:function(e){sl9.rec.page.loaded[e]||((sl9.rec.page.loaded[e]=1)===e&&sl9.rec.page.page1?nfec.event_hub.Trigger("rec_page_ready",{id:e,raw:sl9.rec.page.page1}):nfec.util.request.Run({url:"/collections/all?sort_by=created&page="+e,dataType:"html",success:function(t){nfec.event_hub.Trigger("rec_page_ready",{id:e,raw:t})},error:function(){sl9.rec.page.loaded[e]=0}}))}},sl9.rec.quickview={Start:function(){nfec.event_hub.ListenTo("click_rec_img",function(t,e){for(var n,i=e.els.closest(".tdf_rec"),o=[],r=nfec.util.tpl.GetTplData(i.data("tpl-did")),d=r.section.products.concat(r.section.otherProducts),a=0;a<d.length;a++)n=d[a],o.push({id:n.id,offer_id:n.offer_id,offer_type_id:n.offer_num});nfec.event_hub.Trigger("show_quick_view",{handle:e.handle,qv_products:o,is_normal:!0})})}},sl9.rec.rform={Start:function(){nfec.event_hub.ListenTo("theme_version_change",function(){sl9.manager.rform.Del()},!0);var e=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeRec,"use_default"),x=!1,T=function(){var t=new sl9.model.rform;t.tpl='<div class="tdf_rec_stable_div tdf_nonpopup"><noscript class="tdf_rec_products"></noscript></div>',t.clas="tdf_rec_stable_"+e,sl9.manager.rform.Set(t),x||nfec.event_hub.Trigger("rec_format_ready")};if(e)T();else{var t=sl9.manager.rform.Get();if(t&&(!t.tpl||-1==t.tpl.indexOf("tdf_rec_stable_div"))){if(nfec.event_hub.Trigger("rec_format_ready"),sl9.manager.rform.Check())return;x=!0}nfec.util.request.Run({url:"/collections/all?sort_by=created",dataType:"html",success:function(t){if(nfec.platform.current.element.CheckTheme("Narrative"))T();else{var e=jQuery("<div></div>");e[0].innerHTML=t;for(var n=(e=e.find(".endOfLayoutContentX").first().parent()).find('a[href*="/products/"]'),i=!1,o=0,r=n.length;o<r;o++){var d=n.eq(o);if(-1==(u=d.attr("href")).indexOf(".shopify.com")){var a=d.find("img");if(a.length||(a=d.parent().find("img")),a.length){i=!0,n=d;break}}}if(i){var c,f,_=n,s=nfec.platform.current.product.GetHandleFromHref(n.attr("href"));if(s){t:for(var l=0;l<24;l++){_=c=_.parent();for(o=0,r=(f=c.find('a[href*="/products/"]')).length;o<r;o++){var u;if(-1==(u=f.eq(o).attr("href")).indexOf(".shopify.com")){var p=nfec.platform.current.product.GetHandleFromHref(u);if(p&&p!=s)break t}}}var h=0;_.children().each(function(){jQuery(this).find('a[href*="/products/"]').length&&h++}),_.html('<noscript type="text/tpl" class="tdf_rec_products"></noscript>');for(l=0;l<2;l++)1==_.parent().children().length&&(_=_.parent());var m="",g="",y=e.find(".endOfLayoutContentX");if(y.length){var v=y.parent();m=(m=v.attr("class")||"").trim(),g=v.prop("tagName").toLowerCase()}var b=_[0].outerHTML,w=_.parent().attr("class")||"";nfec.platform.current.element.CheckTheme("District")&&(w+=" collection");var k=new sl9.model.rform;k.per_page=h,k.tpl=b,k.clas=w,k.wrap=m,k.wrapTag=g,sl9.manager.rform.Set(k),sl9.rec.page.page1=t,x||nfec.event_hub.Trigger("rec_format_ready")}else T()}else T()}}})}}},sl9.rec.section={Start:function(){nfec.event_hub.ListenTo("rec_show_section",function(t,e){sl9.rec.section.Handle(e),sl9.rec.content.Fetch()},!0,!0),sl9.rec.section.run()&&sl9.rec.content.Fetch()},run:function(){var t=sl9.struct.consta.OfferTypeRec,e=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeRec,"d_slot");nfec.util.tool.IsTabletOrSmaller()&&(e=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeRec,"m_slot")),e||(e=4),e<1&&(e=1);var n=nfec.platform.current.page.Detect(),i=0;n.type==nfec.consta.PageTypeProduct&&(i=n.payload.id);var o,r,d=sl9.manager.offer.List(t),a=[],c=[],f=[],_=sl9.common.rexy.GetSame(),s=0,l=_.length;for(g in d)if(d.hasOwnProperty(g)&&(o=d[g]).place_id==sl9.struct.consta.RecPlaceBottom){var u=[];for(v=0,b=o.product_groups.length;v<b;v++){if((r=o.product_groups[v]).type_id==sl9.struct.consta.GroupTypeRecentView){if(r.ids=nfec.manager.recent_views.GetProductIDs(),!r.ids.length)continue;if(r.ids.length<e)for(;s<_.length&&r.ids.length<e;s++)-1==r.ids.indexOf(_[s])&&r.ids.push(_[s])}if(r.ids&&r.ids.length){switch(r.type_id){case sl9.struct.consta.GroupTypeAuto:r.ids=nfec.util.tool.Shuffle(r.ids);case sl9.struct.consta.GroupTypeManual:}r.offer=o,u.push(r)}}u.length&&(o.product_groups=u,c.push(o))}i&&f.push(i);var p=nfec.manager.cart.GetCurrentProductIDs();f=f.concat(p);for(var h,m={},g=0,y=c.length;g<y;g++){void 0===m[(o=c[g]).message]?(m[o.message]=a.length,h={id:a.length,message:o.message,not_btn:o.not_btn,products:[],otherProducts:[],product_groups:[],pois:[]},a.push(h)):h=a[m[o.message]];for(var v=0,b=o.product_groups.length;v<b;v++)h.product_groups.push(o.product_groups[v]),h.pois.push(o.id)}var w={};for(g=0,y=a.length;g<y;g++)for(v=0,b=(h=a[g]).product_groups.length;v<b;v++)for(var k=0,x=(r=h.product_groups[v]).ids.length;k<x;k++)w[r.ids[k]]||(w[r.ids[k]]=[]),-1==w[r.ids[k]].indexOf(v)&&w[r.ids[k]].push(v),r.isPreSelect()||(h.is_rexy=1),r.type_id!=sl9.struct.consta.GroupTypeManual&&-1!=f.indexOf(r.ids[k])||(h.products.length<e?(f.push(r.ids[k]),h.products.push({offer_id:h.pois[v],offer_num:t,id:r.ids[k]})):h.otherProducts.push({offer_id:h.pois[v],offer_num:t,id:r.ids[k]}));var T=[];for(g=0,y=a.length;g<y;g++)(h=a[g]).products.length&&(T.push(h),h.otherProducts.sort(function(t,e){return w[t.id]-w[e.id]}));for(g=0,y=T.length;g<y;g++)if((h=T[g]).is_rexy)for(;s<l&&!(h.products.length>=e);s++)-1==f.indexOf(_[s])&&h.products.push({id:_[s],offer_id:o.id,offer_num:t});if(4<(y=T.length)&&(y=4),0!=y){nfec.event_hub.Trigger("rec_has_bottom",{});for(g=0;g<y;g++)sl9.rec.section.Handle(T[g]);return y}},Handle:function(k){for(var t=0,e=k.products.length;t<e;t++)sl9.rec.content.PrepareProduct(k.products[t].id);var x=[],T=[];return nfec.event_hub.ListenTo("rec_product_ready",function(t,e){if(-1==x.indexOf(e.id)){for(var n,i=0,o=k.products.length;i<o;i++)if(k.products[i].id==e.id){n=k.products[i];break}if(n){if(!x.length){var r=sl9.manager.rform.Get(),d=r.wrap,a=jQuery(".endOfLayoutContentX").first().parent(),c=sl9.common.tpl.Render(sl9.rec.tplhtm,{section:k,format:r.tpl,clas:r.clas},!0);if(d){for(var f=!1,_=d.split(" "),s=0;s<_.length;s++)a.hasClass(_[s])&&(f=!0);if(!f){var l=r.wrapTag;c="<"+l+' class="'+d+'">'+c+"</"+l+">"}}var u=jQuery("#tdfRecFlag");if(u.length)u.first().before(c);else if((u=jQuery(".tdfPlaceRec")).length){var p=u.first();u.each(function(){var t=jQuery(this).data("offer-id");t&&k.products.length&&k.products[0].offer_id==t&&(p=jQuery(this))}),p.before(c)}else{var h=a.length?a.children("footer"):jQuery("footer");h.length?h.before(c):a.append(c)}}var m;if(x.push(n.id),e.isImg){var g=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeRec,"use_default"),y=sl9.rec.imghtm;switch(g){case 2:y=sl9.rec.fullhtm}m=sl9.common.tpl.Render(y,{offer_id:n.offer_id,offer_num:n.offer_num,not_btn:k.not_btn,product:nfec.manager.product.FindByID(n.id)})}else{var v=function(t,e){t.addClass("tdf_rec_product"),nfec.util.tool.SetAtt(t,"rec-product-id",n.id),nfec.util.tool.SetAtt(t,"rec-offer-id",n.offer_id),nfec.util.tool.SetAtt(t,"rec-offer-num",n.offer_num),e&&t.addClass("tdf_rec_product_li")};v(e.els,!0),v(e.els.find("a,button")),m=e.els[0].outerHTML}var b=jQuery("#tdf_rec_"+k.id);b.innerHeight();b.find(".tdf_rec_products").before(m),nfec.event_hub.Trigger("update_label",{});var w=n.offer_num+"_"+n.offer_id;-1==T.indexOf(w)&&(T.push(w),sl9.common.track.AddImpression(n.offer_num,n.offer_id)),"function"==typeof window.lazyload&&lazyload()}}}),setTimeout(function(){var t=jQuery("#tdf_rec_"+k.id+".tdf_rec_stable_2 .tdf_rec_stable_div");t.length&&sl9.common.tpl.AdjustH(t,"tdf_rec_product")},200),!0}},sl9.rec.snippet_bar_imghtm={m:'<img class="tdfe tdf_bar_img" data-e="click_bar_product" data-offer-id="{{p.offer_id}}" data-id="{{product.id}}" height="56px" src="{{product.image.smallSrc}}" alt="{{product.getTitle}}">',subs:[]},sl9.rec.tplhtm={m:'<div class="tdf_rec {{clas}}" id="tdf_rec_{{section.id}}" data-tpl-did="{{tpl_data_id}}"><h2 class="tdf_rec_h2">{{section.message.toTranslate}}</h2>{{format}}</div>',subs:[]},sl9.upsell={},sl9.upsell.last={IsActive:!1,getLastOffers:function(){for(var t=sl9.manager.offer.ListAll(sl9.struct.consta.OfferTypeUpsell),e=[],n=0;n<t.length;n++)t[n].trigger.on_checkout&&e.push(t[n]);return e},Start:function(){nfec.event_hub.ListenTo("cart_updated",function(t,e){var n=sl9.upsell.last.getLastOffers();sl9.common.checkout.HasOffer=!1;var i=nfec.manager.cart.Get(),o=i.getProductIDs(),r=i.getVariantIDs();sl9.upsell.main.GetSections(n,o,r,!1,!0).sections.length&&(sl9.common.checkout.HasOffer=!0)},!0,!0),setTimeout(function(){nfec.event_hub.ListenTo("show_checkout_offer",function(t,e){var n=sl9.upsell.last.getLastOffers(),i=nfec.manager.cart.Get(),o=i.getProductIDs(),r=i.getVariantIDs(),d=sl9.upsell.main.GetSections(n,o,r,!1,!0),a=d.sections;if(a.length){var c=d.offer_ids,f=sl9.manager.draft_order.Get(),_=nfec.manager.cart.GetOldTotal();jQuery("body").first().append(sl9.common.tpl.Render(sl9.upsell.tplhtm,{sections:a,draft_order:f,display_id:d.display_id,is_last:1,old_cart_total:_},!0)).addClass("tdf_disable_scroll");for(var s=0;s<c.length;s++)sl9.common.track.AddAction(sl9.struct.consta.ActionTrackView,sl9.struct.consta.OfferTypeUpsell,c[s]);sl9.upsell.last.IsActive=!0,sl9.common.tpl.AdjustH(jQuery(".tdf_bs_offer_1 .tdf_bs_offer_products"),"tdf_bs_offer_product"),nfec.event_hub.Trigger("upsale_showed",{})}else sl9.common.checkout.Process()})},50),nfec.event_hub.ListenTo("click_upsell_checkout",function(t,e){sl9.common.checkout.Process()})}},sl9.upsell.main={Start:function(t){if(nfec.util.tool.IsTabletOrSmaller()&&sl9.main.GetData("settings",sl9.struct.consta.SettingTypeUpsell,"no_mobile"))return;sl9.upsell.main.formatOffers(),sl9.upsell.section.Start(),sl9.upsell.last.Start();var n=function(){jQuery("#tdf_upsell").remove(),jQuery("body").removeClass("tdf_disable_scroll"),sl9.upsell.last.IsActive||sl9.common.checkout.IsCheckingOut||sl9.common.checkout.IsCheckingOutStop?sl9.common.checkout.Process():nfec.event_hub.Trigger("close_popup",{})};nfec.event_hub.ListenTo("click_upsell_bg",function(t,e){jQuery(e.event.target).closest(".tdf_dialog_content").length||n()}),nfec.event_hub.ListenTo("upsell_view_cart",function(t,e){nfec.loading.control.Start(),nfec.platform.current.redirect.GoToCartPage()}),nfec.event_hub.ListenTo("select_upsell_variant",function(t,o){var e=parseInt(o.els.val()),r=o.els.closest(".tdf_bs_offer_product"),n=parseInt(r.data("product-id")),i=nfec.manager.product.FindByID(n),d=i.getVariantByID(e);r.find(".tdf_horizontal_price").html(sl9.common.tpl.Render(sl9.common.snippet_pricehtm,{current_variant:d})),r.find(".tdf_discountable_div").html(sl9.common.tpl.Render(sl9.common.snippet_discountablehtm,{discountable:d.getDiscountable()})),nfec.event_hub.Trigger("re_adjust_h"),sl9.common.product.CleanSoldout(r.find("button")),sl9.manager.product_offer.AddRaw(sl9.struct.consta.OfferTypeUpsell,parseInt(r.data("offer-id")),n),nfec.manager.product.GetByHandle(i.handle,function(t){var e=parseInt(o.els.val()),n=t.getVariantByID(e);if(n){var i=n.image.mediumSrc();i&&r.find(".tdf_img").css("background-image","url("+i+")")}})});var l=function(){var t=jQuery(".tdf_upsell_trigger");return{product_id:parseInt(t.data("trigger-prod")),variant_id:parseInt(t.data("trigger-var"))}};nfec.event_hub.ListenTo("replace_qv_upsell_product",function(t,e){var n=e.els.closest(".tdf_qv_content");n.length||(n=e.els.closest(".tdf_products_vertical_content"));var i=parseInt(n.data("product-id")),o=parseInt(n.data("variant-id")),r={product_id:i,variant_id:o};sl9.manager.replaceflag.Add(i,o),nfec.platform.base.cart_api.ReplaceItem(l(),r,function(t){t?nfec.event_hub.Trigger("close_quick_view",{}):sl9.common.product.NotiSelectOther()})}),nfec.event_hub.ListenTo("click_add_upsell_product",function(t,e){var n=e.els.closest(".tdf_bs_offer_product"),i=parseInt(n.find(".tdf_select_input").val()),o=n.find(".tdf_select_input").find(":selected");nfec.util.tpl.AddBtnLoading(e.els);var r=n.find(".tdf_qty_input").val()||1,d=parseInt(n.data("offer-id")),a=parseInt(n.data("product-id"));if(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"product_fields")){var c=nfec.manager.product.FindByID(a);nfec.platform.current.redirect.GoToProductPage(c.handle,i)}else{sl9.manager.product_offer.AddRaw(sl9.struct.consta.OfferTypeUpsell,d,a);var f=sl9.manager.offer.Get(sl9.struct.consta.OfferTypeUpsell,d),_=function(t){if(!t)return nfec.util.tpl.RemoveBtnLoading(e.els),sl9.common.product.HandleSoldout(n.find("button")),void setTimeout(function(){o.siblings().length&&sl9.common.product.CleanSoldout(e.els),o.remove()},3e3)};if(f.is_replace){var s={product_id:a,variant_id:i};sl9.manager.replaceflag.Add(a,i),nfec.platform.base.cart_api.ReplaceItem(l(),s,function(t){_(t)})}else nfec.platform.current.cart_api.AddItem(i,r,function(t){_(t)})}}),t||setTimeout(function(){nfec.event_hub.ListenTo("cart_item_added_by_update",function(t,e){e.compared.is_replaced&&sl9.upsell.main.handleAddItemEvent(t,e.compared)}),nfec.event_hub.ListenTo("cart_item_added",function(t,e){var n=sl9.common.checkout.IsCheckingOut,i=sl9.upsell.main.handleAddItemEvent(t,e,n);n&&i&&(sl9.common.checkout.IsCheckingOutStop=!0,sl9.common.checkout.IsCheckingOut=!1)},!0,!0)},50),nfec.event_hub.ListenTo("click_upsell_cta",function(t,e){if(sl9.common.checkout.IsCKing)sl9.common.checkout.Process();else switch(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeUpsell,"coa")){case sl9.struct.consta.ClickGoCart:nfec.loading.control.Start(),nfec.platform.current.redirect.GoToCartPage();break;case sl9.struct.consta.ClickStay:n();break;case sl9.struct.consta.ClickGoShoping:nfec.loading.control.Start(),nfec.platform.current.redirect.GoToCollectionPage();break;default:sl9.common.checkout.Process()}}),nfec.event_hub.ListenTo("click_upsell_product",function(t,e){var n=e.els.closest(".tdf_bs_offer_product"),i=parseInt(n.data("product-id")),o=nfec.manager.product.FindByID(i),r=[],d=parseInt(n.data("offer-id")),a=sl9.manager.offer.Get(sl9.struct.consta.OfferTypeUpsell,d),c={},f=a.product_groups[0].pvids;if(f)for(h in f)f.hasOwnProperty(h)&&(c[h]=f[h]);var _=[a.id],s={handle:o.handle};if(a.is_replace)s.not_show_qty=1,s.is_custom_cta=1,s.custom_cta=sl9.common.tpl.Render(sl9.upsell.replace_btnhtm,{offer_id:a.id});else{e=nfec.util.tpl.GetTplData(jQuery("#tdf_upsell").data("tpl-did"));for(var l,u,p=[],h=0;h<e.sections.length;h++){l=e.sections[h].products.concat(e.sections[h].otherProducts);for(var m=0;m<l.length;m++){if(u=l[m],-1==p.indexOf(u.id))if(p.push(u.id),r.push({id:u.id,offer_id:u.offer.id,offer_type_id:sl9.struct.consta.OfferTypeUpsell}),-1==_.indexOf(u.offer.id))if(_.push(u.offer.id),f=u.offer.product_groups[0].pvids)for(h in f)f.hasOwnProperty(h)&&(c[h]=f[h])}}s.qv_products=r}s.pvids=c,nfec.event_hub.Trigger("show_quick_view",s),sl9.manager.product_offer.AddRaw(sl9.struct.consta.OfferTypeUpsell,d,i)}),nfec.event_hub.ListenTo("cart_empty",function(t,e){nfec.store.control.Remove("uss")},!0)},formatOffers:function(){var t=sl9.struct.consta.OfferTypeUpsell,e=sl9.manager.offer.ListAll(t);e.sort(function(t,e){if(t.message){if(!e.message)return-1}else if(e.message)return 1;var n=t.trigger.priority;if((i=e.trigger.priority)<n)return-1;if(n<i)return 1;var i;n=t.priority;if((i=e.priority)<n)return-1;if(n<i)return 1;var o=t.trigger.compare(e.trigger);if(o)return o;if(t.discount.isValid()){if(!e.discount.isValid())return-1}else if(e.discount.isValid())return 1;if(t.is_strict){if(!e.is_strict)return-1}else if(e.is_strict)return 1;return t.id>e.id?-1:1}),sl9.manager.offer.Set(t,e)},handleAddItemEvent:function(t,e,n){for(var i=e.added[0],o=i.product_id,r=sl9.manager.offer.List(sl9.struct.consta.OfferTypeUpsell),d=[],a=0;a<r.length;a++)!n&&r[a].trigger&&r[a].trigger.on_checkout||d.push(r[a]);var c=sl9.upsell.main.GetSections(d,[o],[i.variant_id]),f=c.sections;if(f.length||e.is_tdf&&!n){var _=c.offer_ids,s=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeUpsell,"up_secl")||2;f=f.slice(0,s);var l=sl9.manager.draft_order.Get(),u=nfec.manager.cart.GetOldTotal(),p=sl9.common.checkout.IsCKing;if(f.length){var h=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeUpsell,"us_lim");if(h){if(!e.is_tdf){var m=nfec.store.control.Get("uss");if(h&&m)return}nfec.store.control.Set("uss",1,3600)}jQuery("#tdf_upsell").remove(),jQuery("body").first().append(sl9.common.tpl.Render(sl9.upsell.tplhtm,{added_item:i,sections:f,draft_order:l,is_replaced:e.is_replaced,is_checkout:p,display_id:c.display_id,old_cart_total:u},!0)).addClass("tdf_disable_scroll");for(var g=0;g<_.length;g++)sl9.common.track.AddAction(sl9.struct.consta.ActionTrackView,sl9.struct.consta.OfferTypeUpsell,_[g]);return jQuery(".tdf_bs_offer_1 .tdf_bs_offer_products").each(function(){sl9.common.tpl.AdjustH(jQuery(this),"tdf_bs_offer_product")}),nfec.platform.current.element.CheckTheme("Prestige")&&jQuery("#sidebar-cart .Drawer__Close").click(),nfec.platform.current.element.CheckTheme("Debutify")&&jQuery("head").append("<style>#CartDrawer{z-index:999999988!important}.overlay-drawer{z-index:999999987!important}</style>"),setTimeout(function(){jQuery("body.blocked-scroll").removeClass("blocked-scroll")},300),jQuery("head").append("<style>.slidecarthq{z-index:999999988!important}.slidecarthq-overlay{z-index:999999987!important}</style>"),nfec.event_hub.Trigger("upsale_showed",{}),!0}if(jQuery("#tdf_upsell").length){var y=jQuery(".tdf_upsell_trigger");return y.length||(y=jQuery(".tdf_upsell_checkout")),y.replaceWith(sl9.common.tpl.Render(sl9.upsell.snippet_added_itemhtm,{added_item:i,draft_order:l,is_replaced:e.is_replaced,is_checkout:p,old_cart_total:u})),jQuery(".tdf_bs_offer_product").each(function(){var t=jQuery(this);if(t.data("product-id")==o)t.remove();else{var e=sl9.manager.offer.Get(sl9.struct.consta.OfferTypeUpsell,parseInt(t.data("offer-id")));e&&0<e.trigger.min_cart&&e.is_strict&&t.remove()}}),void jQuery(".tdf_bs_offer").each(function(){var t=jQuery(this);t.find(".tdf_bs_offer_product").length||t.remove()})}var v=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"added_successfully");nfec.noti.control.Run(v,3e3)}},GetSections:function(t,e,n,i,o){var r=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeUpsell,"shuffle"),d=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeUpsell,"noshuffle"),a=nfec.manager.cart.Get(),c=0;if(!i&&!o){var f=a.findItemByVariantID(n[0]);f&&(c=f.price)}var _,s,l=[],u=[],p={sections:[],offer_ids:[],display_id:0},h=4;for(x in t)if(t.hasOwnProperty(x)){if(_=t[x],i){if(!_.isWidget())continue}else if(!_.isPopup())continue;if(_.trigger.areIn(e,n)){if(0<_.trigger.min_cart){var m=a.getTotalPriceByPV(_.trigger.getPIDs(),_.trigger.getVIDs());if(_.trigger.min_cart>m)continue;if(_.is_strict&&c&&_.trigger.min_cart<=m-c)continue}var g=[];for(S=0,D=_.product_groups.length;S<D;S++)if((s=_.product_groups[S]).offer=_,s.type_id==sl9.struct.consta.GroupTypeAI&&(s.ids=sl9.common.rexy.GetCross()),s.ids&&s.ids.length){switch(s.type_id){case sl9.struct.consta.GroupTypeAuto:d||(s.ids=nfec.util.tool.Shuffle(s.ids));case sl9.struct.consta.GroupTypeManual:r&&(s.ids=nfec.util.tool.Shuffle(s.ids))}g.push(s)}g.length&&(_.product_groups=g,_.display_id&&(p.display_id=_.getPDisplayID(),h=32),u.push(_))}}for(var y,v=nfec.manager.cart.GetCurrentProductIDs(),b=[],w=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeUpsell,"up_other"),k={},x=0,T=u.length;x<T;x++){void 0===k[(_=u[x]).message]?(k[_.message]=l.length,y={id:l.length,message:_.message,products:[],otherProducts:[],product_groups:[]},l.push(y)):y=l[k[_.message]];for(var S=0,D=_.product_groups.length;S<D;S++)y.product_groups.push(_.product_groups[S])}var q={};for(x=0,T=l.length;x<T;x++)for(S=0,D=(y=l[x]).product_groups.length;S<D;S++)for(var I=0,C=(s=y.product_groups[S]).ids.length;I<C;I++)if(q[s.ids[I]]||(q[s.ids[I]]=[]),-1==q[s.ids[I]].indexOf(S)&&q[s.ids[I]].push(S),-1==b.indexOf(s.ids[I])&&(-1==v.indexOf(s.ids[I])||!w&&s.isPreSelect())&&(!y.message||-1==y.message.indexOf("up_same")||-1!=e.indexOf(s.ids[I]))){var O=nfec.manager.product.FindByID(s.ids[I]).filterVars(s.vids);y.products.length<h?(b.push(s.ids[I]),-1==p.offer_ids.indexOf(s.offer.id)&&p.offer_ids.push(s.offer.id),y.products.push({offer:s.offer,id:s.ids[I],variants:O})):y.otherProducts.push({offer:s.offer,id:s.ids[I],variants:O})}for(x=0,T=l.length;x<T;x++)(y=l[x]).products.length&&(p.sections.push(y),y.otherProducts.sort(function(t,e){return q[t.id]-q[e.id]}));return p}},sl9.upsell.replace_btnhtm={m:'<button type="button" class="tdf_cta_btn tdfe" data-e="replace_qv_upsell_product" data-offer="{{offer_id}}"> {{sl9.data.settings.8.replace}}</button>',subs:[]},sl9.upsell.promo={HandlePromo:function(i){var e,t=nfec.manager.cart.Get(),o=sl9.struct.consta.OfferTypeUpsell,n=sl9.manager.offer.List(o),r={},d=sl9.manager.promo.Get(),a=new sl9.manager.gifter;a.init(d);var c=function(){var t=new sl9.model.promo_item;return t.offer_type_id=o,t.offer_id=e.id,t.app_id=sl9.struct.app.id,t.quantity=1,t},f=sl9.common.checkout.IsClickedCheckoutBtn(),_=f,s=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeUpsell,"ck_strict"),l=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"cheap_mode");s&&_&&(_=parseFloat(f)<nfec.manager.cart.Total);for(var u=t.getAllItems(),p={},h=function(t,e,n){n=n||20;var i=p[t];return!i||i!=e&&(!(--n<2)&&h(i,e,n))},m=function(t){if(p[t])return!1;var e;for(e in p)if(p.hasOwnProperty(e)&&p[e]==t)return!1;return!0},g=function(t,e){switch(t.discounted=!0,(n=c()).discount_type=e.discount.type_id,n.discount_value=e.discount.value,e.discount.type_id){case nfec.consta.DiscountTypeFreeShip:i.addItem(n);break;case nfec.consta.DiscountTypeFreeGift:var n=c();if(a.serve(o,e,n))break;i.addItem(n);break;default:(n=c()).discount_type=e.discount.type_id,n.discount_value=e.discount.value,n.product_id=t.product_id,n.variant_id=t.variant_id,n.price=t.price,i.addItem(n)}},y=function(t,e,n){if(!r[t.id]&&e.uid!=n.uid&&!n.discounted&&t.isIn(n.product_id,[n.variant_id])&&m(e.uid)&&m(n.uid))return p[n.uid]=e.uid,g(n,t),t.is_strict&&0<t.trigger.min_cart&&(r[t.id]=1),!0},v=0;v<n.length;v++)if((e=n[v]).discount.isValid()&&(!e.trigger.on_checkout||_)){var b=!1;if(e.is_replace){if(!sl9.manager.replaceflag.CheckGroups(e.product_groups))continue;b=!0}else if(e.trigger.min_cart>t.getTotalPriceByPV(e.trigger.getPIDs(),e.trigger.getVIDs()))continue;if(e.is_strict){for(var w=u.length-1;0<=w;w--){var k=u[w];if(b||e.trigger.isIn(k.product_id,[k.variant_id]))if(l)for(var x=0;x<u.length;x++){var T=u[x];if(y(e,k,T))break}else for(x=w-1;0<=x;x--){T=u[x];if(y(e,k,T))break}}if(!l)for(w=u.length-1;0<=w;w--){k=u[w];if(b||e.trigger.isIn(k.product_id,[k.variant_id]))for(x=w+1;x<u.length;x++){T=u[x];if(y(e,k,T))break}}}else for(x=0;x<u.length;x++){if(!(T=u[x]).discounted&&e.isIn(T.product_id,[T.variant_id])){var S=!1;if(b&&(S=!0),!S)for(w=u.length-1;0<=w;w--){if((k=u[w]).uid!=T.uid&&(e.trigger.isIn(k.product_id,[k.variant_id])&&h(k.uid,T.uid))){p[T.uid]=k.uid,S=!0;break}}S&&g(T,e)}}}for(v=0;v<n.length;v++)if(e=n[v],!l&&e.discount.isValid()&&(!e.trigger.on_checkout||f)&&!(e.trigger.min_cart>t.getTotalPriceByPV(e.trigger.getPIDs(),e.trigger.getVIDs()))){for(S=!1,w=u.length-1;0<=w;w--){k=u[w];if(e.trigger.isIn(k.product_id,[k.variant_id])&&(!e.is_strict||m(k.uid))){S=!0;break}}if(S){for(w=0;w<e.product_groups.length;w++)if(e.product_groups[w].ids)for(var D=0;D<e.product_groups[w].ids.length;D++){var q=new nfec.model.discountable;q.app_id=sl9.struct.app.id,q.discount_type=e.discount.type_id,q.discount_value=e.discount.value,q.is_cart=!1,q.offer_id=e.id,q.offer_type_id=o,q.product_id=e.product_groups[w].ids[D],q.vids=e.product_groups[w].vids,nfec.manager.discountable.Set(e.product_groups[w].ids[D],q)}}else if(e.is_strict){var I=!1;jQuery(".tdf_bs_offer_product").each(function(){jQuery(this).data("offer-id")==e.id&&(I=!0)}),I&&jQuery(".tdf_bs_offer").addClass("tdf_hidden")}}}},sl9.upsell.section={showed:!1,run:function(){var t=sl9.manager.offer.List(sl9.struct.consta.OfferTypeUpsell),e=window.tdfMainPids||nfec.manager.cart.GetCurrentProductIDs(),n=sl9.upsell.main.GetSections(t,e,null,!0);if(n.sections.length){for(var i,o,r=[],d=[],a=[],c="",f=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeRec,"c_slot")||4,_=0;_<n.sections.length;_++){i=n.sections[_].products.concat(n.sections[_].otherProducts),c||(c=n.sections[_].message);for(var s=0;s<i.length;s++)-1==a.indexOf(i[s].id)&&(a.push(i[s].id),o={id:i[s].id,offer_num:sl9.struct.consta.OfferTypeUpsell,offer_id:i[s].offer.id},r.length<f?r.push(o):d.push(o))}jQuery("#tdf_rec_cart").remove(),c||(c=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeTrans,"cart_rec")),nfec.event_hub.Trigger("rec_show_section",{id:"cart",message:c,products:r,otherProducts:d}),sl9.upsell.section.showed=!0}},Start:function(){nfec.event_hub.ListenTo("cart_updated",function(t,e){sl9.upsell.section.showed||sl9.upsell.section.run()},!0),nfec.event_hub.ListenTo("cart_item_added",function(t,e){sl9.upsell.section.run()},!0)}},sl9.upsell.snippet_added_itemhtm={m:'<div class="tdf_dialog_header tdf_upsell_trigger" data-trigger-prod="{{added_item.product_id}}" data-trigger-var="{{added_item.variant_id}}"><div class="tdf_dialog_header_body"><div class="tdf_target_left"><div class="tdf_image"><div class="tdf_detail_image"><div class="tdf_image_target"><img src="{{added_item.mediumImageSrc}}" alt="{{added_item.getTitle}}" title="{{added_item.title.toInput}}"></div></div><div class="tdf_target_name"><a class="tdf_header_message">{_ if is_replaced _}0{_ endif _}</a><a class="tdf_detail_image"><strong title="{{added_item.title.toInput}}">{{added_item.getTitle}}</strong></a></div></div></div><div class="tdf_target_right"><div class="tdf_detail"><div class="tdf_cart_detail"><a href="javascript:;" class="tdf_link_view_cart tdfe" data-e="upsell_view_cart">{{sl9.data.settings.8.cart_total}}: </a><span class="tdf_cart_items">{{cart.getTotalAddeds}} {_ if cart.getTotalAddeds != 1 _}1{_ endif _}</span><span class="tdf_cart_amount"> ({_ if sl9.IsDmodeNone _}8{_ endif _}) </span></div><div class="tdf_action"><button type="button" class="tdf_cta_btn {_ if cart.getTotalAddeds < 2 && sections.length && ! is_replaced _}4{_ endif _} tdfe" data-e="click_upsell_cta"> {_ if is_checkout _}9{_ endif _} </button></div></div></div></div></div>',subs:["{{sl9.data.settings.8.you_replaced}}{_ else _}{{sl9.data.settings.8.you_added}}","{{sl9.data.settings.8.items}}{_ else _}{{sl9.data.settings.8.item}}",'<span class="tdf_price_original">{{cart.n_o_p.toCurrencyN}} </span>','<span class="tdf_price_original">{{old_cart_total.toCurrency}} </span>',"tdf_inactive_checkout"," {{sl9.data.settings.8.checkout}} "," {{sl9.data.settings.8.view_cart}} "," {{sl9.data.settings.8.continue_shopping}} ","{_ if cart.n_p != cart.n_o_p _}2{_ endif _}{{cart.n_p.toCurrencyN}}{_ else _}{_ if draft_order.change_cart_price _}3{_ endif _}{{draft_order.getTotalAmount.toCurrency}}"," {{sl9.data.settings.8.checkout}} {_ else _} {_ if ! sl9.data.settings.2.coa _}5{_ endif _} {_ if sl9.data.settings.2.coa == sl9.struct.consta.ClickGoCart _}6{_ endif _} {_ if sl9.data.settings.2.coa == sl9.struct.consta.ClickStay || sl9.data.settings.2.coa == sl9.struct.consta.ClickGoShoping _}7{_ endif _} "]},sl9.upsell.snippet_last_offerhtm={m:'<div class="tdf_dialog_footer tdf_upsell_checkout"><div class=""> {{sl9.data.settings.8.cart_total}}: {_ if sl9.IsDmodeNone _}2{_ endif _} </div><div class=""><button type="button" class="tdf_cta_btn tdfe" data-e="click_upsell_checkout"> {{sl9.data.settings.8.continue_checkout}} </button></div></div>',subs:['<span class="tdf_price_original">{{cart.n_o_p.toCurrencyN}} </span>','<span class="tdf_price_original">{{old_cart_total.toCurrency}} </span>',"{_ if cart.n_p != cart.n_o_p _}0{_ endif _}{{cart.n_p.toCurrencyN}}{_ else _}{_ if draft_order.change_cart_price _}1{_ endif _}{{draft_order.getTotalAmount.toCurrency}}"]},sl9.upsell.tplhtm={m:'<div id="tdf_upsell" class="tdf_container" data-tpl-did="{{tpl_data_id}}"><div class="tdf_dialog_modal tdf_dialog_modal_upsell tdfe" data-e="click_upsell_bg"><i class="tdf_close_btn"></i><div class="tdf_dialog_content"> {_ if is_last _}0{_ endif _} {_ if added_item _}1{_ endif _} {_ if sections.length _}10{_ endif _} </div></div></div>',subs:[" {{ include sl9.upsell.snippet_last_offer }} "," {{ include sl9.upsell.snippet_added_item }} ","tdf_vertical_img","tdf_hidden",' <div class="tdf_qv_quantity_container"><span class="">{{sl9.data.settings.8.quantity}}: </span><input class="tdf_qty_input" type="number" min="1" value="1"></div> '," {{ include sl9.common.snippet_discountable plus p.variants.0.discountable as discountable }} "," {{sl9.data.settings.8.add}} {_ else _} {{sl9.data.settings.8.replace}} ",' <option value="{{variant.id}}">{{variant.getTitle}}</option> ',' {{ assign product = products.{{{p.id}}} }} <div class="tdf_bs_offer_product" data-product-id="{{p.id}}" data-offer-id="{{p.offer.id}}"><div class="tdf_horizontal_product"><div class="tdf_horizontal_img_left"><div class="tdf_img {_ if display_id _}2{_ endif _} tdfe" data-e="click_upsell_product" style="background-image:url({{product.image.largeSrc}})"></div></div><div class="tdf_horizontal_content_right"><a href="{{product.url}}" data-e="click_upsell_product" class="tdf_block tdfe" title="{{product.getTitle.toInput}}"><div class="tdf_horizontal_name"><h4 class="tdf_horizontal_title" title="{{product.getTitle.toInput}}">{{product.getTitle}}</h4></div><div class="tdf_horizontal_price"> {{ include sl9.common.snippet_price plus p.variants.0 as current_variant }} </div></a><div class="tdf_select_box {_ if 2 > product.variants.length _}3{_ endif _}"><select class="tdf_select_input tdfe" data-e="select_upsell_variant" data-et="change"> {_ for v,variant in p.variants _}7{_ endfor _} </select><span class="tdf_select_icon"></span><div class="tdf_select_backdrop"></div></div> {_ if sl9.data.settings.2.qty_enable _}4{_ endif _} <div class="tdf_discountable_div"> {_ if p.variants.0.is_discountable _}5{_ endif _} </div><div><button type="button" class="tdf_normal_btn tdfe" data-e="click_add_upsell_product"> {_ if ! p.offer.is_replace _}6{_ endif _} </button></div></div></div></div> ',' <div class="tdf_offer_message"><h3>{{section.message.toTranslate}}</h3></div><div class="tdf_bs_offer_products"> {_ for i,p in section.products _}8{_ endfor _} </div> ',' <div class="tdf_bs_offer tdf_bs_offer_{{display_id}}"> {_ for o,section in sections _}9{_ endfor _} </div> ']},sl9.wholesale={},sl9.wholesale.main={Start:function(){sl9.wholesale.main.formatOffers(),sl9.wholesale.tab.Start(),sl9.wholesale.moti.Start(),nfec.event_hub.ListenTo("show_wholesale_free_gifts",function(t,e){for(var n,i=parseInt(e.els.data("id")),o=parseInt(e.els.data("q")),r=sl9.manager.offer.Get(sl9.struct.consta.OfferTypeWholesale,i),d=0;d<r.levels.length;d++)if(r.levels[d].quantity==o){n=r.levels[d];break}var a=parseInt(e.els.data("pid"));a||(a=n.giftIDs[0]);var c=nfec.manager.product.FindByID(a);c&&nfec.event_hub.Trigger("show_quick_view",{is_gift:!0,is_custom_cta:1,not_show_qty:1,not_show_normal_cta:1,custom_cta:"",handle:c.handle,product_ids:n.giftIDs,vids:n.vids})})},formatOffers:function(){var t=sl9.struct.consta.OfferTypeWholesale,e=sl9.manager.offer.List(t);e.sort(function(t,e){var n=t.priority,i=e.priority;if(i<n)return-1;if(n<i)return 1;var o=t.trigger.compare(e.trigger);return o||(t.id>e.id?-1:1)}),sl9.manager.offer.Set(t,e)}},sl9.wholesale.motihtm={m:'{{ assign product = products.{{{motivable.pid}}} }}{{ assign variant = product.variantMap.{{{motivable.vid}}} }}<div class="tdf_discountable_product tdf_nonpopup tdf_wholesale_moti" data-tpl-did="{{tpl_data_id}}"><div class="tdf_discount_icon tdf_discount_icon_0" style="background-image:url({{variant.image.smallSrc}});"></div><div class="tdf_discount_content"> {{message.toTranslate}} {_ if motivable.is_btn _}0{_ endif _} </div></div>',subs:[' <div><button type="button" class="tdf_lite_btn tdfe" data-e="wholesale_qv_plus">+</button></div> ']},sl9.wholesale.moti={isShown:!1,handleCartAdd:function(t,e){if(!sl9.common.checkout.IsCheckingOut){if(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"discount_widget"))if(nfec.platform.current.page.Detect().type==nfec.consta.PageTypeCart){if(jQuery(".tdfPlaceDiscounts").length)return;if(nfec.platform.current.element.GetCartFormDom(!0).length)return}var n=e.added[0];setTimeout(function(){var t=sl9.wholesale.moti.BuildProgress([n.product_id],[n.variant_id]);t&&(sl9.wholesale.moti.isShown&&!sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"ws_notis")||(sl9.wholesale.moti.isShown=!0,nfec.event_hub.Trigger("notify_discount_msg",{content:t})))},100)}},Start:function(){nfec.event_hub.ListenTo("cart_item_added",function(t,e){sl9.wholesale.moti.handleCartAdd(t,e)},!0,!0),nfec.event_hub.ListenTo("wholesale_qv_plus",function(t,e){var n=nfec.util.tpl.GetTplData(e.els.closest(".tdf_wholesale_moti").data("tpl-did")),i=nfec.manager.cart.Get().findItemByProduct(n.motivable.pid);if(sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"product_fields"))nfec.platform.current.redirect.GoToProductPage(i.handle);else{if(1==n.motivable.pids.length){var o=n.motivable.vids.length;if(!o){var r=nfec.manager.product.FindByID(n.motivable.pid);r&&(o=r.variants.length)}if(o<2)return void nfec.platform.current.cart_api.AddItem(i.variant_id,n.motivable.remain,function(t){})}nfec.event_hub.Trigger("show_quick_view",{handle:i.handle,product_ids:n.motivable.pids,vids:n.motivable.vids,current_variant_id:n.motivable.vid,prefill_quantity:n.motivable.remain,is_normal:!0})}})},BuildProgress:function(t,e){var n=nfec.manager.cart.Get(),i=n.getProductIDs(),o=n.getVariantIDs(),r=!1;t||(r=!0,t=i,e=o);var d,a,c,f,_,s,l=sl9.struct.consta.OfferTypeWholesale,u=sl9.manager.offer.List(l);t:for(var p=0;p<t.length;p++)for(var h=t[p],m=0;m<u.length;m++){var g=u[m];if(g.mtv_message&&g.isIn(h,e)){_=g.product_groups[0];var y=[];switch(g.apply_num){case 1:d=_.ids,y=[_.vids];break;case 2:d=[h];for(var v=0;v<e.length;v++)y.push([e[v]]);break;default:d=[h],y=[_.vids]}for(v=0;v<y.length;v++){var b=y[v];if(a=n.findVariantIDsByVIDs(d,b),!((c=n.countByVIDs(a))<1)&&(f=g.getNextLevel(c))){var w=n.findVariantIDsByVIDs([h],b),k=b;2==g.apply_num&&(k=[w[0]]),s={offer:g,goal_quantity:f.quantity,remain:f.quantity-c,pid:h,vid:w[0],pids:d,vids:k,is_btn:r,comma:f.is_freeship||f.gifts.length?",":""};break t}}}}if(s){var x=sl9.common.tpl.Render(sl9.wholesale.moti_msghtm,{motivable:s}),T=nfec.util.tool.Replaces(g.mtv_message,"{discount}",x);return T=nfec.util.tool.Replaces(T,"{quantity}",s.remain),sl9.common.tpl.Render(sl9.wholesale.motihtm,{message:T,motivable:s},r)}}},sl9.wholesale.moti_msghtm={m:"{_ for l,level in motivable.offer.levels _}8{_ endfor _}",subs:["{{level.discount.value}}{{percentsymbol}} {{sl9.data.settings.8.off}}{{motivable.comma}}","{{level.discount.discounted_price.toCurrency}}{{motivable.comma}}","{{level.discount.value.toCrcF}} {{sl9.data.settings.8.off}}{{motivable.comma}}",", ",' <a href="javascript:;" class="tdf_gift_title tdfe" data-e="show_wholesale_free_gifts" data-q="{{level.quantity}}" data-id="{{motivable.offer.id}}">+{{level.gifts.length}} {{sl9.data.settings.8.wholesale_gift}}</a> '," {_ if level.discount.type_id == consta.DiscountTypePercent _}0{_ endif _} {_ if level.discount.origin_type_id == consta.DiscountTypePrice _}1{_ endif _} {_ if level.discount.origin_type_id == consta.DiscountTypeValue _}2{_ endif _} "," {{sl9.data.settings.8.free_ship}}{_ if level.gifts.length _}3{_ endif _} "," {_ if level.is_discount _}5{_ endif _} {_ if level.is_freeship _}6{_ endif _} {_ if level.gifts.length _}4{_ endif _} "," {_ if level.quantity == motivable.goal_quantity _}7{_ endif _}"]},sl9.wholesale.promo={HandlePromo:function(t,e){var n,i,o,r,d,a=nfec.manager.cart.Get(),c=sl9.struct.consta.OfferTypeWholesale,f=sl9.manager.offer.List(c),_=sl9.manager.promo.Get(),s=new sl9.manager.gifter;s.init(_);var l=function(){var t=new sl9.model.promo_item;return t.offer_type_id=c,t.offer_id=i.id,t.app_id=sl9.struct.app.id,t.quantity=1,t},u=sl9.main.GetData("settings",sl9.struct.consta.SettingTypeOther,"discountable_no");t:for(var p=0;p<f.length;p++){n=[];var h=(i=f[p]).product_groups[0];switch(o=h.ids,i.apply_num){case 1:if(!(y=a.findVariantIDsByVIDs(o,h.vids)).length)continue t;n.push(y);break;case 2:if(!(y=a.findVariantIDsByVIDs(o,h.vids)).length)continue t;for(var m=0;m<y.length;m++)n.push([y[m]]);break;default:for(var g=0;g<o.length;g++){var y;(y=a.findVariantIDsByVIDs([o[g]],h.vids)).length&&n.push(y)}}for(m=0;m<n.length;m++){I=a.countByVIDs(n[m]);for(var v=!1,b=i.levels.length-1;0<=b;b--)if(!(I<(r=i.levels[b]).quantity)){if(r.is_freeship)(k=l()).discount_type=nfec.consta.DiscountTypeFreeShip,t.addItem(k);for(var w=0;w<r.gifts.length;w++){var k=l();d=r.gifts[w],s.serve(c,i,k,d,r.vm[w])||t.addItem(k)}if(e&&!v){v=!0;var x=a.getTrackVariantIDs(n[m]);x=x.slice(0,r.quantity),sl9.common.track.AddAction(sl9.struct.consta.ActionTrackAdd,c,i.id,x.join("_"),a.token,1)}if(!r.is_discount)break;for(var T=[],S=a.findItemByVariantIDs(n[m]),D=0;D<S.length;D++){for(var q=S[D].product_id,I=0;I<S[D].quantity;I++){(k=l()).discount_type=r.discount.type_id,k.discount_value=r.discount.value,k.product_id=q,k.variant_id=S[D].variant_id,k.price=S[D].price,t.addItem(k)}if(2!=i.apply_num&&(-1==T.indexOf(q)&&!u)){var C=new nfec.model.discountable;C.app_id=sl9.struct.app.id,C.discount_type=r.discount.type_id,C.discount_value=r.discount.value,C.offer_id=i.id,C.offer_type_id=c,C.product_id=q,C.vids=h.vids,nfec.manager.discountable.Set(q,C),T.push(q)}}break}}}}},sl9.wholesale.tab={Start:function(){sl9.wholesale.tab.handlePage(),sl9.wholesale.tab.handleQview(),nfec.event_hub.ListenTo("wholesale_adds",function(t,e){var n,i=e.els.closest(".tdf_container"),o=e.els.closest(".tdf_wholesale_level"),r=parseInt(o.data("q")),d=!1;if(i.hasClass("tdf_wholesale_page")){var a=nfec.platform.current.element.GetAddCartForms(!0);if(a.length){var c=a.find('[name="quantity"]'),f='<input type="hidden" name="quantity" value="'+r+'">';return c.length?c.is("select")?(c.find("option[value='"+r+"']").length||c.append(jQuery("<option>",{value:r,text:r+""})),c.val(r)):c.is("input")?c.val(r):(c.attr("name",""),a.append(f)):a.append(f),void a.trigger("submit")}n=nfec.manager.product.GetCurrentVariantID(!0)}else d=!0,n=parseInt(jQuery(".tdf_qv_content").data("variant-id"));n&&nfec.platform.current.cart_api.AddItem(n,r,function(t){d&&nfec.event_hub.Trigger("close_last_quick_view")})})},handlePage:function(){var t=nfec.platform.current.page.Detect(),d=0;t.type==nfec.consta.PageTypeProduct&&(d=t.payload.id);var a=[];jQuery(".tdfPlaceWholesale").each(function(){var t=jQuery(this).data("offer-id");t&&a.push(parseInt(t))});var c=sl9.struct.consta.OfferTypeWholesale,n=function(){var t=nfec.manager.product.GetCurrentVariantID(),e=sl9.wholesale.tab.getOffer(d,t,a),n=jQuery(".tdf_wholesale_page");if(e.offer){var i=sl9.common.tpl.Render(sl9.wholesale.tplhtm,{offer:e.offer});if(n.length)n.replaceWith(i);else{var o=jQuery(".tdfPlaceWholesale");if(o.length)o.first().after(i);else{var r=jQuery(".tdfWholesaleWrap").first();r.length||(r=nfec.platform.current.element.GetAddCartForms(!0)),r.append(i)}}sl9.common.track.AddImpression(c,e.offer.id)}else n.remove()};n(),nfec.event_hub.ListenTo("store_form_change_variant",function(t,e){d==e.product_id&&n()},!0,!0)},handleQview:function(){var o=sl9.struct.consta.OfferTypeWholesale,n=function(){var t=jQuery(".tdf_qv_wsale_div");if(t.length){var e="",n=jQuery(".tdf_qv_content"),i=sl9.wholesale.tab.getOffer(parseInt(n.data("product-id")),parseInt(n.data("variant-id")));if(i.offer){e=sl9.common.tpl.Render(sl9.wholesale.tplhtm,{offer:i.offer,is_qv:!0});sl9.common.track.AddImpression(o,i.offer.id)}t.html(e)}};nfec.event_hub.ListenTo("quick_view_showed",function(t,e){n()}),nfec.event_hub.ListenTo("quick_view_sub_showed",function(t,e){n()}),nfec.event_hub.ListenTo("update_qv_variant",function(t,e){n()})},getOffer:function(t,e,n){var i,o,r,d=sl9.struct.consta.OfferTypeWholesale,a=sl9.manager.offer.List(d),c=!1;t:for(o in a)if(a.hasOwnProperty(o))for(var f=(r=a[o]).product_groups,_=f.length,s=0;s<_;s++){switch(f[s].type_id){case sl9.struct.consta.GroupTypeManual:case sl9.struct.consta.GroupTypeAuto:if(n&&-1!=n.indexOf(r.id)){i=r,c=!0;break t}if(r.trigger.product_groups[s].ids&&-1!==r.trigger.product_groups[s].ids.indexOf(t)){if(e&&!r.trigger.isIn(t,[e]))continue;i=r;break t}}}return{offer:i,isPlaced:c}}},sl9.wholesale.tplhtm={m:'<div id="tdf_wholesale" class="tdf_container tdf_wholesale_{{offer.display_id}} {_ if is_qv _}0{_ endif _}" data-oid="{{offer.id}}"><div class="tdf_nonpopup"><h2>{{offer.message.toTranslate}}</h2></div><table> {_ if offer.display_id != 2 _}12{_ endif _} {_ for l,level in offer.levels _}17{_ endfor _} </table></div>',subs:["tdf_wholesale_qv{_ else _}tdf_wholesale_page"," {{sl9.data.settings.8.your_price}} {_ else _} {{sl9.data.settings.8.wholesale_discount}} ","{{level.range}}","{{level.quantity}}"," {{level.discount.value}}{{percentsymbol}} {{sl9.data.settings.8.off}} "," {{level.discount.discounted_price.toCurrency}} "," {{level.discount.value.toCurrency}} {{sl9.data.settings.8.off}} "," <div>{{sl9.data.settings.8.free_ship}}</div> ",' {{ assign gproduct = products.{{{gid}}} }} <div><a href="javascript:;" class="tdf_gift_title tdfe" data-e="show_wholesale_free_gifts" data-q="{{level.quantity}}" data-id="{{offer.id}}" data-pid="{{gproduct.id}}"> {{gproduct.getTitle}} </a></div> ',' <div><a href="javascript:;" class="tdf_gift_title tdfe" data-e="show_wholesale_free_gifts" data-q="{{level.quantity}}" data-id="{{offer.id}}">...</a></div> ',' <td><button type="button" class="tdf_normal_btn tdfe" data-e="wholesale_adds">{{level.quantity_btn}}</button></td> '," {_ if 2 > g _}8{_ endif _} "," <tr><th>{{sl9.data.settings.8.wholesale_quantity}}</th><th> {_ if offer.display_price _}1{_ endif _} </th></tr> "," <td>{_ if offer.display_id == 1 _}2{_ endif _}{_ if ! offer.display_id _}3{_ endif _}</td> "," <div> {_ if level.discount.type_id == consta.DiscountTypePercent _}4{_ endif _} {_ if level.discount.origin_type_id == consta.DiscountTypePrice _}5{_ endif _} {_ if level.discount.origin_type_id == consta.DiscountTypeValue _}6{_ endif _} </div> "," {_ for g,gid in level.giftIDs _}11{_ endfor _} {_ if level.giftIDs.length > 2 _}9{_ endif _} ",' <div><a href="javascript:;" class="tdf_gift_title tdfe" data-e="show_wholesale_free_gifts" data-q="{{level.quantity}}" data-id="{{offer.id}}">+{{level.gifts.length}} {{sl9.data.settings.8.wholesale_gift}}</a></div> {_ if ! level.isSimple _}15{_ endif _} ',' <tr class="tdf_wholesale_level tdf_nonpopup" data-q="{{level.quantity}}"> {_ if offer.display_id != 2 _}13{_ endif _} <td> {_ if level.is_discount _}14{_ endif _} {_ if level.is_freeship _}7{_ endif _} {_ if level.gifts.length _}16{_ endif _} </td> {_ if offer.display_id == 2 _}10{_ endif _} </tr> ']},sl9.main&&sl9.main.Init&&sl9.main.Init(),tdfEventHub.ListenToEvent("jsloaded_nfec",function(t,e){sl9.nfec=e(),sl9.nfec.util.tpl.AddSnippet("sl9.bundle.snippet_bundle_product",sl9.bundle.snippet_bundle_producthtm),sl9.nfec.util.tpl.AddSnippet("sl9.bundle.snippet_bundle_title",sl9.bundle.snippet_bundle_titlehtm),sl9.nfec.util.tpl.AddSnippet("sl9.common.snippet_cart_subtotal",sl9.common.snippet_cart_subtotalhtm),sl9.nfec.util.tpl.AddSnippet("sl9.common.snippet_discountable",sl9.common.snippet_discountablehtm),sl9.nfec.util.tpl.AddSnippet("sl9.common.snippet_discountable_gift",sl9.common.snippet_discountable_gifthtm),sl9.nfec.util.tpl.AddSnippet("sl9.common.snippet_price",sl9.common.snippet_pricehtm),sl9.nfec.util.tpl.AddSnippet("sl9.common.snippet_item_save",sl9.common.snippet_item_savehtm),sl9.nfec.util.tpl.AddSnippet("sl9.dcode.snippet_coderemove",sl9.dcode.snippet_coderemovehtm),sl9.nfec.util.tpl.AddSnippet("sl9.dcode.snippet_invalidcode",sl9.dcode.snippet_invalidcodehtm),sl9.nfec.util.tpl.AddSnippet("sl9.discount.snippet_codeadded",sl9.discount.snippet_codeaddedhtm),sl9.nfec.util.tpl.AddSnippet("sl9.discount.snippet_codebox",sl9.discount.snippet_codeboxhtm),sl9.nfec.util.tpl.AddSnippet("sl9.loyal.snippet_close",sl9.loyal.snippet_closehtm),sl9.nfec.util.tpl.AddSnippet("sl9.loyal.snippet_gift",sl9.loyal.snippet_gifthtm),sl9.nfec.util.tpl.AddSnippet("sl9.quickview.snippet_product",sl9.quickview.snippet_producthtm),sl9.nfec.util.tpl.AddSnippet("sl9.notify.snippet_cart_discountable",sl9.notify.snippet_cart_discountablehtm),sl9.nfec.util.tpl.AddSnippet("sl9.notify.snippet_cart_discounting",sl9.notify.snippet_cart_discountinghtm),sl9.nfec.util.tpl.AddSnippet("sl9.notify.snippet_cart_progress",sl9.notify.snippet_cart_progresshtm),sl9.nfec.util.tpl.AddSnippet("sl9.notify.snippet_discounted_gift",sl9.notify.snippet_discounted_gifthtm),sl9.nfec.util.tpl.AddSnippet("sl9.notify.snippet_product_discountable",sl9.notify.snippet_product_discountablehtm),sl9.nfec.util.tpl.AddSnippet("sl9.notify.snippet_product_discounted",sl9.notify.snippet_product_discountedhtm),sl9.nfec.util.tpl.AddSnippet("sl9.notify.snippet_product_discounting",sl9.notify.snippet_product_discountinghtm),sl9.nfec.util.tpl.AddSnippet("sl9.notify.snippet_product_titles",sl9.notify.snippet_product_titleshtm),sl9.nfec.util.tpl.AddSnippet("sl9.rec.snippet_bar_img",sl9.rec.snippet_bar_imghtm),sl9.nfec.util.tpl.AddSnippet("sl9.upsell.snippet_added_item",sl9.upsell.snippet_added_itemhtm),sl9.nfec.util.tpl.AddSnippet("sl9.upsell.snippet_last_offer",sl9.upsell.snippet_last_offerhtm)},!0),tdfEventHub.ListenToEvent("core_ready",function(){sl9.nfec.main.AddStyle('.tdf_theme_11 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_11 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_11 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_11 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_11 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_11 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_11 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_11 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_11 #tdf_quickview.tdf_container .tdf_dialog_header::before{background-image:url(S_PATH/fe/nfec/img/autumn1.png);margin-bottom:-10px}@media screen and (min-width: 768px){.tdf_theme_11 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_11 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_11 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_11 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_11 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_11 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_11 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_11 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_11 #tdf_quickview.tdf_container .tdf_dialog_header::before{margin-bottom:-15px}}.tdf_theme_4 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_4 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_4 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_4 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_4 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_4 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_4 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_4 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_4 #tdf_quickview.tdf_container .tdf_dialog_header::before{background-image:url(S_PATH/fe/nfec/img/blackfriday.png);margin-bottom:-10px}.tdf_theme_4 #tdf_notify.tdf_container .tdf_one_img .tdf_swiper_slide,.tdf_theme_4 #tdf_upsell.tdf_container .tdf_one_img .tdf_swiper_slide,.tdf_theme_4 #tdf_quickview.tdf_container .tdf_one_img .tdf_swiper_slide{background-color:#f2f3f5}@media screen and (min-width: 768px){.tdf_theme_4 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_4 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_4 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_4 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_4 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_4 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_4 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_4 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_4 #tdf_quickview.tdf_container .tdf_dialog_header::before{margin-bottom:-15px}.tdf_theme_4 #tdf_notify.tdf_container .tdf_one_img .tdf_swiper_slide,.tdf_theme_4 #tdf_upsell.tdf_container .tdf_one_img .tdf_swiper_slide,.tdf_theme_4 #tdf_quickview.tdf_container .tdf_one_img .tdf_swiper_slide{background-color:unset}}.tdf_theme_6 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_6 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_6 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_6 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_6 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_6 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_6 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_6 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_6 #tdf_quickview.tdf_container .tdf_dialog_header::before{background-image:url(S_PATH/fe/nfec/img/christmas.png)}.tdf_theme_6 #tdf_notify.tdf_container .tdf_bs_offer,.tdf_theme_6 #tdf_upsell.tdf_container .tdf_bs_offer,.tdf_theme_6 #tdf_quickview.tdf_container .tdf_bs_offer{border-top:2px solid #d4d6e4}@media screen and (min-width: 768px){.tdf_theme_6 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_6 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_6 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_6 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_6 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_6 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_6 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_6 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_6 #tdf_quickview.tdf_container .tdf_dialog_header::before{margin-bottom:-5px}}.tdf_theme_5 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_5 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_5 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_5 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_5 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_5 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_5 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_5 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_5 #tdf_quickview.tdf_container .tdf_dialog_header::before{background-image:url(S_PATH/fe/nfec/img/cybermonday.png);margin-bottom:-10px}@media screen and (min-width: 768px){.tdf_theme_5 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_5 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_5 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_5 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_5 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_5 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_5 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_5 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_5 #tdf_quickview.tdf_container .tdf_dialog_header::before{margin-bottom:-15px}}.tdf_theme_2 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_2 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_2 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_2 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_2 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_2 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_2 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_2 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_2 #tdf_quickview.tdf_container .tdf_dialog_header::before{background-image:url(S_PATH/fe/nfec/img/halloween1.png);margin-bottom:-10px}.tdf_theme_2 #tdf_notify.tdf_container .tdf_one_img .tdf_swiper_slide,.tdf_theme_2 #tdf_upsell.tdf_container .tdf_one_img .tdf_swiper_slide,.tdf_theme_2 #tdf_quickview.tdf_container .tdf_one_img .tdf_swiper_slide{background-color:#f2f3f5}@media screen and (min-width: 768px){.tdf_theme_2 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_2 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_2 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_2 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_2 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_2 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_2 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_2 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_2 #tdf_quickview.tdf_container .tdf_dialog_header::before{margin-bottom:-15px}.tdf_theme_2 #tdf_notify.tdf_container .tdf_one_img .tdf_swiper_slide,.tdf_theme_2 #tdf_upsell.tdf_container .tdf_one_img .tdf_swiper_slide,.tdf_theme_2 #tdf_quickview.tdf_container .tdf_one_img .tdf_swiper_slide{background-color:unset}}.tdf_theme_7 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_7 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_7 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_7 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_7 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_7 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_7 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_7 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_7 #tdf_quickview.tdf_container .tdf_dialog_header::before{background-image:url(S_PATH/fe/nfec/img/newyear.png);margin-bottom:-10px}@media screen and (min-width: 768px){.tdf_theme_7 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_7 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_7 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_7 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_7 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_7 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_7 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_7 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_7 #tdf_quickview.tdf_container .tdf_dialog_header::before{margin-bottom:-15px}}.tdf_theme_9 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_9 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_9 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_9 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_9 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_9 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_9 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_9 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_9 #tdf_quickview.tdf_container .tdf_dialog_header::before{background-image:url(S_PATH/fe/nfec/img/spring1.png);margin-bottom:-10px}.tdf_theme_9 #tdf_notify.tdf_container a.tdf_link_view_cart,.tdf_theme_9 #tdf_upsell.tdf_container a.tdf_link_view_cart,.tdf_theme_9 #tdf_quickview.tdf_container a.tdf_link_view_cart{color:#fffffe}@media screen and (min-width: 768px){.tdf_theme_9 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_9 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_9 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_9 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_9 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_9 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_9 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_9 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_9 #tdf_quickview.tdf_container .tdf_dialog_header::before{margin-bottom:-15px}}.tdf_theme_holiday #tdf_notify.tdf_container .tdf_quickview_title_holiday,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_quickview_title_holiday,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_quickview_title_holiday{display:block}.tdf_theme_holiday #tdf_notify.tdf_container .tdf_quickview_title_holiday,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_quickview_title_holiday,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_quickview_title_holiday{background:#f2f3f5}.tdf_theme_holiday #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_holiday #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_holiday #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_dialog_header::before{content:\'\';position:absolute;height:70px;width:80%;left:20%;background-size:contain;background-repeat:no-repeat;bottom:100%;pointer-events:none}.tdf_theme_holiday #tdf_notify.tdf_container .tdf_dialog_qv,.tdf_theme_holiday #tdf_notify.tdf_container .tdf_dialog_content,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_dialog_qv,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_dialog_content,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_dialog_qv,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_dialog_content{top:60px}.tdf_theme_holiday #tdf_notify.tdf_container .tdf_qv_product_content .tdf_qv_product_name,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_qv_product_content .tdf_qv_product_name,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_qv_product_content .tdf_qv_product_name{display:none}.tdf_theme_holiday #tdf_notify.tdf_container .tdf_quickview_title_holiday .tdf_qv_product_name,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_quickview_title_holiday .tdf_qv_product_name,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_quickview_title_holiday .tdf_qv_product_name{padding:20px 25px;color:#212B30}@media screen and (min-width: 768px){.tdf_theme_holiday #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_holiday #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_dialog_header::before{height:100px;width:50%;left:50%}.tdf_theme_holiday #tdf_notify.tdf_container .tdf_one_img .tdf_swiper_slide,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_one_img .tdf_swiper_slide,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_one_img .tdf_swiper_slide{background-color:unset}.tdf_theme_holiday #tdf_notify.tdf_container .tdf_quickview_title_holiday .tdf_qv_product_name,.tdf_theme_holiday #tdf_upsell.tdf_container .tdf_quickview_title_holiday .tdf_qv_product_name,.tdf_theme_holiday #tdf_quickview.tdf_container .tdf_quickview_title_holiday .tdf_qv_product_name{white-space:nowrap;text-overflow:ellipsis}}.tdf_theme_10 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_10 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_10 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_10 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_10 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_10 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_10 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_10 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_10 #tdf_quickview.tdf_container .tdf_dialog_header::before{background-image:url(S_PATH/fe/nfec/img/summer1.png);margin-bottom:-10px}@media screen and (min-width: 768px){.tdf_theme_10 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_10 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_10 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_10 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_10 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_10 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_10 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_10 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_10 #tdf_quickview.tdf_container .tdf_dialog_header::before{margin-bottom:-15px}}.tdf_theme_8 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_8 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_8 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_8 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_8 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_8 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_8 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_8 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_8 #tdf_quickview.tdf_container .tdf_dialog_header::before{background-image:url(S_PATH/fe/nfec/img/valentine.png);margin-bottom:-10px}@media screen and (min-width: 768px){.tdf_theme_8 #tdf_notify.tdf_container .tdf_dialog_footer::before,.tdf_theme_8 #tdf_notify.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_8 #tdf_notify.tdf_container .tdf_dialog_header::before,.tdf_theme_8 #tdf_upsell.tdf_container .tdf_dialog_footer::before,.tdf_theme_8 #tdf_upsell.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_8 #tdf_upsell.tdf_container .tdf_dialog_header::before,.tdf_theme_8 #tdf_quickview.tdf_container .tdf_dialog_footer::before,.tdf_theme_8 #tdf_quickview.tdf_container .tdf_quickview_title_holiday::before,.tdf_theme_8 #tdf_quickview.tdf_container .tdf_dialog_header::before{margin-bottom:-15px}}.tdf_bundle.tdf_container{width:100%;clear:both;padding-top:15px}.tdf_bundle.tdf_container hr{border-top:1px solid #212B35;opacity:.1;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=10)";filter:alpha(opacity=10)}.tdf_bundle.tdf_container .tdf_vertical_name{cursor:pointer}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_plus_icon{position:absolute;z-index:2;margin-left:-10px;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;background-color:#fff;margin-top:50px}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product{width:192px;background-color:#fafbfd;margin-bottom:5px;position:relative;padding-bottom:24px}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product .tdf_bundle_item_bottom{position:absolute;bottom:0;width:100%}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product .tdf_vertical_title{text-align:center}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product .tdf_vertical_name{margin:5px 0}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product .tdf_checkbox_container{margin-top:0;margin-left:5px;float:left}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product .tdf_money.money{margin-right:5px;font-size:14px}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product .tdf_vertical_price{margin-top:0;text-align:right;display:block;padding-left:24px}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product .tdf_select_input{border:1px solid #f4f4f9}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_bundle_img{width:100%;height:120px}@media screen and (max-width: 768px){.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product{width:120px}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product .tdf_money.money{margin-right:0px;font-size:13px}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_vertical_product .tdf_checkbox_container{margin-left:0px}.tdf_bundle.tdf_container .tdf_bundle_style_1 .tdf_plus_icon{margin-left:-10px}}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_bundle_product_container{white-space:unset;font-size:0;text-align:left}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_bundle_product_item{width:50%;padding:1px}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_plus_icon{margin-top:50px}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_vertical_product{width:100%;background-color:#fafbfd;margin-bottom:5px;position:relative;padding-bottom:24px}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_vertical_product .tdf_bundle_item_bottom{position:absolute;bottom:0;width:100%}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_vertical_product .tdf_vertical_title{text-align:center}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_vertical_product .tdf_vertical_name{margin:5px 0}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_vertical_product .tdf_checkbox_container{margin-top:0;margin-left:5px;float:left}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_vertical_product .tdf_money.money{margin-right:5px;font-size:14px}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_vertical_product .tdf_vertical_price{margin-top:0;text-align:right;display:block;padding-left:24px}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_vertical_product .tdf_select_input{border:1px solid #f4f4f9}.tdf_bundle.tdf_container .tdf_bundle_style_5 .tdf_bundle_img{width:100%;height:120px}.tdf_bundle.tdf_container .tdf_bundle_style_6{max-width:1000px;margin:0 auto}.tdf_bundle.tdf_container .tdf_bundle_style_6.tdf_bundle_content{padding-left:10px}.tdf_bundle.tdf_container .tdf_bundle_style_6 .tdf_bundle_product{width:auto;margin-right:10px}.tdf_bundle.tdf_container .tdf_bundle_style_6 .tdf_bundle_product,.tdf_bundle.tdf_container .tdf_bundle_style_6 .tdf_bundle_left{display:inline-block;vertical-align:top}.tdf_bundle.tdf_container .tdf_bundle_style_6 h2{font-size:24px}.tdf_bundle.tdf_container .tdf_bundle_style_6 .tdf_bundle_title h4{font-size:18px;display:inline;font-weight:600}.tdf_bundle.tdf_container .tdf_bundle_style_6 .tdf_bundle_title .tdf_bundle_product_item{display:block;clear:both;margin-top:8px;padding-left:22px;position:relative}.tdf_bundle.tdf_container .tdf_bundle_style_6 .tdf_bundle_title .tdf_bundle_product_item .tdf_vertical_product{text-align:left}.tdf_bundle.tdf_container .tdf_bundle_style_6 .tdf_bundle_title .tdf_bundle_product_item .tdf_checkbox_container{position:absolute;top:-3px;left:0}.tdf_bundle.tdf_container .tdf_bundle_style_6 .tdf_bundle_title .tdf_bundle_product_item .tdf_vertical_product>span{text-align:left;vertical-align:middle;margin-right:4px;height:36px;line-height:36px}.tdf_bundle.tdf_container .tdf_bundle_style_6 .tdf_bundle_title .tdf_select_input{width:auto;background-image:url(S_PATH/fe/nfec/img/icon-select.png);background-repeat:no-repeat;background-position:right 0px center}.tdf_bundle.tdf_container .tdf_bundle_style_6 .tdf_current_item{cursor:text}.tdf_bundle.tdf_container .tdf_bundle_content{overflow:hidden;padding:15px 0;width:100%}.tdf_bundle.tdf_container .tdf_bundle_message{margin-bottom:15px}.tdf_bundle.tdf_container .tdf_bundle_message a{color:#4267b3}.tdf_bundle.tdf_container .tdf_bundle_product{overflow:hidden;width:100%}.tdf_bundle.tdf_container .tdf_bundle_product_container{overflow:auto;white-space:nowrap;width:100%;position:relative;float:left;overflow-y:hidden}.tdf_bundle.tdf_container .tdf_bundle_product_container.tdf_hover_scroll{overflow:hidden}.tdf_bundle.tdf_container .tdf_bundle_content:hover .tdf_bundle_product_container.tdf_hover_scroll{overflow:auto}.tdf_bundle.tdf_container .tdf_bundle_product_item{vertical-align:top;position:relative;min-height:1px;display:inline-block}.tdf_bundle.tdf_container .tdf_bundle_img{width:96px;height:96px;margin:0;position:relative;cursor:pointer;background-position:center;background-repeat:no-repeat;background-size:contain;background-color:#fafbfd;display:block}.tdf_bundle.tdf_container .tdf_bundle_more_option{position:relative;text-align:right;margin-top:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:75px}.tdf_bundle.tdf_container .tdf_bundle_more_option a{white-space:nowrap;color:#4267b3}.tdf_bundle.tdf_container .tdf_plus_icon{content:"";background-image:url(S_PATH/fe/nfec/img/plusboldx64.png);display:inline-block;height:15px;width:15px;margin-top:40px;background-position:center;background-size:cover}.tdf_bundle.tdf_container .tdf_bundle_price{position:relative;margin-left:4px}.tdf_bundle.tdf_container .tdf_bundle_price div{line-height:25px}.tdf_bundle.tdf_container .tdf_bundle_content button{width:auto;margin-top:5px;margin-left:4px}.tdf-product-page form .shopify-payment-button{cursor:pointer}.tdf-product-page form .shopify-payment-button>div,.tdf-product-page form .shopify-payment-button dynamic-checkout{pointer-events:none}.paypalLightBoxy,.allLightBoxy{display:none}.additional-checkout-buttons.tdf_discount_ck_btn{cursor:pointer}.additional-checkout-buttons.tdf_discount_ck_btn>div,.additional-checkout-buttons.tdf_discount_ck_btn>button,.additional-checkout-buttons.tdf_discount_ck_btn>a{pointer-events:none}.additional-checkout-buttons.tdf_discount_ck_btn .paypalLightBoxy,.additional-checkout-buttons.tdf_discount_ck_btn .allLightBoxy{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.additional-checkout-buttons.tdf_discount_ck_btn .paypalLightBoxy{max-width:750px;max-height:60px}#satcb_checkout_btn{pointer-events:none}#tdf_wholesale.tdf_container .tdf_discountable_product,#tdf_modal.tdf_container .tdf_discountable_product,#tdf_sale_widget.tdf_container .tdf_discountable_product,.tdf_bundle.tdf_container .tdf_discountable_product,#tdf_notify.tdf_container .tdf_discountable_product,#tdf_upsell.tdf_container .tdf_discountable_product,#tdf_discount_widget.tdf_container .tdf_discountable_product,#tdf_quickview.tdf_container .tdf_discountable_product,#tdf_discount_box.tdf_container .tdf_discountable_product{display:inline-block;position:relative}#tdf_wholesale.tdf_container .tdf_gift_title,#tdf_modal.tdf_container .tdf_gift_title,#tdf_sale_widget.tdf_container .tdf_gift_title,.tdf_bundle.tdf_container .tdf_gift_title,#tdf_notify.tdf_container .tdf_gift_title,#tdf_upsell.tdf_container .tdf_gift_title,#tdf_discount_widget.tdf_container .tdf_gift_title,#tdf_quickview.tdf_container .tdf_gift_title,#tdf_discount_box.tdf_container .tdf_gift_title{position:relative;overflow:hidden;display:inline;text-decoration:none}#tdf_wholesale.tdf_container .tdf_discount_icon,#tdf_modal.tdf_container .tdf_discount_icon,#tdf_sale_widget.tdf_container .tdf_discount_icon,.tdf_bundle.tdf_container .tdf_discount_icon,#tdf_notify.tdf_container .tdf_discount_icon,#tdf_upsell.tdf_container .tdf_discount_icon,#tdf_discount_widget.tdf_container .tdf_discount_icon,#tdf_quickview.tdf_container .tdf_discount_icon,#tdf_discount_box.tdf_container .tdf_discount_icon{width:50px;height:50px;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;display:block;background-position:center;position:absolute;background-repeat:no-repeat}#tdf_wholesale.tdf_container .tdf_discount_icon_0,#tdf_modal.tdf_container .tdf_discount_icon_0,#tdf_sale_widget.tdf_container .tdf_discount_icon_0,.tdf_bundle.tdf_container .tdf_discount_icon_0,#tdf_notify.tdf_container .tdf_discount_icon_0,#tdf_upsell.tdf_container .tdf_discount_icon_0,#tdf_discount_widget.tdf_container .tdf_discount_icon_0,#tdf_quickview.tdf_container .tdf_discount_icon_0,#tdf_discount_box.tdf_container .tdf_discount_icon_0{background-color:#fafbfd;background-size:contain}#tdf_wholesale.tdf_container .tdf_discount_icon_1,#tdf_wholesale.tdf_container .tdf_discount_icon_2,#tdf_modal.tdf_container .tdf_discount_icon_1,#tdf_modal.tdf_container .tdf_discount_icon_2,#tdf_sale_widget.tdf_container .tdf_discount_icon_1,#tdf_sale_widget.tdf_container .tdf_discount_icon_2,.tdf_bundle.tdf_container .tdf_discount_icon_1,.tdf_bundle.tdf_container .tdf_discount_icon_2,#tdf_notify.tdf_container .tdf_discount_icon_1,#tdf_notify.tdf_container .tdf_discount_icon_2,#tdf_upsell.tdf_container .tdf_discount_icon_1,#tdf_upsell.tdf_container .tdf_discount_icon_2,#tdf_discount_widget.tdf_container .tdf_discount_icon_1,#tdf_discount_widget.tdf_container .tdf_discount_icon_2,#tdf_quickview.tdf_container .tdf_discount_icon_1,#tdf_quickview.tdf_container .tdf_discount_icon_2,#tdf_discount_box.tdf_container .tdf_discount_icon_1,#tdf_discount_box.tdf_container .tdf_discount_icon_2{background-image:url(S_PATH/fe/nfec/img/discount.png);background-size:36px}#tdf_wholesale.tdf_container .tdf_discount_icon_4,#tdf_modal.tdf_container .tdf_discount_icon_4,#tdf_sale_widget.tdf_container .tdf_discount_icon_4,.tdf_bundle.tdf_container .tdf_discount_icon_4,#tdf_notify.tdf_container .tdf_discount_icon_4,#tdf_upsell.tdf_container .tdf_discount_icon_4,#tdf_discount_widget.tdf_container .tdf_discount_icon_4,#tdf_quickview.tdf_container .tdf_discount_icon_4,#tdf_discount_box.tdf_container .tdf_discount_icon_4{background-image:url(S_PATH/fe/nfec/img/gift_icon.png);background-size:28px}#tdf_wholesale.tdf_container .tdf_discount_icon_3,#tdf_modal.tdf_container .tdf_discount_icon_3,#tdf_sale_widget.tdf_container .tdf_discount_icon_3,.tdf_bundle.tdf_container .tdf_discount_icon_3,#tdf_notify.tdf_container .tdf_discount_icon_3,#tdf_upsell.tdf_container .tdf_discount_icon_3,#tdf_discount_widget.tdf_container .tdf_discount_icon_3,#tdf_quickview.tdf_container .tdf_discount_icon_3,#tdf_discount_box.tdf_container .tdf_discount_icon_3{background-image:url(S_PATH/fe/nfec/img/freeship_1.png);background-size:36px}#tdf_wholesale.tdf_container .tdf_discount_icon_6,#tdf_modal.tdf_container .tdf_discount_icon_6,#tdf_sale_widget.tdf_container .tdf_discount_icon_6,.tdf_bundle.tdf_container .tdf_discount_icon_6,#tdf_notify.tdf_container .tdf_discount_icon_6,#tdf_upsell.tdf_container .tdf_discount_icon_6,#tdf_discount_widget.tdf_container .tdf_discount_icon_6,#tdf_quickview.tdf_container .tdf_discount_icon_6,#tdf_discount_box.tdf_container .tdf_discount_icon_6{background-image:url(S_PATH/fe/nfec/img/coupon2.png);background-size:34px}#tdf_wholesale.tdf_container .tdf_discount_icon.tdf_discount_icon_9,#tdf_modal.tdf_container .tdf_discount_icon.tdf_discount_icon_9,#tdf_sale_widget.tdf_container .tdf_discount_icon.tdf_discount_icon_9,.tdf_bundle.tdf_container .tdf_discount_icon.tdf_discount_icon_9,#tdf_notify.tdf_container .tdf_discount_icon.tdf_discount_icon_9,#tdf_upsell.tdf_container .tdf_discount_icon.tdf_discount_icon_9,#tdf_discount_widget.tdf_container .tdf_discount_icon.tdf_discount_icon_9,#tdf_quickview.tdf_container .tdf_discount_icon.tdf_discount_icon_9,#tdf_discount_box.tdf_container .tdf_discount_icon.tdf_discount_icon_9{background-image:url(S_PATH/fe/nfec/img/loyalty-icon-w.png);background-size:34px;background-position:8px 10px}#tdf_wholesale.tdf_container br.tdf_auto_br,#tdf_modal.tdf_container br.tdf_auto_br,#tdf_sale_widget.tdf_container br.tdf_auto_br,.tdf_bundle.tdf_container br.tdf_auto_br,#tdf_notify.tdf_container br.tdf_auto_br,#tdf_upsell.tdf_container br.tdf_auto_br,#tdf_discount_widget.tdf_container br.tdf_auto_br,#tdf_quickview.tdf_container br.tdf_auto_br,#tdf_discount_box.tdf_container br.tdf_auto_br{line-height:0}#tdf_wholesale.tdf_container .tdf_discount_content,#tdf_modal.tdf_container .tdf_discount_content,#tdf_sale_widget.tdf_container .tdf_discount_content,.tdf_bundle.tdf_container .tdf_discount_content,#tdf_notify.tdf_container .tdf_discount_content,#tdf_upsell.tdf_container .tdf_discount_content,#tdf_discount_widget.tdf_container .tdf_discount_content,#tdf_quickview.tdf_container .tdf_discount_content,#tdf_discount_box.tdf_container .tdf_discount_content{text-align:left;display:inline-block;padding-left:56px;min-height:50px;line-height:22px;margin-bottom:10px;max-width:250px}#tdf_wholesale.tdf_container .tdf_discount_content br.tdf_auto_br,#tdf_modal.tdf_container .tdf_discount_content br.tdf_auto_br,#tdf_sale_widget.tdf_container .tdf_discount_content br.tdf_auto_br,.tdf_bundle.tdf_container .tdf_discount_content br.tdf_auto_br,#tdf_notify.tdf_container .tdf_discount_content br.tdf_auto_br,#tdf_upsell.tdf_container .tdf_discount_content br.tdf_auto_br,#tdf_discount_widget.tdf_container .tdf_discount_content br.tdf_auto_br,#tdf_quickview.tdf_container .tdf_discount_content br.tdf_auto_br,#tdf_discount_box.tdf_container .tdf_discount_content br.tdf_auto_br{display:none}#tdf_wholesale.tdf_container .tdf_discount_text,#tdf_modal.tdf_container .tdf_discount_text,#tdf_sale_widget.tdf_container .tdf_discount_text,.tdf_bundle.tdf_container .tdf_discount_text,#tdf_notify.tdf_container .tdf_discount_text,#tdf_upsell.tdf_container .tdf_discount_text,#tdf_discount_widget.tdf_container .tdf_discount_text,#tdf_quickview.tdf_container .tdf_discount_text,#tdf_discount_box.tdf_container .tdf_discount_text{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:25px}#tdf_wholesale.tdf_container .tdf_discount_tag_freeship,#tdf_modal.tdf_container .tdf_discount_tag_freeship,#tdf_sale_widget.tdf_container .tdf_discount_tag_freeship,.tdf_bundle.tdf_container .tdf_discount_tag_freeship,#tdf_notify.tdf_container .tdf_discount_tag_freeship,#tdf_upsell.tdf_container .tdf_discount_tag_freeship,#tdf_discount_widget.tdf_container .tdf_discount_tag_freeship,#tdf_quickview.tdf_container .tdf_discount_tag_freeship,#tdf_discount_box.tdf_container .tdf_discount_tag_freeship{position:relative}#tdf_wholesale.tdf_container .tdf_discount_tag_freeship,#tdf_wholesale.tdf_container .tdf_discount_tag,#tdf_modal.tdf_container .tdf_discount_tag_freeship,#tdf_modal.tdf_container .tdf_discount_tag,#tdf_sale_widget.tdf_container .tdf_discount_tag_freeship,#tdf_sale_widget.tdf_container .tdf_discount_tag,.tdf_bundle.tdf_container .tdf_discount_tag_freeship,.tdf_bundle.tdf_container .tdf_discount_tag,#tdf_notify.tdf_container .tdf_discount_tag_freeship,#tdf_notify.tdf_container .tdf_discount_tag,#tdf_upsell.tdf_container .tdf_discount_tag_freeship,#tdf_upsell.tdf_container .tdf_discount_tag,#tdf_discount_widget.tdf_container .tdf_discount_tag_freeship,#tdf_discount_widget.tdf_container .tdf_discount_tag,#tdf_quickview.tdf_container .tdf_discount_tag_freeship,#tdf_quickview.tdf_container .tdf_discount_tag,#tdf_discount_box.tdf_container .tdf_discount_tag_freeship,#tdf_discount_box.tdf_container .tdf_discount_tag{font-weight:500;line-height:25px}#tdf_wholesale.tdf_container .tdf_motivator_container .tdf_money.money,#tdf_wholesale.tdf_container .tdf_motivator_container .tdf_discount_tag,#tdf_modal.tdf_container .tdf_motivator_container .tdf_money.money,#tdf_modal.tdf_container .tdf_motivator_container .tdf_discount_tag,#tdf_sale_widget.tdf_container .tdf_motivator_container .tdf_money.money,#tdf_sale_widget.tdf_container .tdf_motivator_container .tdf_discount_tag,.tdf_bundle.tdf_container .tdf_motivator_container .tdf_money.money,.tdf_bundle.tdf_container .tdf_motivator_container .tdf_discount_tag,#tdf_notify.tdf_container .tdf_motivator_container .tdf_money.money,#tdf_notify.tdf_container .tdf_motivator_container .tdf_discount_tag,#tdf_upsell.tdf_container .tdf_motivator_container .tdf_money.money,#tdf_upsell.tdf_container .tdf_motivator_container .tdf_discount_tag,#tdf_discount_widget.tdf_container .tdf_motivator_container .tdf_money.money,#tdf_discount_widget.tdf_container .tdf_motivator_container .tdf_discount_tag,#tdf_quickview.tdf_container .tdf_motivator_container .tdf_money.money,#tdf_quickview.tdf_container .tdf_motivator_container .tdf_discount_tag,#tdf_discount_box.tdf_container .tdf_motivator_container .tdf_money.money,#tdf_discount_box.tdf_container .tdf_motivator_container .tdf_discount_tag{font-size:unset}#tdf_wholesale.tdf_container .tdf_discounting_dcode .tdf_discount_content,#tdf_wholesale.tdf_container .tdf_discounted_dcode .tdf_discount_content,#tdf_modal.tdf_container .tdf_discounting_dcode .tdf_discount_content,#tdf_modal.tdf_container .tdf_discounted_dcode .tdf_discount_content,#tdf_sale_widget.tdf_container .tdf_discounting_dcode .tdf_discount_content,#tdf_sale_widget.tdf_container .tdf_discounted_dcode .tdf_discount_content,.tdf_bundle.tdf_container .tdf_discounting_dcode .tdf_discount_content,.tdf_bundle.tdf_container .tdf_discounted_dcode .tdf_discount_content,#tdf_notify.tdf_container .tdf_discounting_dcode .tdf_discount_content,#tdf_notify.tdf_container .tdf_discounted_dcode .tdf_discount_content,#tdf_upsell.tdf_container .tdf_discounting_dcode .tdf_discount_content,#tdf_upsell.tdf_container .tdf_discounted_dcode .tdf_discount_content,#tdf_discount_widget.tdf_container .tdf_discounting_dcode .tdf_discount_content,#tdf_discount_widget.tdf_container .tdf_discounted_dcode .tdf_discount_content,#tdf_quickview.tdf_container .tdf_discounting_dcode .tdf_discount_content,#tdf_quickview.tdf_container .tdf_discounted_dcode .tdf_discount_content,#tdf_discount_box.tdf_container .tdf_discounting_dcode .tdf_discount_content,#tdf_discount_box.tdf_container .tdf_discounted_dcode .tdf_discount_content{position:relative;font-size:20px}#tdf_wholesale.tdf_container .dcode_remove_btn,#tdf_modal.tdf_container .dcode_remove_btn,#tdf_sale_widget.tdf_container .dcode_remove_btn,.tdf_bundle.tdf_container .dcode_remove_btn,#tdf_notify.tdf_container .dcode_remove_btn,#tdf_upsell.tdf_container .dcode_remove_btn,#tdf_discount_widget.tdf_container .dcode_remove_btn,#tdf_quickview.tdf_container .dcode_remove_btn,#tdf_discount_box.tdf_container .dcode_remove_btn{opacity:.6;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";filter:alpha(opacity=60);cursor:pointer}#tdf_wholesale.tdf_container .dcode_remove_btn:hover,#tdf_modal.tdf_container .dcode_remove_btn:hover,#tdf_sale_widget.tdf_container .dcode_remove_btn:hover,.tdf_bundle.tdf_container .dcode_remove_btn:hover,#tdf_notify.tdf_container .dcode_remove_btn:hover,#tdf_upsell.tdf_container .dcode_remove_btn:hover,#tdf_discount_widget.tdf_container .dcode_remove_btn:hover,#tdf_quickview.tdf_container .dcode_remove_btn:hover,#tdf_discount_box.tdf_container .dcode_remove_btn:hover{opacity:1;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100)}#tdf_wholesale.tdf_container .tdf_nonpopup .tdf_discount_icon,#tdf_modal.tdf_container .tdf_nonpopup .tdf_discount_icon,#tdf_sale_widget.tdf_container .tdf_nonpopup .tdf_discount_icon,.tdf_bundle.tdf_container .tdf_nonpopup .tdf_discount_icon,#tdf_notify.tdf_container .tdf_nonpopup .tdf_discount_icon,#tdf_upsell.tdf_container .tdf_nonpopup .tdf_discount_icon,#tdf_discount_widget.tdf_container .tdf_nonpopup .tdf_discount_icon,#tdf_quickview.tdf_container .tdf_nonpopup .tdf_discount_icon,#tdf_discount_box.tdf_container .tdf_nonpopup .tdf_discount_icon{background-color:#BF0712}#tdf_wholesale.tdf_container .tdf_nonpopup .tdf_discount_icon_0,#tdf_modal.tdf_container .tdf_nonpopup .tdf_discount_icon_0,#tdf_sale_widget.tdf_container .tdf_nonpopup .tdf_discount_icon_0,.tdf_bundle.tdf_container .tdf_nonpopup .tdf_discount_icon_0,#tdf_notify.tdf_container .tdf_nonpopup .tdf_discount_icon_0,#tdf_upsell.tdf_container .tdf_nonpopup .tdf_discount_icon_0,#tdf_discount_widget.tdf_container .tdf_nonpopup .tdf_discount_icon_0,#tdf_quickview.tdf_container .tdf_nonpopup .tdf_discount_icon_0,#tdf_discount_box.tdf_container .tdf_nonpopup .tdf_discount_icon_0{background-color:#fafbfd}#tdf_wholesale.tdf_container .tdf_nonpopup .tdf_gift_title,#tdf_modal.tdf_container .tdf_nonpopup .tdf_gift_title,#tdf_sale_widget.tdf_container .tdf_nonpopup .tdf_gift_title,.tdf_bundle.tdf_container .tdf_nonpopup .tdf_gift_title,#tdf_notify.tdf_container .tdf_nonpopup .tdf_gift_title,#tdf_upsell.tdf_container .tdf_nonpopup .tdf_gift_title,#tdf_discount_widget.tdf_container .tdf_nonpopup .tdf_gift_title,#tdf_quickview.tdf_container .tdf_nonpopup .tdf_gift_title,#tdf_discount_box.tdf_container .tdf_nonpopup .tdf_gift_title{color:#4267b3}#tdf_wholesale.tdf_container .tdf_nonpopup .tdf_product_title,#tdf_modal.tdf_container .tdf_nonpopup .tdf_product_title,#tdf_sale_widget.tdf_container .tdf_nonpopup .tdf_product_title,.tdf_bundle.tdf_container .tdf_nonpopup .tdf_product_title,#tdf_notify.tdf_container .tdf_nonpopup .tdf_product_title,#tdf_upsell.tdf_container .tdf_nonpopup .tdf_product_title,#tdf_discount_widget.tdf_container .tdf_nonpopup .tdf_product_title,#tdf_quickview.tdf_container .tdf_nonpopup .tdf_product_title,#tdf_discount_box.tdf_container .tdf_nonpopup .tdf_product_title{display:none}#tdf_wholesale.tdf_container .tdf_nonpopup .tdf_discount_content br.tdf_auto_br,#tdf_modal.tdf_container .tdf_nonpopup .tdf_discount_content br.tdf_auto_br,#tdf_sale_widget.tdf_container .tdf_nonpopup .tdf_discount_content br.tdf_auto_br,.tdf_bundle.tdf_container .tdf_nonpopup .tdf_discount_content br.tdf_auto_br,#tdf_notify.tdf_container .tdf_nonpopup .tdf_discount_content br.tdf_auto_br,#tdf_upsell.tdf_container .tdf_nonpopup .tdf_discount_content br.tdf_auto_br,#tdf_discount_widget.tdf_container .tdf_nonpopup .tdf_discount_content br.tdf_auto_br,#tdf_quickview.tdf_container .tdf_nonpopup .tdf_discount_content br.tdf_auto_br,#tdf_discount_box.tdf_container .tdf_nonpopup .tdf_discount_content br.tdf_auto_br{display:block}#tdf_wholesale.tdf_container .tdf_discounted_product,#tdf_modal.tdf_container .tdf_discounted_product,#tdf_sale_widget.tdf_container .tdf_discounted_product,.tdf_bundle.tdf_container .tdf_discounted_product,#tdf_notify.tdf_container .tdf_discounted_product,#tdf_upsell.tdf_container .tdf_discounted_product,#tdf_discount_widget.tdf_container .tdf_discounted_product,#tdf_quickview.tdf_container .tdf_discounted_product,#tdf_discount_box.tdf_container .tdf_discounted_product{position:relative}@media screen and (min-width: 413px){#tdf_wholesale.tdf_container .tdf_discount_content,#tdf_modal.tdf_container .tdf_discount_content,#tdf_sale_widget.tdf_container .tdf_discount_content,.tdf_bundle.tdf_container .tdf_discount_content,#tdf_notify.tdf_container .tdf_discount_content,#tdf_upsell.tdf_container .tdf_discount_content,#tdf_discount_widget.tdf_container .tdf_discount_content,#tdf_quickview.tdf_container .tdf_discount_content,#tdf_discount_box.tdf_container .tdf_discount_content{max-width:360px}}@media screen and (min-width: 374px){#tdf_wholesale.tdf_container .tdf_discount_content,#tdf_modal.tdf_container .tdf_discount_content,#tdf_sale_widget.tdf_container .tdf_discount_content,.tdf_bundle.tdf_container .tdf_discount_content,#tdf_notify.tdf_container .tdf_discount_content,#tdf_upsell.tdf_container .tdf_discount_content,#tdf_discount_widget.tdf_container .tdf_discount_content,#tdf_quickview.tdf_container .tdf_discount_content,#tdf_discount_box.tdf_container .tdf_discount_content{max-width:330px}}#tdf_modal.tdf_container .tdf_gift_title,#tdf_notify.tdf_container .tdf_gift_title,#tdf_upsell.tdf_container .tdf_gift_title,#tdf_quickview.tdf_container .tdf_gift_title{color:#4267b2}#tdf_modal.tdf_container .tdf_discount_icon,#tdf_notify.tdf_container .tdf_discount_icon,#tdf_upsell.tdf_container .tdf_discount_icon,#tdf_quickview.tdf_container .tdf_discount_icon{background-color:#BF0711}#tdf_modal.tdf_container .tdf_discount_tag_freeship,#tdf_modal.tdf_container .tdf_discount_tag,#tdf_notify.tdf_container .tdf_discount_tag_freeship,#tdf_notify.tdf_container .tdf_discount_tag,#tdf_upsell.tdf_container .tdf_discount_tag_freeship,#tdf_upsell.tdf_container .tdf_discount_tag,#tdf_quickview.tdf_container .tdf_discount_tag_freeship,#tdf_quickview.tdf_container .tdf_discount_tag{color:#000002}#tdf_wholesale.tdf_container .tdf_gift_title,#tdf_sale_widget.tdf_container .tdf_gift_title,.tdf_bundle.tdf_container .tdf_gift_title,#tdf_discount_widget.tdf_container .tdf_gift_title{color:#4267b3}#tdf_wholesale.tdf_container .tdf_discount_icon,#tdf_sale_widget.tdf_container .tdf_discount_icon,.tdf_bundle.tdf_container .tdf_discount_icon,#tdf_discount_widget.tdf_container .tdf_discount_icon{background-color:#BF0712}#tdf_wholesale.tdf_container .tdf_discount_tag_freeship,#tdf_wholesale.tdf_container .tdf_discount_tag,#tdf_sale_widget.tdf_container .tdf_discount_tag_freeship,#tdf_sale_widget.tdf_container .tdf_discount_tag,.tdf_bundle.tdf_container .tdf_discount_tag_freeship,.tdf_bundle.tdf_container .tdf_discount_tag,#tdf_discount_widget.tdf_container .tdf_discount_tag_freeship,#tdf_discount_widget.tdf_container .tdf_discount_tag{color:#000001}.tdf-cart-item-p,.tdf-cart-item-lp{display:none}.tdf_price_save{display:block;color:#BF0712}.tdf_price_normal .tdf_money{font-weight:bold}.tdf_price_original .tdf_money{text-decoration:line-through !important}.tdf_price_original .tdf_money2{text-decoration:line-through !important}#tdf_upsell.tdf_container .tdf_discount_content br.tdf_auto_br{display:block}#tdf_upsell.tdf_container .tdf_product_title{display:none}#tdf_upsell.tdf_container .tdf_discountable_product{width:100%}@media screen and (max-width: 768px){#tdf_upsell.tdf_container .tdf_bs_offer_product .tdf_discount_icon{width:30px;height:30px;margin-top:5px}#tdf_upsell.tdf_container .tdf_bs_offer_product .tdf_discount_icon_4,#tdf_upsell.tdf_container .tdf_bs_offer_product .tdf_discount_icon_3{background-size:18px}#tdf_upsell.tdf_container .tdf_bs_offer_product .tdf_discount_content{padding-left:32px;width:90%}#tdf_upsell.tdf_container .tdf_bs_offer_product .tdf_discount_tag{font-size:13px}}#tdf_quickview.tdf_container .tdf_discount_content br.tdf_auto_br{display:block}#tdf_quickview.tdf_container .tdf_discountable_product{text-align:left}#tdf_quickview.tdf_container .tdf_product_title{display:none}#tdf_sale_widget.tdf_container,#tdf_discount_widget.tdf_container{width:100%;clear:both}.tdf_notify_opening #tdf_discount_widget.tdf_container{display:none}#tdf_discount_widget.tdf_container .tdf_motivator .tdf_gift{max-width:440px;margin:auto}#tdf_currency.tdf_container{position:fixed;top:80px;right:10px;overflow-y:auto;overflow-x:hidden;max-height:400px;-webkit-box-shadow:0 2px 12px #c4c6d5;-moz-box-shadow:0 2px 12px #c4c6d5;box-shadow:0 2px 12px #c4c6d5;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;z-index:9999}#tdf_currency.tdf_container.tdf_sticky{top:10px}#tdf_currency.tdf_container .tdf_currency_container{position:relative}#tdf_currency.tdf_container .tdf_currency_item{background:#fff;display:block;height:40px;padding:10px 8px 10px 5px;line-height:20px}#tdf_currency.tdf_container .tdf_currency_item img{width:20px;height:20px;float:left;margin-right:10px;-webkit-border-radius:20px;-moz-border-radius:20px;-ms-border-radius:20px;border-radius:20px}#tdf_currency.tdf_container .tdf_currency_item .tdf_currency_code{display:none}#tdf_currency.tdf_container .tdf_currency_selected .tdf_currency_item:after{display:inline-block;position:absolute;top:0;right:3px;width:15px;height:39px;background-position:50%;background-size:11px;background-image:url(data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI4NC45IDI4NC45Ij48cGF0aCBkPSJNMjgyIDc2LjVsLTE0LjItMTQuM2E5IDkgMCAwIDAtMTMuMSAwTDE0Mi41IDE3NC40IDMwLjMgNjIuMmE5IDkgMCAwIDAtMTMuMiAwTDMgNzYuNWE5IDkgMCAwIDAgMCAxMy4xbDEzMyAxMzNhOSA5IDAgMCAwIDEzLjEgMGwxMzMtMTMzYTkgOSAwIDAgMCAwLTEzeiIvPjwvc3ZnPg==);background-repeat:no-repeat;line-height:37px;content:"";transform:rotate(-90deg)}#tdf_currency.tdf_container .tdf_currency_item:hover{background-color:#f2f2f2}@media screen and (min-width: 768px){#tdf_currency.tdf_container .tdf_currency_container{max-height:600px}#tdf_currency.tdf_container .tdf_currency_item{padding:10px 30px 10px 10px}#tdf_currency.tdf_container .tdf_currency_item .tdf_currency_code{display:inline}#tdf_currency.tdf_container .tdf_currency_selected .tdf_currency_item:after{right:10px}}#tdf_discount_widget.tdf_container,#tdf_discount_box.tdf_container{text-align:left;margin-bottom:10px}#tdf_discount_widget.tdf_container .tdf_input_form .tdf_input_discount,#tdf_discount_box.tdf_container .tdf_input_form .tdf_input_discount{width:130px;border:1px solid #d3d3db;margin-right:5px;display:inline-block;padding:11px 12px;font-size:14px;height:36px}#tdf_discount_widget.tdf_container .tdf_input_form .tdf_normal_btn,#tdf_discount_box.tdf_container .tdf_input_form .tdf_normal_btn{width:80px;font-size:15px}.tdf_qv_recommend .tdf_no_gift{display:none}#tdf_discount_box.tdf_container{text-align:right}#tdf_discount_box.tdf_container .tdf_normal_btn{background-color:#4267b2;border:none}.tdf_ribbon,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_ribbon,#tdf_quickview.tdf_container .tdf_ribbon{position:absolute;left:-5px;top:-5px;z-index:12;overflow:hidden;text-align:right}.tdf_ribbon span.tdf_ribbon_span,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_ribbon span.tdf_ribbon_span,#tdf_quickview.tdf_container .tdf_ribbon span.tdf_ribbon_span{font-weight:bold;color:#FFF;text-align:center;-moz-transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);transform:rotate(-45deg);width:100px;display:block;background:#BF0712;-webkit-box-shadow:inset 0 3px 10px -5px;-moz-box-shadow:inset 0 3px 10px -5px;box-shadow:inset 0 3px 10px -5px;position:absolute}.tdf_ribbon span.tdf_ribbon_span .tdf_money.money,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_ribbon span.tdf_ribbon_span .tdf_money.money,#tdf_quickview.tdf_container .tdf_ribbon span.tdf_ribbon_span .tdf_money.money{color:#fffffe;position:initial}.tdf_ribbon span.tdf_ribbon_span::before,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_ribbon span.tdf_ribbon_span::before,#tdf_quickview.tdf_container .tdf_ribbon span.tdf_ribbon_span::before{content:"";position:absolute;left:0px;top:100%;border-left:3px solid #BF0712;border-right:3px solid transparent;border-bottom:3px solid transparent;border-top:3px solid #BF0712}.tdf_ribbon span.tdf_ribbon_span::after,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_ribbon span.tdf_ribbon_span::after,#tdf_quickview.tdf_container .tdf_ribbon span.tdf_ribbon_span::after{content:"";position:absolute;right:0px;top:100%;border-left:3px solid transparent;border-right:3px solid #BF0712;border-bottom:3px solid transparent;border-top:3px solid #BF0712}.tdf_ribbon.tdf_ribbon_right,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_ribbon.tdf_ribbon_right,#tdf_quickview.tdf_container .tdf_ribbon.tdf_ribbon_right{right:-5px;top:-5px;left:initial}.tdf_ribbon.tdf_ribbon_right span.tdf_ribbon_span,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_ribbon.tdf_ribbon_right span.tdf_ribbon_span,#tdf_quickview.tdf_container .tdf_ribbon.tdf_ribbon_right span.tdf_ribbon_span{transform:rotate(45deg);-webkit-transform:rotate(45deg)}.tdf_label_v,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_label_v,#tdf_quickview.tdf_container .tdf_label_v{position:absolute;z-index:12;background:#BF0712;display:block;padding:3px;-webkit-border-radius:1px;-moz-border-radius:1px;-ms-border-radius:1px;border-radius:1px}.tdf_label_v span.tdf_ribbon_span,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_label_v span.tdf_ribbon_span,#tdf_quickview.tdf_container .tdf_label_v span.tdf_ribbon_span{color:#FFF;font-size:14px}.tdf_label_v span.tdf_ribbon_span .tdf_money.money,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_label_v span.tdf_ribbon_span .tdf_money.money,#tdf_quickview.tdf_container .tdf_label_v span.tdf_ribbon_span .tdf_money.money{color:#FFF}.tdf_label_v2,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_label_v2,#tdf_quickview.tdf_container .tdf_label_v2{top:0;left:0;bottom:auto;right:auto}div.tdf_label_v2.tdf_label_v.tdf_label{height:auto}.tdf_label_v3,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_label_v3,#tdf_quickview.tdf_container .tdf_label_v3{top:0;right:0}.tdf_label_v4,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_label_v4,#tdf_quickview.tdf_container .tdf_label_v4{bottom:0;left:0}.tdf_label_v5,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_label_v5,#tdf_quickview.tdf_container .tdf_label_v5{bottom:0;right:0}.woodmart-hover-alt .hover-img .tdf_label{display:none}.media>.tdf_label{height:auto !important;width:auto !important}#tdf_loyal.tdf_container{width:100%;clear:both;text-align:center;padding-top:15px}#tdf_loyal.tdf_container a.tdf_loyal_login{background-color:#fffffd;color:#4267b3}#tdf_loyal.tdf_container a{padding:8px 13px;font-size:16px;line-height:20px;width:100%;color:#fffffd;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;cursor:pointer;background:#4267b3;margin:5px;border:1px solid #4267b3}#tdf_loyal.tdf_container .tdf_loyal_container{padding:15px;-webkit-box-shadow:0 2px 12px #637381;-moz-box-shadow:0 2px 12px #637381;box-shadow:0 2px 12px #637381;width:90%;margin-left:auto;margin-right:auto;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;min-height:130px}#tdf_loyal.tdf_container .tdf_loyal_container div:nth-child(2){margin-bottom:15px}#tdf_message_2.tdf_notify_msg .tdf_loyal_discountable,#tdf_notify.tdf_container .tdf_content_section_discountable .tdf_loyal_discountable{padding:5px 10px 10px 10px;line-height:30px}#tdf_message_2.tdf_notify_msg .tdf_loyal_discountable a,#tdf_notify.tdf_container .tdf_content_section_discountable .tdf_loyal_discountable a{color:#4267b3}#tdf_notify.tdf_container .tdf_loyal_discountable span.tdf_point,#tdf_modal #tdf_loyal_rewards span.tdf_point{color:#61bd4e}#tdf_modal.tdf_container .tdf_point_message,#tdf_modal.tdf_container .tdf_loyal_earn{line-height:24px}#tdf_modal.tdf_container .tdf_loyal_earn{margin-bottom:5px}#tdf_modal.tdf_container .tdf_loyal_offer_point{color:#637381}#tdf_modal.tdf_container #tdf_loyal_rewards{width:100%}#tdf_modal.tdf_container .tdf_loyal_rewards_btn{background:#4267b2;display:inline-block;width:100px;margin:10px 0;float:right}#tdf_modal.tdf_container button.tdf_loyal_disable_btn{background-color:#d4d6e4;cursor:unset}#tdf_modal.tdf_container .tdf_loyal_offer{display:inline-block;width:62%;padding:10px 0;text-align:left}#tdf_modal.tdf_container .tdf_loyal_offer_message{font-weight:bold}@media screen and (min-width: 768px){#tdf_loyal.tdf_container .tdf_loyal_container{padding:15px;-webkit-box-shadow:0 2px 12px #637381;-moz-box-shadow:0 2px 12px #637381;box-shadow:0 2px 12px #637381;width:60%}#tdf_modal.tdf_container .tdf_loyal_rewards_btn{width:120px}#tdf_modal.tdf_container .tdf_loyal_offer{width:72%}}#tdf_notify .tdf_motivator.tdf_container .tdf_motivator_container,#tdf_discount_widget .tdf_motivator.tdf_container .tdf_motivator_container{z-index:2147483647;width:100%;background-color:#fffefe;text-align:center;font-size:18px;padding-bottom:20px;line-height:26px}#tdf_notify .tdf_motivator.tdf_container .tdf_motivator_border,#tdf_discount_widget .tdf_motivator.tdf_container .tdf_motivator_border{position:relative;height:20px;width:100%;-webkit-border-radius:10px;-moz-border-radius:10px;-ms-border-radius:10px;border-radius:10px;border:3px solid #61bd4f;max-width:300px;margin-left:auto;margin-right:auto}#tdf_notify .tdf_motivator.tdf_container .tdf_motivator_progress,#tdf_discount_widget .tdf_motivator.tdf_container .tdf_motivator_progress{position:absolute;height:10px;top:2px;left:2px;background-color:#61bd4f;-webkit-border-radius:10px;-moz-border-radius:10px;-ms-border-radius:10px;border-radius:10px;color:#fffefe;text-align:center;font-weight:600;font-size:10px;line-height:10px}@media screen and (min-width: 768px){#tdf_notify .tdf_motivator.tdf_container .tdf_motivator_container,#tdf_discount_widget .tdf_motivator.tdf_container .tdf_motivator_container{font-size:20px}#tdf_notify .tdf_motivator.tdf_container .tdf_motivator_border,#tdf_discount_widget .tdf_motivator.tdf_container .tdf_motivator_border{height:30px}#tdf_notify .tdf_motivator.tdf_container .tdf_motivator_progress,#tdf_discount_widget .tdf_motivator.tdf_container .tdf_motivator_progress{top:4px;height:16px;left:4px;line-height:16px;font-size:16px}}#tdf_quickview.tdf_container .tdf_dialog_modal.tdf_dialog_modal_qv{z-index:2147483647}#tdf_quickview.tdf_container .tdf_quickview_title_holiday{display:none;line-height:60px;width:100%}#tdf_quickview.tdf_container .tdf_qv_content{font-size:0}#tdf_quickview.tdf_container .tdf_carousel_container{position:relative;overflow:hidden}#tdf_quickview.tdf_container .tdf_swiper_wrapper{width:100%;height:100%;font-size:0;position:relative;overflow-x:scroll;white-space:nowrap}#tdf_quickview.tdf_container .tdf_swiper_slide_container{position:relative;overflow:hidden;display:inline-block}#tdf_quickview.tdf_container div.tdf_one_img{overflow:hidden;font-size:0}#tdf_quickview.tdf_container div.tdf_one_img .tdf_swiper_slide_container{width:100%}#tdf_quickview.tdf_container .tdf_swiper_slide{height:250px;min-width:60px;background-color:#F9FAFB}#tdf_quickview.tdf_container .tdf_swiper_slide img{height:100%}#tdf_quickview.tdf_container .tdf_qv_product_content{text-align:left;padding:8px 12px 12px 12px}#tdf_quickview.tdf_container .tdf_qv_wsale_div{margin-bottom:10px}#tdf_quickview.tdf_container .tdf_qv_variants_container{margin-right:4px}#tdf_quickview.tdf_container .tdf_qv_product_name{display:block;line-height:24px;font-size:20px}#tdf_quickview.tdf_container .tdf_qv_product_price{font-size:18px}#tdf_quickview.tdf_container .tdf_qv_title{vertical-align:top;line-height:32px;padding-right:5px;display:inline-block}#tdf_quickview.tdf_container .tdf_qv_variants_swatch{display:inline-block;line-height:36px;font-size:0}#tdf_quickview.tdf_container .tdf_qv_label{display:inline-block;vertical-align:top}#tdf_quickview.tdf_container .tdf_qv_swatch_real{vertical-align:top;border-color:#c4c6d5;font-size:16px;display:inline-block;min-width:32px;line-height:32px;font-weight:700;text-align:center;border-style:solid;border-width:1px;padding:0 5px;cursor:pointer;margin-right:4px}#tdf_quickview.tdf_container .tdf_qv_swatch_real.selecting{color:#fffffe;border-color:#4267b2;background-color:#4267b2}#tdf_quickview.tdf_container .tdf_qv_swatch_real.available{border-color:#4267b2;color:#4267b2}#tdf_quickview.tdf_container .tdf_qv_swatch_real.unavailable{color:#fffffe;border-color:#c4c6d5;background-color:#c4c6d5}#tdf_quickview.tdf_container .tdf_qv_product_name,#tdf_quickview.tdf_container .tdf_qv_product_price,#tdf_quickview.tdf_container .tdf_qv_variants_container,#tdf_quickview.tdf_container div.tdf_select_box,#tdf_quickview.tdf_container .tdf_qv_quantity_container,#tdf_quickview.tdf_container .tdf_qv_btn>button,#tdf_quickview.tdf_container .x_body_htm{margin-bottom:8px}#tdf_quickview.tdf_container .tdf_qv_product_name *,#tdf_quickview.tdf_container .tdf_qv_product_price *,#tdf_quickview.tdf_container .tdf_qv_variants_container *,#tdf_quickview.tdf_container div.tdf_select_box *,#tdf_quickview.tdf_container .tdf_qv_quantity_container *,#tdf_quickview.tdf_container .tdf_qv_btn>button *,#tdf_quickview.tdf_container .x_body_htm *{max-width:100%}#tdf_quickview.tdf_container .tdf_qv_share_container{padding:5px 0;margin-top:15px;opacity:.6;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";filter:alpha(opacity=60);margin:0 8px}#tdf_quickview.tdf_container .tdf_icon_wrapper{text-align:center}#tdf_quickview.tdf_container .tdf_qv_decscription_link a{color:#4267b2}#tdf_quickview.tdf_container .tdf_qv_decscription_link a:hover{text-decoration:underline}#tdf_quickview.tdf_container .tdf_qv_recommend{text-align:left;background:#F9FAFB;padding:12px}#tdf_quickview.tdf_container .tdf_qv_recommend .tdf_products_vertical_content{margin-right:12px}#tdf_quickview.tdf_container .tdf_qv_recommend .tdf_products_vertical_content:last-child{margin-right:0}#tdf_quickview.tdf_container .tdf_qv_recommend_title h3{line-height:40px}#tdf_quickview.tdf_container .tdf_qv_recommend_content{font-size:0;overflow-x:auto;width:100%;white-space:nowrap}#tdf_quickview.tdf_container .tdf_qv_swatch_item{display:none}#tdf_quickview.tdf_container .tdf_qv_qty_span{display:inline-block;width:32px;line-height:32px;text-align:center;font-weight:700;-moz-transition:color 0.2s;-o-transition:color 0.2s;-webkit-transition:color 0.2s;transition:color 0.2s;font-size:24px;cursor:pointer}#tdf_quickview.tdf_container .tdf_qv_qty_span.tdf_disable{color:#c4c6d5;cursor:not-allowed}#tdf_quickview.tdf_container .tdf_qty_change{display:inline-block}#tdf_quickview.tdf_container .tdf_qty_change input{width:40px;height:32px;border:1px solid #c4c6d5;text-align:center;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px}#tdf_quickview.tdf_container .tdf_qv_bottom_stuff button{padding:8px 0}@media screen and (min-width: 768px){#tdf_quickview.tdf_container .tdf_quickview_title_holiday{-webkit-border-radius:4px 4px 0 0;-moz-border-radius:4px 4px 0 0;-ms-border-radius:4px 4px 0 0;border-radius:4px 4px 0 0}#tdf_quickview.tdf_container .tdf_carousel_container{display:inline-block;width:50%;padding:20px 0 20px 20px}#tdf_quickview.tdf_container div.tdf_swiper_slide_container.tdf_img_inactive{display:none}#tdf_quickview.tdf_container .tdf_swiper_slide{height:400px;min-width:100px}#tdf_quickview.tdf_container .tdf_qv_product_content{width:50%;display:inline-block;height:420px;overflow:auto;vertical-align:top;padding:16px 20px 20px 20px}#tdf_quickview.tdf_container .tdf_qv_product_content .tdf_select_box .tdf_select_icon{right:8px}#tdf_quickview.tdf_container .tdf_qv_decscription_link,#tdf_quickview.tdf_container .tdf_qv_product_name,#tdf_quickview.tdf_container .tdf_qv_product_price,#tdf_quickview.tdf_container .tdf_qv_variants_container,#tdf_quickview.tdf_container .tdf_qv_quantity_container{overflow:hidden}#tdf_quickview.tdf_container .tdf_qv_product_name,#tdf_quickview.tdf_container .tdf_qv_product_price,#tdf_quickview.tdf_container .tdf_qv_variants_container,#tdf_quickview.tdf_container div.tdf_select_box,#tdf_quickview.tdf_container .tdf_qv_quantity_container,#tdf_quickview.tdf_container .tdf_qv_btn>button,#tdf_quickview.tdf_container .x_body_htm{margin-bottom:12px}#tdf_quickview.tdf_container .tdf_qv_share_container{padding:8px 0}#tdf_quickview.tdf_container .tdf_qv_recommend{padding:20px;-webkit-border-radius:8px;-moz-border-radius:8px;-ms-border-radius:8px;border-radius:8px}#tdf_quickview.tdf_container .tdf_qv_recommend .tdf_products_vertical_content{margin-right:20px}}#tdf_psale.tdf_container{width:100%;clear:both;padding-top:15px;background-color:#ffffff}#tdf_psale.tdf_container .tdf_psale_title{font-size:20px}#tdf_psale.tdf_container .tdf_psale_code_container{margin:10px 0;max-width:414px}#tdf_psale.tdf_container .tdf_psale_code{display:inline-block;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;width:65%;height:38px;border:1px dashed #BF0712;padding:2px}#tdf_psale.tdf_container .tdf_psale_code input{-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;text-align:center;background-color:#BF0712;color:#ffffff;height:32px;width:100%}#tdf_psale.tdf_container button.tdf_normal_btn{width:33%;margin-left:2%;color:#212B35;background-color:#ffffff;border:1px solid #cac5c5}#tdf_psale.tdf_container .tdf_psale_second_message{padding:10px 0;font-size:16px}#tdf_psale.tdf_container .tdf_psale_product_container{margin:10px 0;font-size:0}#tdf_psale.tdf_container .tdf_psale_product_img{padding:3px;display:inline-block;height:120px;width:50%}#tdf_psale.tdf_container .tdf_psale_product_img div{background-color:#fafbfd;background-repeat:no-repeat;background-size:contain;background-position:center;width:100%;height:100%}@media screen and (min-width: 768px){#tdf_psale.tdf_container .tdf_psale_product_img{width:25%}}#tdf_notify.tdf_container .tdf_notify_container{position:fixed;bottom:30px}#tdf_notify.tdf_container .tdf_notify_msgs{bottom:75px;z-index:2147483647;left:10px;right:10px}#tdf_notify.tdf_container .tdf_notify_msg{background-color:#fffefe;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 2px 12px #637381;-moz-box-shadow:0 2px 12px #637381;box-shadow:0 2px 12px #637381;padding:10px 10px 0 10px;animation-name:slideIn;-webkit-animation-name:slideIn;-moz-animation-name:slideIn;-ms-animation-name:slideIn;animation-duration:.4s;-webkit-animation-duration:.4s;-moz-animation-duration:.4s;-ms-animation-duration:.4s;z-index:2147483647;margin-bottom:10px}#tdf_notify.tdf_container .tdf_notify_popup{max-height:380px;bottom:75px;overflow:auto;z-index:9999;left:10px;right:16px;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px}#tdf_notify.tdf_container .tdf_notify_popup .tdf_cta_btn{margin-top:10px}#tdf_notify.tdf_container .tdf_notify_minicon{background-image:url(S_PATH/fe/nfec/img/gift_1.png);background-size:30px;background-repeat:no-repeat;background-position:5px 4px;right:20px;width:40px;height:40px;background-color:#4267b3;-webkit-box-shadow:0 0 5px #212B35;-moz-box-shadow:0 0 5px #212B35;box-shadow:0 0 5px #212B35;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;cursor:pointer;z-index:9999;left:5px}#tdf_notify.tdf_container .tdf_notify_minicon.tdf_notify_minicon_close{background-color:#4267b3;background-image:url(S_PATH/fe/nfec/img/close-mini-1.png);background-size:20px;background-position:center;background-repeat:no-repeat;z-index:2147483647}#tdf_notify.tdf_container h5{font-size:14px}#tdf_notify.tdf_container p{max-height:60px}#tdf_notify.tdf_container .tdf_content_section_discountable{-webkit-box-shadow:0 1px 7px #637381;-moz-box-shadow:0 1px 7px #637381;box-shadow:0 1px 7px #637381;padding:10px 10px 0 10px;margin:10px 1px;background-color:#fffefe}#tdf_notify.tdf_container .tdf_content_section_discounted{-webkit-box-shadow:0 1px 7px #637381;-moz-box-shadow:0 1px 7px #637381;box-shadow:0 1px 7px #637381;padding:10px;margin:10px 1px;background-color:#fffefe}#tdf_notify.tdf_container .tdf_discount_title{font-size:20px;margin-bottom:10px}#tdf_notify.tdf_container .tdf_notify_mobile .tdf_notify_popup{background-color:#F9FAFB;width:100%;bottom:0;top:34px;max-height:unset;left:0}#tdf_notify.tdf_container .tdf_content_section_discountable{-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px}#tdf_notify.tdf_container .tdf_content_section_discounted{-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px}@media screen and (min-width: 768px){#tdf_notify.tdf_container .tdf_notify_container{left:auto;bottom:200px}#tdf_notify.tdf_container .tdf_notify_msgs{width:400px;bottom:240px;right:18px}#tdf_notify.tdf_container .tdf_notify_popup{width:400px;bottom:240px;max-height:600px;background:none;-webkit-box-shadow:inset 0 0 0 0;-moz-box-shadow:inset 0 0 0 0;box-shadow:inset 0 0 0 0}#tdf_notify.tdf_container .tdf_notify_popup .tdf_notify_popup_content{padding:5px}}.tdf_rec{clear:both;padding-top:20px}.tdf_rec h2.tdf_rec_h2{text-align:center;margin-top:20px}.tdf_rec .tdf_rec_product_li{clear:initial}.tdf_rec .tdf_img{width:48%;padding-top:50%;display:inline-block;background-repeat:no-repeat;background-position:center;background-size:contain;background-color:#fafbfd;position:relative;margin:1px}.tdf_rec .tdf_img .tdf_img_title{position:absolute;bottom:0;background-color:#fafbfd;color:#000001;padding:0;margin-bottom:-10px;font-size:15px;width:100%;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media screen and (min-width: 768px){.tdf_rec .tdf_img{width:24%;padding-top:25%}}.tdf_rec_stable_2.tdf_rec h2.tdf_rec_h2{font-size:24px}.tdf_rec_stable_2.tdf_rec .tdf_rec_stable_div{white-space:nowrap;overflow:auto;text-align:center}.tdf_rec_stable_2.tdf_rec .tdf_rec_stable_div .tdf_rec_product{position:relative;vertical-align:top;display:inline-block;width:124px;margin-right:4px}.tdf_rec_stable_2.tdf_rec .tdf_rec_stable_div .tdf_rec_product .tdf_img{width:100%}@media screen and (min-width: 768px){.tdf_rec_stable_2.tdf_rec h2.tdf_rec_h2{font-size:26px}.tdf_rec_stable_2.tdf_rec .tdf_rec_stable_div{padding-bottom:16px}.tdf_rec_stable_2.tdf_rec .tdf_rec_stable_div .tdf_rec_product{width:230px}}#tdf_bar.tdf_container{position:relative;z-index:2;overflow-x:auto;overflow-y:hidden}#tdf_bar.tdf_container .tdf_bar_mm{display:inline-block;margin:0 7px}#tdf_bar.tdf_container .tdf_bar_left_img{vertical-align:top;display:none}#tdf_bar.tdf_container .tdf_bar_img{vertical-align:top;margin:0 5px;height:56px}#tdf_bar.tdf_container .tdf_bar_img:first-child{margin-left:0}#tdf_bar.tdf_container .tdf_bar_content{line-height:56px;white-space:nowrap;height:56px;cursor:pointer}#tdf_bar.tdf_container .tdf_bar_content .tdf_bar_btn{line-height:42px;vertical-align:top;display:inline-block;position:relative;background:#212B37;top:7px;height:42px;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;margin-left:8px;padding:0 8px}#tdf_bar.tdf_container .tdf_bar_content .tdf_bar_btn button{color:#fffffc}#tdf_bar.tdf_container span{vertical-align:top;display:none}#tdf_bar.tdf_container .tdf_countdown{vertical-align:top;position:relative;display:inline-block;font-size:20px;margin-left:5px;line-height:60px}@media screen and (min-width: 375px){#tdf_bar.tdf_container .tdf_countdown{font-size:30px}}@media screen and (min-width: 768px){#tdf_bar.tdf_container{overflow-x:hidden;text-align:center}#tdf_bar.tdf_container .tdf_bar_img:first-child{margin-left:12px}#tdf_bar.tdf_container .tdf_bar_img,#tdf_bar.tdf_container .tdf_countdown,#tdf_bar.tdf_container .tdf_bar_btn{margin:0 12px}#tdf_bar.tdf_container span{vertical-align:top;display:inline-block;position:relative;line-height:56px;font-size:20px;margin:0 12px}#tdf_bar.tdf_container .tdf_bar_left_img{display:inline-block}}#tdf_upsell.tdf_container .tdf_dialog_header{padding:20px 8px;background-color:#f2f3f5}#tdf_upsell.tdf_container .tdf_dialog_header_body{padding:0 8px;overflow:hidden}#tdf_upsell.tdf_container .tdf_cart_amount,#tdf_upsell.tdf_container .tdf_cart_items,#tdf_upsell.tdf_container .tdf_cart_amount .tdf_money{color:#212B30}#tdf_upsell.tdf_container .tdf_target_left{float:left;width:100%}#tdf_upsell.tdf_container .tdf_image_target{display:inline;float:left}#tdf_upsell.tdf_container .tdf_image_target img{width:auto;height:auto;max-width:50px;max-height:50px;vertical-align:middle;margin:0 auto;display:inline-block}#tdf_upsell.tdf_container .tdf_detail_image{display:block}#tdf_upsell.tdf_container .tdf_detail_image strong{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;color:#000008}#tdf_upsell.tdf_container .tdf_target_name{float:left;line-height:25px;text-align:left;padding-left:10px;white-space:nowrap;width:230px}#tdf_upsell.tdf_container .tdf_header_message{color:#637386}#tdf_upsell.tdf_container .tdf_target_right{display:inline;float:left;width:100%}#tdf_upsell.tdf_container .tdf_detail{float:left;padding-top:15px;width:100%}#tdf_upsell.tdf_container .tdf_cart_detail{float:left;text-align:left}#tdf_upsell.tdf_container .tdf_action{float:left;padding-top:10px;width:100%}#tdf_upsell.tdf_container .tdf_bs_offer{padding:20px 8px}#tdf_upsell.tdf_container .tdf_offer_message{color:#637381;margin:0 8px 20px 8px;font-size:16px;text-align:left}#tdf_upsell.tdf_container .tdf_offer_message a{color:#4267b2}#tdf_upsell.tdf_container .tdf_qty_input{width:40px;height:22px;border:1px solid #c4c6d5;text-align:center}#tdf_upsell.tdf_container .tdf_qv_quantity_container{margin-bottom:10px}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_bs_offer_product{margin:0 0 16px;height:220px;clear:both}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_horizontal_product{width:100%}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_horizontal_img_left{width:50%;float:left;position:relative;min-height:1px;padding-left:8px;padding-right:8px}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_horizontal_content_right{width:50%;float:left;position:relative;min-height:1px;padding-left:8px;padding-right:8px;text-align:left}#tdf_upsell.tdf_container .tdf_bs_offer_1 .tdf_bs_offer_products{white-space:nowrap;overflow:auto;padding-bottom:16px}#tdf_upsell.tdf_container .tdf_bs_offer_1 .tdf_bs_offer_products .tdf_bs_offer_product{white-space:normal;position:relative;vertical-align:top;display:inline-block;margin-right:4px;width:180px}#tdf_upsell.tdf_container .tdf_bs_offer_1 .tdf_bs_offer_products .tdf_bs_offer_product .tdf_discount_content{width:100%}#tdf_upsell.tdf_container .tdf_dialog_footer{background-color:#f2f3f5}#tdf_upsell.tdf_container .tdf_dialog_footer.tdf_upsell_checkout{padding:10px 16px}#tdf_upsell.tdf_container .tdf_dialog_footer.tdf_upsell_checkout div{font-size:20px;color:#637386}#tdf_upsell.tdf_container .tdf_dialog_footer.tdf_upsell_checkout div .tdf_money.money{color:#000008;font-size:20px}@media screen and (min-width: 360px){#tdf_upsell.tdf_container .tdf_target_name{width:270px}}@media screen and (min-width: 400px){#tdf_upsell.tdf_container .tdf_target_name{width:320px}}@media screen and (min-width: 568px){#tdf_upsell.tdf_container .tdf_target_name{width:90%}}@media screen and (min-width: 768px){#tdf_upsell.tdf_container .tdf_dialog_header{-webkit-border-radius:4px 4px 0 0;-moz-border-radius:4px 4px 0 0;-ms-border-radius:4px 4px 0 0;border-radius:4px 4px 0 0}#tdf_upsell.tdf_container .tdf_dialog_header_body{padding-left:15px;padding-right:0}#tdf_upsell.tdf_container .tdf_target_left{width:50%}#tdf_upsell.tdf_container .tdf_image_target img{max-width:80px;max-height:80px}#tdf_upsell.tdf_container .tdf_target_name{float:left;max-width:75%}#tdf_upsell.tdf_container .tdf_target_right{float:right;width:50%;padding-left:12px}#tdf_upsell.tdf_container .tdf_detail{padding-top:0;padding-right:15px;width:100%}#tdf_upsell.tdf_container .tdf_bs_offer{padding:24px 16px}#tdf_upsell.tdf_container .tdf_offer_message{margin:0 16px 24px 16px}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_bs_offer_product{height:300px;margin-bottom:24px}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_horizontal_product{max-width:860px}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_horizontal_content_right{padding-left:15px}#tdf_upsell.tdf_container .tdf_bs_offer_1 .tdf_bs_offer_products .tdf_bs_offer_product{width:230px}#tdf_upsell.tdf_container .tdf_dialog_footer.tdf_upsell_checkout{padding:20px 28px;overflow:hidden;-webkit-border-radius:8px;-moz-border-radius:8px;-ms-border-radius:8px;border-radius:8px}#tdf_upsell.tdf_container .tdf_dialog_footer.tdf_upsell_checkout div{width:50%;display:inline-block;float:left;text-align:left}}@media screen and (min-width: 1024px){#tdf_upsell.tdf_container .tdf_dialog_header{padding:24px 12px}#tdf_upsell.tdf_container .tdf_target_left{width:60%}#tdf_upsell.tdf_container .tdf_target_right{width:40%}#tdf_upsell.tdf_container .tdf_bs_offer{padding:24px 12px;-webkit-border-radius:0 0 4px 4px;-moz-border-radius:0 0 4px 4px;-ms-border-radius:0 0 4px 4px;border-radius:0 0 4px 4px}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_horizontal_img_left,#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_horizontal_content_right{padding-left:16px;padding-right:16px}}@media screen and (min-width: 1441px){#tdf_upsell.tdf_container .tdf_bs_offer,#tdf_upsell.tdf_container .tdf_dialog_header{padding:30px 24px}#tdf_upsell.tdf_container .tdf_dialog_header_body{padding-left:21px;padding-right:8px}#tdf_upsell.tdf_container .tdf_offer_message{margin:0 24px 24px 24px}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_bs_offer_product{height:378px}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_horizontal_product{max-width:900px}#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_horizontal_img_left,#tdf_upsell.tdf_container .tdf_bs_offer_0 .tdf_horizontal_content_right{padding-left:24px;padding-right:24px}#tdf_upsell.tdf_container .tdf_dialog_footer.tdf_upsell_checkout{padding:30px 48px}}#tdf_wholesale.tdf_container{width:100%;clear:both;margin-top:10px;padding-top:10px}#tdf_wholesale.tdf_container table th{background-color:#fffff1;color:#212B39}#tdf_wholesale.tdf_container.tdf_wholesale_2 table td{border-top:solid 1px;border-bottom:solid 1px;border-right:none;border-left:none}#tdf_wholesale.tdf_container .tdf_normal_btn{min-height:30px;min-width:80px}#tdf_wholesale.tdf_container .tdf_nonpopup h2 a{color:#4267b3}#tdf_discount_widget .tdf_wholesale_moti button.tdf_lite_btn{vertical-align:middle;width:80px}'),sl9.main&&sl9.main.Start&&sl9.main.Start()},!0),tdfEventHub.TriggerEventOnce("jsloaded_sl9",{});var nfec={styleVars:{p_btn_txt_c:"#fffffe",p_btn_txt_2_c:"#fffffb",p_btn_txt_3_c:"#637387",p_btn_txt_lite_c:"#637383",p_btn_bg_c:"#4267b2",p_btn_bg_2_c:"#61bd4f",p_btn_bg_lite_c:"#d4d6e4",p_btn_bg_3_c:"#d4d6e7",p_txt_c:"#212B36",p_txt_bold_c:"#000002",p_txt_lite_c:"#637381",p_txt_litest_c:"#c4c6d5",p_txt_info_c:"#61bd4d",p_bg_c:"#fffefe",p_bg_lite_c:"#F9FAFB",p_header_bg_c:"#f2f3f5",p_header_txt_c:"#212B30",p_header_txt_bold_c:"#000008",p_header_txt_lite_c:"#637386",p_discount_bg_c:"#BF0711",p_overlay_c:"#000000",txt_c:"#212B35",txt_info_c:"#61bd4e",txt_bold_c:"#000001",btn_bg_c:"#4267b3",btn_txt_c:"#fffffd",discount_bg_c:"#BF0712",img_bg_c:"#fafbfd",explore_txt_c:"#fffffc",explore_bg_c:"#212B37",table_h_bg_c:"#fffff1",table_h_txt_c:"#212B39"},style:{},consta:{env_dev:"dev",api_path:"https://fe.abrye.com",track_path:"https://t.abrye.com",PageTypeProduct:1,PageTypeHome:2,PageTypeCart:3,PageTypeCollection:4,PageTypeCheckout:5,PageTypePostCheckout:6,PageTypeProcessCheckout:7,OptionDisplayTypeNone:0,OptionDisplayTypeSelect:1,OptionDisplayTypeCheckboxs:2,DiscountTypeNone:0,DiscountTypePercent:1,DiscountTypeValue:2,DiscountTypeFreeShip:3,DiscountTypeFreeGift:4,DiscountTypeWholesale:5,DiscountTypePrice:7,DiscountTypeCode:6}};nfec.event_hub={callbacks:{},triggered:{},pastev:{notify_discount_msg:[]},IsLoaded:function(t){return nfec.event_hub.triggered.hasOwnProperty(t)?nfec.event_hub.triggered[t]:null},ListenToMulti:function(e,n){if(e.length)for(var i=[],t=function(t){-1===i.indexOf(t)&&i.push(t),i.length==e.length&&n()},o=0,r=e.length;o<r;o++)nfec.event_hub.ListenTo(e[o],t,!0);else n()},ListenPast:function(t,e){for(var n=0;n<nfec.event_hub.pastev[t].length;n++)e(t,nfec.event_hub.pastev[t][n]);nfec.event_hub.callbacks[t]||(nfec.event_hub.callbacks[t]=[]),nfec.event_hub.callbacks[t].push(e)},ListenTo:function(t,e,n,i){n&&nfec.event_hub.triggered.hasOwnProperty(t)&&(e(t,nfec.event_hub.triggered[t]),!i)||(nfec.event_hub.callbacks[t]||(nfec.event_hub.callbacks[t]=[]),nfec.event_hub.callbacks[t].push(e))},Trigger:function(e,t){var n=nfec.event_hub.callbacks[e],i=n?n.length:0;nfec.event_hub.triggered[e]=t,nfec.event_hub.pastev[e]&&nfec.event_hub.pastev[e].push(t);for(var o=0;o<i;o++)try{n[o](e,t)}catch(t){console.log(e,t)}},TriggerOnce:function(t,e){nfec.event_hub.triggered.hasOwnProperty(t)||nfec.event_hub.Trigger(t,e)}},nfec.main={style:"",PRo:"/",TF:function(t,e,n){if(t){var i=t.toString().split(".");if(2==i.length)9<i[1].length&&(t=Math.round(1e6*t)/1e6)}return nfec.main.TFR?nfec.main.TN(t,e,n)+"":t.toFixed(e)},TN:function(t,e,n){return n?Number(Math.floor(t+"e"+e)+"e-"+e):Number(Math.ceil(t+"e"+e)+"e-"+e)},Init:function(){nfec.thm={},nfec.thmx={},window.nfecLV&&window.Shopify&&Shopify.routes&&(nfec.main.PRo=Shopify.routes.root||"/"),nfec.util.tpl.Init(),nfec.polyfil.Start(),nfec.util.tool.WaitToLoad(["jQuery"],function(){jQuery.fn.on||(jQuery.fn.on=function(){var e,i,o,t=Array.prototype.slice.call(arguments);if("function"==typeof t[2]?(e=t[0],i=t[1],o=t[2]):"function"==typeof t[1]&&(e=t[0],o=t[1]),"string"==typeof e&&(e=e.split(" "),(!i||"string"==typeof i)&&o))return this.each(function(t,n){jQuery.each(e,function(t,e){i?jQuery.fn.delegate&&jQuery(n).delegate(i,e,o):jQuery(n).bind(e,o)})})}),jQuery.fn.prop||(jQuery.fn.prop=function(n,i){return"type"==n&&i?this.each(function(t,e){e[n]=i}):this.attr(n,i)}),nfec.store.control.Start(),nfec.start.dom.Start(),nfec.platform.current=nfec.platform.shopify;var t=nfec.platform.current.page.Detect();return nfec.sync.country.Start(),nfec.sync.customer.Start(),nfec.sync.currency.Start(),nfec.platform.base.page.IsInCheckout(t.type)?(nfec.sync.cart.Start(),nfec.sync.product.Start(),nfec.modal.control.Start(),tdfEventHub.TriggerEventOnce("core_ready"),void nfec.event_hub.ListenTo("theme_style_ready",function(){nfec.main.doAddStyle()},!0)):t.type==nfec.consta.PageTypePostCheckout?(nfec.sync.cart.Start(1),nfec.sync.product.Start(),nfec.modal.control.Start(),tdfEventHub.TriggerEventOnce("core_ready"),nfec.event_hub.ListenTo("theme_style_ready",function(){nfec.main.doAddStyle()},!0),void(-1!=jQuery("head").html().indexOf("cdn.refersion")&&jQuery.getScript("/apps/sap/5/fe/refersion.js"))):(nfec.sync.ctotal.Start(),nfec.sync.shopversion.Start(),nfec.sync.theme_v.Start(),nfec.start.request_listener.Start(),setTimeout(function(){var t=jQuery("html").html();t&&(-1==t.indexOf("smile-loader.js")&&-1==t.indexOf("js.smile.io")||jQuery.getScript("https://js.smile.io/v1/smile-shopify.js?vry=1"),window.Privy||-1==t.indexOf(".privy.com")||jQuery.getScript("https://shopify.privy.com/widget.js?shop="+Shopify.shop+"&vry=1"))},100),nfec.start.pagescroll.Start(),nfec.sync.cart.Start(),nfec.sync.product.Start(),nfec.noti.control.Start(),nfec.modal.control.Start(),nfec.start.cartform.Start(),nfec.start.variantform.Start(),nfec.start.redirect.Start(),tdfEventHub.TriggerEventOnce("core_ready"),nfec.event_hub.ListenTo("theme_style_ready",function(){nfec.main.doAddStyle()},!0),void nfec.start.preload.Start())})},AddStyle:function(t){nfec.main.style+=t},AddStyleVars:function(t){nfec.main.styleVars=t,nfec.event_hub.Trigger("theme_style_ready",{})},doAddStyle:function(){var t,e=nfec.main.styleVars||{},n=nfec.styleVars,i={};for(a in n)n.hasOwnProperty(a)&&n[a]&&(i[n[a]]=a);for(a in e)if(e.hasOwnProperty(a)&&e[a]&&(t=e[a],nfec.styleVars[a])){var o=nfec.styleVars[a],r=new RegExp(o,"g");i[t]&&a!=i[t]&&(t=t.slice(0,-1)+"a"),nfec.main.style=nfec.main.style.replace(r,t)}var d=nfec.manager.setting.Data.id,a="";2783<d&&(a+="#tdf_wholesale th, #tdf_wholesale td{padding: 13px}"),2971<d&&(a+="#tdf_wholesale h2{font-size: 22px}"),5985<d&&(a+="#tdf_wholesale table{width: 100%; text-align: left}.tdf_wholesale_2 .tdf_wholesale_level td:nth-child(2){text-align: right}"),7e3<d&&(a+="#tdf_discount_widget.tdf_nonpopup h3{margin-bottom: 5px}"),9587<d&&(a+=".tdf_container :first-letter {text-transform: capitalize}"),nfec.platform.current.element.CheckTheme("Warehouse")&&(a+=".mini-cart[aria-hidden=true] #tdf_discount_widget{display:none}");var c=nfec.util.request.GetCDN();o="S_PATH",r=new RegExp(o,"g");nfec.main.style=nfec.main.style.replace(r,c),window.jQuery("head").append("<style>"+nfec.main.style+a+"</style>")}},nfec.polyfil={Start:function(){var t;Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),String.prototype.trim||(t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(t,"")})}},nfec.manager={},nfec.manager.cart={CartAtStart:null,Current:null,Total:0,GiftPrices:0,Set:function(t){nfec.manager.cart.Current=t,nfec.store.control.Set("cart",t.toState(),86400,!0),nfec.manager.cart.CartAtStart||(nfec.manager.cart.CartAtStart=t.toState()),nfec.manager.cart.Total=t.getTotalPrice(),nfec.manager.cart.GiftPrices=t.getGiftPrices(),nfec.manager.setting.CheckDMode(t)},Get:function(){return nfec.manager.cart.Current},GetCartAtStart:function(){var t=new nfec.model.cart;return t.parseState(nfec.manager.cart.CartAtStart),t},GetOldTotal:function(){for(var t,e,n,i,o=0,r=nfec.manager.cart.Current.items,d=0,a=r.length;d<a;d++)t=r[d],(e=nfec.manager.product.FindByID(t.product_id))&&(n=e.getVariantByID(t.variant_id))&&(i=n.display_old_price())&&i>r[d].price?o+=i*r[d].quantity:o+=r[d].price*r[d].quantity;return o+nfec.manager.cart.GiftPrices},GetState:function(){var t=nfec.store.control.Get("cart");if(t){var e=new nfec.model.cart;return e.parseState(t),e}},GetCurrentProductIDs:function(){var t=nfec.manager.cart.Get();return t?t.getProductIDs():[]}},nfec.manager.country={Get:function(){return nfec.store.control.Get("cc")},Set:function(t,e){t&&(t=t.replace(/"/g,""));e=e||864e5;nfec.store.control.Set("cc",t,e,!0)}},nfec.manager.coupon={Flag:function(t){var e=nfec.manager.cart.Get(),n=e?e.token:"t";nfec.store.control.Set("dcf_"+t.toLowerCase(),n,864e4,!0)},CkFlag:function(t){var e=nfec.store.control.Get("dcf_"+t.toLowerCase());if(e){var n=nfec.manager.cart.Get();if((n?n.token:"t")!=e)return 1}},Get:function(){return nfec.store.control.Get("cpn")},Set:function(t){nfec.store.control.Set("cpn",t,186400,!0)},Remove:function(t){var e=nfec.store.control.Get("cpn");e&&(t&&nfec.store.control.Remove("dcf_"+e.toLowerCase()),nfec.store.control.Remove("cpn"))},Add:function(e,n){nfec.SDiscountComb?n(e):nfec.store.control.Get("acpc")!=e?(n&&setTimeout(function(){n(e)},2500),nfec.store.control.Set("acpc",e,345600,!0),jQuery.ajax({type:"GET",url:"/discount/"+e+"?redirect=/checkout",success:function(t){n&&n(e)},error:function(){n&&n(e)},timeout:2e3})):n&&n(e)},Clear:function(){nfec.store.control.Get("acpc")&&(nfec.store.control.Remove("acpc"),jQuery.get("/discount/CLEAR?redirect=/checkout?checkout[clear_discount]=1&discount=CLEAR"))}},nfec.manager.ctotal={getKey:function(t){return t.type!=nfec.consta.PageTypeCart?"ctp":"ctc"},Get:function(t){return nfec.store.control.Get(nfec.manager.ctotal.getKey(t))},Set:function(t,e){nfec.store.control.Set(nfec.manager.ctotal.getKey(t),e,86400,!0)},Del:function(){nfec.store.control.Remove("ctc"),nfec.store.control.Remove("ctp")}},nfec.manager.currency={Set:function(t){nfec.store.control.Set("cuyf_"+t.code,1,600,!0),nfec.store.control.Set("cuy_"+t.code,t.toState(),864e3,!0)},Find:function(t){var e=nfec.store.control.Get("cuy_"+t),n=new nfec.model.currency;return e?(n.parseState(e),nfec.manager.setting.GetCurrency()==t&&(n.formatString=nfec.manager.setting.GetCurrencyFormat()),n):null},Get:function(t,e){var n=nfec.manager.currency.Find(t),i=!1;if(n){if(e(n),nfec.store.control.Get("cuyf_"+t))return;i=!0}n=new nfec.model.currency;var o=nfec.util.request.GetVersion(68);t=t.toLowerCase();var r=function(t){i||e(t)};nfec.util.request.Run({url:nfec.util.request.GetPath()+"/"+o+"/api/c/"+t+".json",timeout:6e3,success:function(t){t&&t.c&&(n.fromJSON(t.c),nfec.manager.currency.Set(n)),r(n)},error:function(){r(n)}})},SetSelected:function(t){nfec.store.control.Set("curs",t,864e3,!0)},GetSelected:function(){return nfec.store.control.Get("curs")},GetCartCurrency:function(){return nfec.store.control.Get("curc")},DelCartCurrency:function(){nfec.store.control.Remove("curc")},SetCartCurrency:function(t){var e=!1;nfec.manager.currency.GetCartCurrency()||(e=!0),nfec.store.control.Set("curc",t,864e3,!0),e&&nfec.sync.currency.Render(1)},GetFlag:function(t){var e,n=nfec.struct.currency;for(e in n)if(n.hasOwnProperty(e)&&n[e]==t)return e.toLowerCase();return""},srate:function(){return window.Shopify&&Shopify.currency&&Shopify.currency.rate?Shopify.currency.rate:null},IsMarketOn:function(){if(!nfec.manager.setting.Data.market_on){if(nfec.manager.setting.Data.market_off)return;var t=window.nfecCVersion;if(!t||t<75273)return}var e=nfec.manager.currency.GetCookieCurrency();if(e){var n=nfec.manager.currency.ShopifyCurrency();if(n)if(e==n)return e!=nfec.manager.setting.GetCurrency()}},GetCookieCurrency:function(){return nfec.store._cookie.Get("cart_currency")},ShopifyCurrency:function(){return window.Shopify&&Shopify.currency?Shopify.currency.active:""},RoundUp:function(t){var e=nfec.manager.currency.srate();if(!e)return t;var n=parseFloat(e);if(1==n||0==t)return t;var i=n*t;if("EUR"==Shopify.currency.active){var o=Math.ceil(i);i=o<i+.05?o+.95:o-.05}else i=Math.ceil(i);return i/n},Convert:function(t,e,n){if(!t||!e||t==e)return n;var i=0,o=nfec.manager.currency.srate();if(o&&Shopify.currency.active){var r=[nfec.manager.setting.GetCurrency(),Shopify.currency.active],d=parseFloat(o);t==r[0]&&e==r[1]&&(i=d),e==r[0]&&t==r[1]&&(i=1/d)}if(!i){var a=nfec.manager.currency.Find(t),c=nfec.manager.currency.Find(e);if(!a||!c)return n;i=c.rate/a.rate}return n*=i},ConvertCartToDefault:function(t,e){var n=nfec.manager.setting.GetTax();return n&&(t/=n/100+1),nfec.manager.currency.Convert(e,nfec.manager.setting.GetCurrency(),t)},IsOn:function(){var t=nfec.manager.setting.Data.m_currency_on,e=nfec.manager.setting.Data.m_currency_codes;return!(!t||!e)},IsRound:function(t){return-1!=["BIF","CLP","CVE","DJF","GNF","ISK","JPY","KMF","KRW","PYG","RWF","UGX","UYI","VND","VUV","XAF","XOF","XPF","HUF","BYR","MGA"].indexOf(t)}},nfec.manager.current_product={Set:function(t){nfec.store.control.Set("c_product",t.toState(),86400,!0)},Get:function(){var t=nfec.store.control.Get("c_product");if(t){var e=new nfec.model.current_product;return e.parseState(t),e}},SetVariantTitle:function(t){var e=nfec.manager.current_product.Get();e&&(e.variant_title=t,nfec.manager.current_product.Set(e))}},nfec.manager.customer={Set:function(t){nfec.store.control.Set("cus",t.toState(),864e4,!0)},Get:function(){var t=nfec.store.control.Get("cus");if(t){var e=new nfec.model.customer;return e.parseState(t),e}},Remove:function(){nfec.store.control.Remove("cus")}},nfec.manager.discountable={Version:0,Reset:function(){nfec.manager.discountable.Version+=1,nfec.manager.discountable.Data={}},Set:function(t,e){e.version=nfec.manager.discountable.Version;var n=nfec.manager.product.FindByID(t);n&&n.applyDiscountable(e)},Get:function(t,e){var n=nfec.manager.product.FindByID(t);if(!n)return null;for(var i=0;i<n.variants.length;i++){var o=n.variants[i],r=o.getDiscountable();if(e){if(e==o.id)return r}else if(r)return r}return null},GetCurrentProductData:function(t){var e,n=nfec.manager.product.GetCurrentProductID();return n?(t&&(e=nfec.manager.product.GetCurrentVariantID()),nfec.manager.discountable.Get(n,e)):null}},nfec.manager.gift={Set:function(t){nfec.store.control.Set("gif",t.toState(),86400,!0)},Get:function(){var t=nfec.store.control.Get("gif"),e=new nfec.model.gifts;return t&&e.parseState(t),e},AddItem:function(t){var e=nfec.manager.gift.Get();e.addItem(t),nfec.manager.gift.Set(e)},FindItem:function(t,e,n){return nfec.manager.gift.Get().findItem(t,e,n)},Remove:function(){nfec.store.control.Remove("gif")}},nfec.manager.locale={Get:function(){return nfec.store.control.Get("lo")},GetCk:function(){var t=nfec.manager.locale.MyLang;return"zh"==t&&(t="zh-CN"),t},Del:function(){nfec.store.control.Remove("lo")},Set:function(t,e){t=t.toLowerCase(),e=e||864e5;nfec.store.control.Set("lo",t,e,!0)}},nfec.manager.product={data:{},AddFromJson:function(t){var e,n,i,o,r,d,a;for(e in t)if(t.hasOwnProperty(e)&&!nfec.manager.product.data.hasOwnProperty(e)&&(i=t[e]).i&&!i.no){if((n=new nfec.model.product).variants=[],n.id=i.i,n.title=i.t,n.handle=i.h,n.vendor=i.a,n.tags=i.b,n.product_type=i.c,n.source="json",n.images=[],(d=new nfec.model.product_image).src=i.p,n.image=d,i.d&&(n.body_html=i.d),i.f){if(n.is_premium=!0,n.source="api",i.o)for(var c=0;c<i.o.length;c++)(a=new nfec.model.product_option).id=i.o[c].i,a.name=i.o[c].n,a.position=i.o[c].p,a.values=i.o[c].v,n.options.push(a);if(i.e)for(c=0;c<i.e.length;c++){var f=new nfec.model.product_image;f.id=i.e[c].i,f.src=i.e[c].s,f.position=i.e[c].p,f.variant_ids=i.e[c].v,n.images.push(f)}}else i.p&&n.images.push(d);for(var _=0,s=i.v.length;_<s;_++){if(r=i.v[_],(o=new nfec.model.variant).image=d,r.o)o.image_id=r.o,o.image=n.getImageByID(o.image_id);else{var l=n.getImageByVID(r.i);o.image=l}o.id=r.i,o.position=r.p,o.option1=r.x,o.option2=r.y,o.option3=r.z,o.price=nfec.manager.currency.RoundUp(r.a),o.price==r.a&&-1==window.location.href.indexOf("/checkouts")||(o.price0=r.a),o.compare_at_price=nfec.manager.currency.RoundUp(r.b),n.variants.push(o)}nfec.manager.product.data[e]=n}},addAndMerge:function(t,e){var n=nfec.manager.product.data[t.id];if(n){for(var i=[],o=0;o<n.variants.length;o++){var r=n.variants[o],d=r.getDiscountable(),a=t.getVariantByID(r.id);a&&(d&&(a.discountable=d),r.image_id=a.image_id,r.image=a.image,void 0!==r.price0&&(a.price0=r.price0),i.push(a))}e||(t.variants=i),nfec.manager.currency.NotDefault&&!nfec.manager.currency.IsMarketOn()&&(t.variants=n.variants),t.fvariants=n.fvariants}nfec.manager.product.data[t.id]=t},AddProduct:function(t){var e=nfec.manager.product.data[t.id];if(e&&"api"!=e.source){for(var n=[],i=0,o=t.variants.length;i<o;i++)e.getVariantByID(t.variants[i].id)&&n.push(t.variants[i]);t.variants=n}nfec.manager.product.addAndMerge(t)},AddCurrentProduct:function(t){nfec.manager.product.addAndMerge(t,1)},FindByID:function(t){var e=nfec.manager.product.data[t];return e&&e.isAvailable()?e:null},FindByHandle:function(t){var e;for(e in nfec.manager.product.data)if(nfec.manager.product.data.hasOwnProperty(e)&&nfec.manager.product.data[e].handle==t)return nfec.manager.product.data[e];return null},handling:{},GetByHandle:function(n,t){var e,i=nfec.manager.product.FindByHandle(n);i&&"json"!=i.source?t(i):(nfec.manager.product.handling[n]||(nfec.manager.product.handling[n]=[],e=!0),nfec.manager.product.handling[n].push(t),e&&nfec.platform.current.product.GetByHandle(n,function(t){t&&nfec.manager.product.AddProduct(t);for(var e=0;e<nfec.manager.product.handling[n].length;e++)nfec.manager.product.handling[n][e](t);nfec.manager.product.handling[n]=[]}))},RemoveSoldoutVariant:function(t,e){t.removeVariant(e)},GetCurrentProductID:function(){var t=nfec.platform.current.page.Detect();if(t.type!=nfec.consta.PageTypeProduct)return 0;var e=t.payload.id;return e||0},GetCurrentVariantID:function(t){var e=nfec.manager.product.GetCurrentProductID();if(e){var n=nfec.manager.product.FindByID(e);if(n){var i=n.current_variant_id;return t&&!i&&(i=n.variants[0].id),i}}}},nfec.manager.setting={Data:{},AddBackSettings:function(t,e){t.currency_round=nfec.manager.currency.IsRound(t.currency),jQuery.extend(nfec.manager.setting.Data,t,e),nfec.event_hub.Trigger("core_setting_ready")},IsCurrencyRound:function(){return nfec.manager.setting.Data.currency_round},GetTax:function(){return nfec.manager.setting.Data.tax||0},GetCurrencyFormat:function(){return nfec.manager.setting.Data.currency_format||"${{amount}}"},GetCurrency:function(){return nfec.manager.setting.Data.currency||"USD"},GetPubDomain:function(){return nfec.manager.setting.Data.pub_domain||nfec.manager.setting.Data.shop_domain},GetShopTimezoneOffset:function(){return nfec.manager.setting.Data.timezone_offset||0},IsDiscountCode:function(){if(4008<nfec.manager.setting.Data.id)return!0;var t=nfec.manager.setting.Data.extra_scopes;return!(!t||-1==t.indexOf("write_price_rules"))},CheckDMode:function(t){3!=nfec.d_mode&&(3!=t.isRecharge()?nfec.manager.setting.IsDiscountCode()&&(t.isRecharge()||t.isBundle())&&(nfec.d_mode=1,nfec.force_mode=!0,nfec.addgift2cart=1):nfec.event_hub.Trigger("force_stop",{}))}},nfec.manager.recent_views={Set:function(t){nfec.store.control.Set("recent_v",t.toState(),86400,!0)},Get:function(){var t=nfec.store.control.Get("recent_v");if(t){var e=new nfec.model.recent_views;return e.parseState(t),e}},AddFromProduct:function(t){var e=new nfec.model.recent_view;e.id=t.id,e.handle=t.handle;var n=nfec.manager.recent_views.Get()||new nfec.model.recent_views;n.addItem(e),nfec.manager.recent_views.Set(n)},GetProductIDs:function(){var t=nfec.manager.recent_views.Get();if(!t)return[];for(var e=t.getProductIDs(),n=[],i=0;i<e.length;i++){var o=nfec.manager.product.FindByID(e[i]);o&&!o.isHidden()&&n.push(e[i])}return n}},nfec.loading={},nfec.loading.control={countLoading:0,idLoading:0,Start:function(t){this.countLoading+=1,this.idLoading&&clearTimeout(this.idLoading),jQuery("#tdf_loading").length||jQuery("body").prepend('<div id="tdf_loading" class="animated yt_loader progress_loader"></div>'),t=t||25e3,this.idLoading=setTimeout(function(){nfec.loading.control.countLoading=0,nfec.loading.control.Stop()},t)},Stop:function(){this.countLoading+=-1,this.countLoading<=0&&(this.countLoading=0,clearTimeout(this.idLoading),this.idLoading=0,jQuery("body").prepend('<div id="tdf_full_loading" class="progress_loader" style="width: 100%"></div>'),jQuery("#tdf_loading").remove(),setTimeout(function(){jQuery("#tdf_full_loading").remove()},400))}},nfec.noti={},nfec.noti.control={id:1,getId:function(){return this.id+=1,this.id},Start:function(){nfec.event_hub.ListenTo("close_noti",function(t,e){nfec.noti.control.Close(e.els.data("id"))})},Run:function(t,e){jQuery("#tdf_notifies").length||jQuery("body").first().append('<div id="tdf_notifies" class="tdf_container"></div>');var n=jQuery("#tdf_notifies"),i=this.getId();n.append(nfec.util.tpl.RenderTpl(nfec.noti.tplhtm,{id:i,message:t})),n.css("display","block");var o=jQuery("#my_notify_"+i);jQuery(".tdf_notify_close",o).css({height:o.height()+"px",lineHeight:o.height()+"px"});var r=nfec.util.tool.GetReadT(t);if(void 0!==e){if(!e)return;r=e}setTimeout(function(){nfec.noti.control.Close(i)},r)},Close:function(t){var e=jQuery("#tdf_notify_"+t);e.slideUp(),setTimeout(function(){e.remove()},500)}},nfec.noti.tplhtm={m:'<div id="tdf_notify_{{id}}" class="tdf_notify"><a class="tdf_notify_close tdfe" data-e="close_noti" href="javascript:;" data-id="{{id}}">&times;</a><div class="tdf_notify_content"> {{message.toTranslate}} </div></div>',subs:[]},nfec.modal={},nfec.modal.control={db:{},Start:function(){nfec.event_hub.ListenTo("close_modal",function(t,e){nfec.modal.control.Close(e)})},Run:function(t,e){if(e=e||"",!jQuery("#tdf_modal").length){jQuery("body").first().append(nfec.util.tpl.RenderTpl(nfec.modal.tplhtm,{name:e}));var n=document.getElementById("tdf_modal");window.onclick=function(t){t.target===n&&(n.style.display="none")}}var i=jQuery("#tdf_modal");if(e){if(i.attr("nm")===e)return void i.css("display","block");this.db[e]&&(maessage=this.db(e))}jQuery(".tdf_modal_body",i).html(t),i.css("display","block").attr("nm",e)},Remove:function(t){delete nfec.modal.control.db[t]},Close:function(t){var e=jQuery("#tdf_modal");t&&(nfec.modal.control.db[t]=e.html()),e.css("display","none")}},nfec.modal.tplhtm={m:'<div id="tdf_modal" class="tdf_container"><div class="tdf_popup_overlay tdfe" data-e="close_modal"></div><div class="tdf_modal_content"><a class="tdf_modal_close tdfe" data-e="close_modal" href="javascript:;">&times;</a><div class="tdf_modal_body"></div></div></div>',subs:[]},nfec.model={},nfec.model.address=function(){this.address="",this.city="",this.company="",this.country_code="",this.province="",this.province_code="",this.street="",this.zip="",this.fromJson=function(t){t&&(this.address=t.address1+" "+t.address2,this.city=t.city,this.company=t.company,this.country_code=t.country_code,this.province=t.province,this.province_code=t.province_code,this.street=t.street,this.zip=t.zip)},this.parseState=function(t){this.address=t.a,this.city=t.c,this.company=t.co,this.country_code=t.cc,this.province=t.p,this.province_code=t.pc,this.street=t.s,this.zip=t.z},this.toState=function(){return{a:this.address,c:this.city,cc:this.country_code,co:this.company,p:this.province,pc:this.province_code,s:this.street,z:this.zip}}},nfec.model.cart_item=function(){this.id=0,this.properties=null,this.variant_id=0,this.variant_title="",this.title="",this.image="",this.price=0,this.quantity=0,this.sku="",this.product_title="",this.product_id=0,this.handle="",this.url="",this.quantity_changed=0,this.gift_card=!1,this.is_sub=!1,this.is_gift=!1,this.getTitle=function(){return nfec.util.tpl.ToCustomTrans(this.title)},this.toState=function(){return{p:this.product_id,v:this.variant_id,q:this.quantity}},this.parseState=function(t){this.product_id=t.p,this.variant_id=t.v,this.quantity=t.q},this.mediumImageSrc=function(){return nfec.platform.current.element.GetImageSrcBySize(this.image,"medium")}},nfec.model.cart=function(){this.token="",this.note="",this.items=[],this.gifts=[],this.attributes={},this.n_p=0,this.n_o_p=0,this.findItemIndex=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(this.items[n].product_id==t&&this.items[n].variant_id==e)return n;return-1},this.getProductIDs=function(){for(var t=[],e=0,n=this.items.length;e<n;e++)-1==t.indexOf(this.items[e].product_id)&&t.push(this.items[e].product_id);return t},this.getVariantIDs=function(){for(var t,e=[],n=0,i=this.items.length;n<i;n++)t=this.items[n],e.push(t.variant_id);return e},this.getAllItems=function(){for(var t,e=[],n=0,i=0,o=this.items.length;i<o;i++)if(!("Item Customizations"==(t=this.items[i]).title&&1e3<t.quantity))for(var r=0;r<t.quantity;r++)n++,e.push({uid:t.variant_id+"_"+n,product_id:t.product_id,variant_id:t.variant_id,price:t.price,is_sub:t.is_sub});return nfec.manager.setting.Data.cheap_mode&&e.sort(function(t,e){return t.price>e.price?1:-1}),e},this.getAllTrackVariantIDs=function(){for(var t,e=[],n=0,i=this.items.length;n<i;n++){t=this.items[n];for(var o=0;o<t.quantity;o++)e.push(t.variant_id)}return e},this.getTrackVariantIDs=function(t){for(var e,n=[],i=0,o=this.items.length;i<o;i++)if(e=this.items[i],-1!=t.indexOf(e.variant_id))for(var r=0;r<e.quantity;r++)n.push(e.variant_id);return n},this.findItemByVariant=function(t,e,n){n=n||0;for(var i=0,o=0,r=this.items.length;o<r;o++)if(this.items[o].product_id==t&&this.items[o].variant_id==e)for(var d=0;d<this.items[o].quantity;d++){if(i===n)return this.items[o];i++}return null},this.findItemByVariantID=function(t){for(var e=0,n=this.items.length;e<n;e++)if(this.items[e].variant_id==t)return this.items[e];return null},this.findItemByVariantIDs=function(t){for(var e=[],n=0,i=this.items.length;n<i;n++)-1!=t.indexOf(this.items[n].variant_id)&&e.push(this.items[n]);return e},this.findItemsByVIDs=function(t,e){for(var n=[],i=0,o=this.items.length;i<o;i++)-1!=t.indexOf(this.items[i].product_id)&&(e&&e.length&&-1==e.indexOf(this.items[i].variant_id)||n.push(this.items[i]));return n},this.findVariantIDsByVIDs=function(t,e){for(var n=[],i=0,o=this.items.length;i<o;i++)-1!=t.indexOf(this.items[i].product_id)&&(e&&e.length&&-1==e.indexOf(this.items[i].variant_id)||n.push(this.items[i].variant_id));return n},this.countByVIDs=function(t){for(var e=0,n=0,i=this.items.length;n<i;n++)-1!=t.indexOf(this.items[n].variant_id)&&(e+=this.items[n].quantity);return e},this.findItemByProduct=function(t){for(var e=0,n=this.items.length;e<n;e++)if(this.items[e].product_id==t)return this.items[e];return null},this.findItemsByProduct=function(t){for(var e=[],n=0,i=this.items.length;n<i;n++)this.items[n].product_id==t&&e.push(this.items[n]);return e},this.compareWithState=function(t){for(var e,n,i,o,r={added:[],removed:[]},d={},a=0,c=this.items.length;a<c;a++)d[(e=this.items[a]).variant_id]||(d[e.variant_id]=1,i=t.countByVIDs([e.variant_id]),o=this.countByVIDs([e.variant_id]),e.quantity_changed=o-i,0<e.quantity_changed&&r.added.push(e),e.quantity_changed<0&&r.removed.push(e));for(a=0,c=t.items.length;a<c;a++)n=t.items[a],this.findItemByVariant(n.product_id,n.variant_id)||(n.quantity_changed=-n.quantity,r.removed.push(n));return r},this.getTotalPrice=function(t){for(var e=0,n=0,i=this.items.length;n<i;n++)t&&(this.items[n].gift_card||this.items[n].is_sub&&!nfec.IsSubDis)||(e+=this.items[n].price*this.items[n].quantity);if(t)for(n=0,i=this.gifts.length;n<i;n++)this.gifts[n].gift_card||(e+=this.gifts[n].price*this.gifts[n].quantity);return e},this.getGiftPrices=function(){for(var t=0,e=0,n=this.gifts.length;e<n;e++)t+=this.gifts[e].price*this.gifts[e].quantity;return t},this.getTotalAddeds=function(t){for(var e=0,n=0,i=this.items.length;n<i;n++)t&&-1==t.indexOf(this.items[n].product_id)||(e+=this.items[n].quantity);return e},this.countVoP=function(t,e){for(var n,i=0,o=0,r=this.items.length;o<r;o++)n=this.items[o],(t.length||e.length)&&-1==t.indexOf(n.product_id)&&-1==e.indexOf(n.variant_id)||(i+=n.quantity);return i},this.getProductVariantMap=function(){for(var t,e={},n=0,i=this.items.length;n<i;n++)e[(t=this.items[n]).product_id]||(e[t.product_id]=[]),e[t.product_id].push(t.variant_id);return e},this.removeOneItem=function(t){for(var e=[],n=!1,i=0,o=this.items.length;i<o;i++)n||this.items[i].product_id!=t.product_id||this.items[i].variant_id!=t.variant_id?e.push(this.items[i]):(this.items[i].quantity-=1,0<this.items[i].quantity&&e.push(this.items[i]),n=!0);this.items=e},this.addOneItem=function(t){t.quantity=1;for(var e=0,n=this.items.length;e<n;e++)if(this.items[e].product_id==t.product_id&&this.items[e].variant_id==t.variant_id)return void(this.items[e].quantity+=1);this.items.push(t)},this.parseState=function(t){var e=JSON.parse(t);if(this.token=e.t||"",this.items=[],e.i)for(var n,i=0,o=e.i.length;i<o;i++)(n=new nfec.model.cart_item).parseState(e.i[i]),this.items.push(n)},this.toState=function(){for(var t={t:this.token,i:[]},e=0,n=this.items.length;e<n;e++)t.i.push(this.items[e].toState());return JSON.stringify(t)},this.getLastItem=function(){return this.items[0]},this.isRecharge=function(){for(var t,e=0,n=0,i=0,o=this.items.length;i<o;i++)(t=this.items[i]).is_sub?e=3:t.properties&&(t.properties.shipping_interval_frequency||t.properties.frequency_num)?e=3:n=1;return e&&(nfec.IsSubDis?e=1:n&&nfec.manager.setting.IsDiscountCode()&&(e=2)),e},this.isBundle=function(){for(var t=0,e=this.items.length;t<e;t++)if(this.items[t].is_bun)return!0;return!1},this.getTotalPriceByPV=function(t,e){for(var n,i=0,o=0;o<this.items.length;o++)n=this.items[o],t&&t.length&&-1==t.indexOf(n.product_id)||e&&e.length&&-1==e.indexOf(n.variant_id)||(i+=n.price*n.quantity);return i}},nfec.model.currency=function(){this.code="",this.flag="",this.symbol="",this.rate=1,this.decimal=2,this.format="${{ amount }}",this.formatString="",this.toState=function(){var t={i:this.code,s:this.symbol,fl:this.flag,r:this.rate,d:this.decimal,f:this.format};return JSON.stringify(t)},this.fromJSON=function(t){this.code=t.i,this.symbol=t.s,this.flag=t.fl,this.rate=t.r,this.decimal=t.d,this.format=t.f||"${{ amount }}",this.formatString=this.format},this.parseState=function(t){var e=JSON.parse(t);this.fromJSON(e)},this.getNum=function(t){if(this.formatString){var e=this.formatString.split("{{");if(t=t.replace(e[0],""),e[1]){var n=e[1].split("}}");t=t.replace(n[1],"")}-1!=this.formatString.indexOf("comma")&&(t=(t=t.replace(/\./g,"")).replace(/\,/g,"."))}return t=t.replace(/[^0-9.]/g,""),t=parseFloat(t)}},nfec.model.current_product=function(){this.id=0,this.product_type="",this.tags="",this.vendor="",this.title="",this.price=0,this.collections=[],this.variant_title=null,this.fromProduct=function(t){this.id=t.id,this.product_type=t.product_type,this.tags=t.tags,this.vendor=t.vendor,this.title=t.title,this.price=t.getMaxPrice(),this.collections=[]},this.parseState=function(t){var e=JSON.parse(t);this.product_type=e.pt,this.tags=e.ta,this.vendor=e.v,this.collections=e.c,this.title=e.t,this.variant_title=e.o,this.id=e.i,this.price=e.p},this.toState=function(){var t={i:this.id,p:this.price,pt:this.product_type,ta:this.tags,v:this.vendor,c:this.collections,t:this.title,o:this.variant_title};return JSON.stringify(t)}},nfec.model.customer=function(){this.id=0,this.email="",this.name="",this.tags="",this.total_spent=0,this.orders_count=0,this.phone="",this.orders=[],this.address=new nfec.model.address,this.parseState=function(t){var e=JSON.parse(t);this.id=e.i,this.email=e.e,this.name=e.n,this.tags=e.t,this.total_spent=e.s,this.orders_count=e.c,this.phone=e.p,this.orders=e.o;var n=new nfec.model.address;n.parseState(e.a),this.address=n},this.toState=function(){var t={i:this.id,e:this.email,n:this.name,t:this.tags,s:this.total_spent,c:this.orders_count,p:this.phone,o:this.orders,a:this.address.toState()};return JSON.stringify(t)}},nfec.model.discountable=function(){this.discount_type=0,this.discount_value=null,this.is_cart=!1,this.offer_id=0,this.offer_type_id=0,this.app_id=0,this.product_id=0,this.version=0,this.message="",this.vids=[],this.hasMessage=function(){return this.message?1:0},this.getDiscountedPrice=function(t){return this.calculateDiscountedPrice(t)},this.isNormalDiscount=function(){return-1!=[nfec.consta.DiscountTypeValue,nfec.consta.DiscountTypePercent].indexOf(this.discount_type)},this.calculateDiscountedPrice=function(t){switch(this.discount_type){case nfec.consta.DiscountTypeValue:var e=t;return nfec.manager.setting.IsCurrencyRound()?e=Math.round(e-Math.floor(this.discount_value)):e-=this.discount_value,e<0?0:e;case nfec.consta.DiscountTypePercent:return nfec.IsDmodeNone?t-Math.floor(t*this.discount_value)/100:nfec.manager.setting.IsCurrencyRound()?Math.round(t-Math.floor(t*this.discount_value/100)):t*(100-this.discount_value)/100;default:return t}},this.firstFreeGiftID=function(){return this.freeGiftIDs()[0]},this.freeGiftIDs=function(){for(var t=this.discount_value?this.discount_value.split(","):[],e=[],n=0;n<t.length;n++)e.push(parseInt(t[n]));return e}},nfec.model.gift=function(){this.variant_id=0,this.product_id=0,this.offer_id=0,this.offer_type_id=0,this.app_id=0,this.toState=function(){return{v:this.variant_id,p:this.product_id,oi:this.offer_id,ot:this.offer_type_id,a:this.app_id}},this.parseState=function(t){this.variant_id=t.v,this.product_id=t.p,this.offer_id=t.oi,this.offer_type_id=t.ot,this.app_id=t.a}},nfec.model.gifts=function(){this.items=[],this.addItem=function(t){for(var e,n=0;n<this.items.length;n++)if((e=this.items[n]).app_id==t.app_id&&e.offer_type_id==t.offer_type_id&&e.offer_id==t.offer_id)return void(this.items[n]=t);this.items.push(t)},this.findItem=function(t,e,n){for(var i,o=0;o<this.items.length;o++)if((i=this.items[o]).app_id==t&&i.offer_type_id==e&&i.offer_id==n)return i;return null},this.parseState=function(t){var e=JSON.parse(t);if(this.items=[],e.i)for(var n,i=0,o=e.i.length;i<o;i++)(n=new nfec.model.gift).parseState(e.i[i]),this.items.push(n)},this.toState=function(){for(var t={i:[]},e=0,n=this.items.length;e<n;e++)t.i.push(this.items[e].toState());return JSON.stringify(t)}},nfec.model.product=function(){this.id=0,this.title="",this.body_html="",this.handle="",this.vendor="",this.product_type="",this.tags="",this.created_at=0,this.options=[],this.variants=[],this.images=[],this.image={},this.source="",this.unavailable=!1,this.current_variant_id=0,this.is_premium=!1,this.getDes=function(){return this.body_html?this.body_html.replace("[/shortdesc]","").replace("[shortdesc]",""):""},this.getTitle=function(){var t=this.title,e=nfec.util.customPT;return e&&(t=e(this)),nfec.util.tpl.ToCustomTrans(t)},this.getMaxPrice=function(){for(var t=0,e=0;e<this.variants.length;e++)this.variants[e].price>t&&(t=this.variants[e].price);return t},this.isHidden=function(){if(this.is_premium)return!1;if(!this.getMaxPrice())return!0;var t=this.tags;if(!t)return!1;if(-1!=t.search(/hide/i))return!0;for(var e=["tdf_bundle_","no_add_to_cart","no_purchase"],n=0;n<e.length;n++)if(-1!=t.indexOf(e[n]))return!0;return!1},this.url=function(){return nfec.platform.current.product.GetUrl(this.handle)},this.isAvailable=function(){return!this.unavailable&&!!this.variants.length},this.current_sale_variant=function(){if(this.current_variant_id&&(e=this.getVariantByID(this.current_variant_id)).is_discountable())return e;for(var t=0;t<this.variants.length;t++){var e;if((e=this.variants[t]).is_discountable())return e}return this.variants[0]},this.hasImage=function(){return 0<this.images.length},this.applyDiscountable=function(t){for(var e=0,n=this.variants.length;e<n;e++)if(!t.vids||!t.vids.length||-1!=t.vids.indexOf(this.variants[e].id)){var i=this.variants[e].getDiscountable();if(i){if(i.isNormalDiscount()&&i.discount_type==t.discount_type){if(i.discount_value>t.discount_value)continue;if(i.discount_value<t.discount_value){this.variants[e].discountable=t;continue}}if(i.offer_type_id>=t.offer_type_id)continue}this.variants[e].discountable=t}},this.getVariantByID=function(t){for(var e=0,n=this.variants.length;e<n;e++)if(this.variants[e].id==t)return this.variants[e];return null},this.getVariantIDs=function(){for(var t=[],e=0,n=this.variants.length;e<n;e++)t.push(this.variants[e].id);return t},this.filterVarIDs=function(t,e){if(!t||!t.length)return this.getVariantIDs();for(var n,i=[],o=0,r=this.variants.length;o<r;o++)n=this.variants[o],-1!=t.indexOf(n.id)&&i.push(n.id);return e&&!i.length?this.getVariantIDs():i},this.filterVars=function(t,e){if(!t||!t.length)return this.variants;for(var n,i=[],o=0,r=this.variants.length;o<r;o++)n=this.variants[o],-1!=t.indexOf(n.id)&&i.push(n);return e&&!i.length?this.variants:i},this.variantMap=function(){for(var t={},e=0,n=this.variants.length;e<n;e++){var i=this.variants[e];t[i.id]=i}return t},this.getImageByID=function(t){for(var e=0,n=this.images.length;e<n;e++)if(this.images[e].id==t)return this.images[e];return this.image},this.getImageByVID=function(t){for(var e=0,n=this.images.length;e<n;e++){var i=this.images[e].variant_ids;if(i&&-1!=i.indexOf(t))return this.images[e]}return this.image},this.getOptionByPosition=function(t){for(var e=0,n=this.options.length;e<n;e++)if(this.options[e].position==t)return this.options[e];return null},this.getAvailableOptions=function(){var t,e,n={};t:for(var i=0,o=this.variants.length;i<o;i++)for(var r=1;r<4;r++){if(e=this.variants[i]["option"+r],!n[r]){if(!(t=this.getOptionByPosition(r)))continue t;n[r]=new nfec.model.product_option,n[r].position=r,n[r].name=t.name,n[r].values=[]}-1===n[r].values.indexOf(e)&&n[r].values.push(e)}return n},this.getAvailableOptionsForOptionValue=function(t,e){for(var n,i,o={},r=0,d=this.variants.length;r<d;r++)if((i=this.variants[r]["option"+t])==e)for(var a=1;a<4;a++)if(a!=t&&void 0!==(i=this.variants[r]["option"+a])){if(!o[a]){if(!(n=this.getOptionByPosition(a)))break;o[a]=new nfec.model.product_option,o[a].position=a,o[a].name=n.name,o[a].values=[]}-1===o[a].values.indexOf(i)&&o[a].values.push(i)}return o},this.getVariantByOptionValues=function(t){var e;t:for(var n=0,i=this.variants.length;n<i;n++){for(e in t)if(t.hasOwnProperty(e)&&t[e]!=this.variants[n]["option"+e])continue t;return this.variants[n]}return null},this.removeVariant=function(t){for(var e=[],n=0,i=this.variants.length;n<i;n++)this.variants[n].id!=t&&e.push(this.variants[n]);this.variants=e},this.getOptionsDisplayType=function(){if(nfec.manager.setting.Data.qv_sel_option)return nfec.consta.OptionDisplayTypeSelect;var t,e=this.getAvailableOptions(),n=1;for(t in e)e.hasOwnProperty(t)&&(n*=e[t].values.length);return this.variants.length/n<.7?nfec.consta.OptionDisplayTypeSelect:nfec.consta.OptionDisplayTypeCheckboxs}},nfec.model.product_image=function(){this.id=0,this.position=0,this.src="",this.variant_ids=[],this.smallSrc=function(){return nfec.platform.current.element.GetImageSrcBySize(this.src,"small")},this.mediumSrc=function(){var t=nfec.manager.setting.Data.img_size||"medium";return nfec.platform.current.element.GetImageSrcBySize(this.src,t)},this.largeSrc=function(){return nfec.platform.current.element.GetImageSrcBySize(this.src,"large")},this.grandeSrc=function(){return nfec.platform.current.element.GetImageSrcBySize(this.src,"grande")}},nfec.model.product_option=function(){this.id=0,this.name="",this.position=0,this.values=[]},nfec.model.recent_view=function(){this.id=0,this.handle="",this.toState=function(){return{i:this.id,h:this.handle}},this.parseState=function(t){this.id=t.i,this.handle=t.h}},nfec.model.recent_views=function(){this.items=[],this.getProductIDs=function(){for(var t=this.items.length,e=[],n=0;n<t;n++)e.push(this.items[n].id);return e},this.addItem=function(t){var e=[t],n=this.items.length;8<n&&(n=8);for(var i=0;i<n;i++)this.items[i].id!=t.id&&e.push(this.items[i]);this.items=e},this.parseState=function(t){var e=JSON.parse(t);if(this.items=[],e.i)for(var n,i=0,o=e.i.length;i<o;i++)(n=new nfec.model.recent_view).parseState(e.i[i]),this.items.push(n)},this.toState=function(){for(var t={i:[]},e=0,n=this.items.length;e<n;e++)t.i.push(this.items[e].toState());return JSON.stringify(t)}},nfec.model.variant=function(){this.id=0,this.title="",this.option1="",this.option2="",this.option3="",this.sku="",this.available=!0,this.price=0,this.compare_at_price=0,this.position=1,this.product_id=0,this.grams=0,this.image_id=0,this.image={},this.discountable=null,this.getTitle=function(){if(this.title)return nfec.util.tpl.ToCustomTrans(this.title);for(var t=[],e=1;e<4;e++)this["option"+e]&&t.push(nfec.util.tpl.ToCustomTrans(this["option"+e]));return t.join(" ")},this.getDiscountable=function(){if(this.discountable&&this.discountable.version==nfec.manager.discountable.Version)return this.discountable},this.is_discountable=function(){return!!this.getDiscountable()},this.display_price=function(){return this.getDiscountable()?this.discountable.getDiscountedPrice(this.price):this.price},this.display_old_price=function(){var t=this.display_price();return!nfec.manager.setting.Data.no_cpa_price&&(!window.dsqion||nfec.manager.setting.Data.y_cpa)&&this.compare_at_price>this.price?this.compare_at_price:this.price>t?this.price:0}},nfec.store={},nfec.store._cookie={Set:function(t,e,n){var i=new Date;i.setTime(i.getTime()+1e3*n);var o="expires="+i.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"},Get:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return""},Remove:function(t){this.Set(t,"",-1)}},nfec.store._localstore={cleaned:!1,Get:function(t){return localStorage.getItem(t)},Set:function(t,e,n){try{if(localStorage.setItem(t,e),n){var i=new Date;localStorage.setItem("et_"+t,Math.round(i.getTime()/1e3+n))}}catch(t){localStorage.clear()}},Remove:function(t){localStorage.removeItem(t),localStorage.removeItem("et_"+t)},RemoveByPrefix:function(t){if(window.nfecParams.supportLocalStorage)for(var e=0;e<localStorage.length;e++)-1!==localStorage.key(e).indexOf(t)&&localStorage.removeItem(localStorage.key(e))},Clean:function(){if(!this.cleaned){var t;this.cleaned=!0;for(var e=0;e<localStorage.length;e++)(t=localStorage.key(e))&&0===t.indexOf("et_nf_")&&parseInt(localStorage.getItem(t))<Date.now()/1e3&&(localStorage.removeItem(t),localStorage.removeItem(t.substr(3)));localStorage.removeItem("bk_ss")}}},nfec.store.control={prefix:"nf_",db:{},Set:function(t,e,n,i,o){var r=this.getKey(t,o);n=n||86400;nfec.store.control.IsSupportLocalStorage?nfec.store._localstore.Set(r,e,n):i&&nfec.store._cookie.Set(r,e,n),nfec.store.control.db[r]=e},Remove:function(t,e){var n=this.getKey(t,e);nfec.store.control.IsSupportLocalStorage?nfec.store._localstore.Remove(n):nfec.store._cookie.Remove(n),delete nfec.store.control.db[n]},Get:function(t,e){var n=this.getKey(t,e);if(nfec.store.control.IsSupportLocalStorage)return nfec.store._localstore.Get(n);var i=nfec.store._cookie.Get(n);return i||nfec.store.control.db[n]},getKey:function(t,e){return e?t:this.prefix+t},checkSupportLocalStorage:function(){var t="test";try{localStorage.setItem(t,t),localStorage.removeItem(t),nfec.store.control.IsSupportLocalStorage=!0}catch(t){nfec.store.control.IsSupportLocalStorage=!1}},Start:function(){this.checkSupportLocalStorage(),nfec.store.control.IsSupportLocalStorage&&nfec.store._localstore.Clean()}},nfec.start={},nfec.start.cartform={Start:function(){if(nfec.platform.current.page.Detect().type==nfec.consta.PageTypeCart&&!window.nocartcheck){var t=jQuery(nfec.platform.current.element.GetCartForms()),d="t-serial-data",e=function(t,e){var n,i,o=t.attr(d),r=t.serialize();if(t.attr(d,r),o)return o!=r?((i=(n=t).attr("toid"))&&clearTimeout(i),i=setTimeout(function(){jQuery.ajax({type:"POST",url:nfec.main.PRo+"cart",data:n.serialize(),success:function(t){}})},2e3),void n.attr("toid",i)):void 0};t.each(function(){var t=jQuery(this);setTimeout(function(){t.attr(d,t.serialize())},100),t.find("select").on("change",function(){e(t)}),t.find("input,textarea").on("input",function(){isNaN($(this).val()),e(t)}),t.on("click",function(){setTimeout(function(){e(t)},10)})})}}},nfec.start.dom={Start:function(){jQuery(".globomenu-btn").closest("form").addClass("formignore"),window.onresize=function(){nfec.event_hub.Trigger("window_resize",{})},setTimeout(function(){var e=window.onpageshow||function(){};window.onpageshow=function(t){t.persisted&&(nfec.start.redirect.IsProcessCheckout=!1),e(t)}},3500),jQuery(document).on("click",".tdf_ec",function(t){var e=jQuery(this);"A"==e.prop("tagName")&&t.preventDefault(),nfec.event_hub.Trigger(e.data("e"),{els:e,event:t})}),nfec.util.tool.WaitToLoad(["Privy"],function(){setTimeout(function(){nfec.start.request_listener.Start(1)},5e3),Privy.vent&&Privy.vent.on&&Privy.vent.on("display:shown",function(){setTimeout(function(){jQuery(".tdf_dialog_modal").length&&jQuery(".privy-x").trigger("click")},300)})})}},nfec.start.pagescroll={Start:function(){var e=window.pageYOffset/90,n=window.onscroll;window.onscroll=function(){if(n)try{n()}catch(t){}var t=parseInt(window.pageYOffset/90);t<=e||(e=t,nfec.event_hub.Trigger("page_scroll",{}))};var i=location.href;jQuery(document).on("click",function(){var t=location.href;i!=t&&(i=t,setTimeout(function(){nfec.event_hub.Trigger("url_change",{})},2e3),setTimeout(function(){nfec.event_hub.Trigger("url_change",{})},5e3))})}},nfec.start.preload={Start:function(){var t=nfec.platform.shopify.element.GetCartMiniIcon();jQuery(t).addClass("tdf_cart_icon");var e=function(){jQuery(t).each(function(){jQuery(this).attr("tbinded")||(jQuery(this).attr("tbinded",1),jQuery(this).on("click",function(){setTimeout(function(){nfec.event_hub.Trigger("reload_cart",{})},1010),nfec.event_hub.Trigger("click_cartico",{})}))})};if(e(),nfec.event_hub.ListenTo("change_cartico",e),nfec.event_hub.ListenTo("cart_updated",function(){setTimeout(e,1e3)}),!nfec.store.control.Get("plo")){nfec.store.control.Set("plo",1,864e3,!0);for(var n,i=[nfec.util.request.GetCDN()+"/fe/nfec/img/background_bg.png"],o=0;o<i.length;o++)n=i[o],(new Image).src=n}}},nfec.start.redirect={Start:function(){var i;window.onbeforeunload=function(){nfec.start.redirect.unload=1},nfec.event_hub.ListenTo("close_popup",function(){if(i)setTimeout(function(){nfec.start.redirect.IsProcessCheckout||nfec.start.redirect.Is2Cart||nfec.fl_gifting||nfec.util.tool.Reload()},150);else if(nfec.platform.current.page.Detect().type==nfec.consta.PageTypeCart&&!nfec.fl_gifting){var t=nfec.manager.cart.Get(),e=nfec.manager.cart.GetCartAtStart(),n=t.compareWithState(e);(n.added.length||n.removed.length)&&nfec.util.tool.Reload()}}),nfec.event_hub.ListenTo("gift_updated",function(){nfec.fl_gifting=0;var t=nfec.thm.cl?1:2200;setTimeout(function(){(t<2||i)&&(nfec.start.redirect.IsProcessCheckout||nfec.start.redirect.Is2Cart||jQuery(".tdf_dialog_modal").length||nfec.fl_gifting||nfec.platform.current.redirect.GoToCartPage())},t)});var o=0;nfec.event_hub.ListenTo("showing_gift",function(){var t=new Date;o=t.getTime()}),nfec.event_hub.ListenTo("cart_item_added",function(t,e){if(e.is_tdf&&nfec.platform.current.page.Detect().type==nfec.consta.PageTypeCart){var n=new Date;setTimeout(function(){!jQuery(".tdf_dialog_modal").length&&!nfec.fl_gifting&&n.getTime()>o&&nfec.util.tool.Reload()},1200)}}),nfec.event_hub.ListenTo("need_reload_page",function(){i=!0,nfec.event_hub.ListenTo("click_cartico",function(){nfec.platform.current.redirect.GoToCartPage()})},!0)}},nfec.start.request_listener={Start:function(t){if(t){if(window.PrivyLoaded)return}else window.Privy&&(window.PrivyLoaded=1);var o=0;if(window.XMLHttpRequest){window.xhook&&window.xhook.XMLHttpRequest&&!t&&(window.XMLHttpRequest=window.xhook.XMLHttpRequest);var r=window.XMLHttpRequest.prototype.send,d=window.XMLHttpRequest.prototype.open;if(window.XMLHttpRequest.prototype.open=function(t,e,n,i,o){return this._tdfmethod=t,this._tdfurl=e||"",this._url||(this._url=e||""),d.apply(this,arguments)},!t){window.XMLHttpRequest.prototype.send=function(t){if(this._url){if(-1==this._url.indexOf("/cart"))return r.apply(this,arguments);if(-1!=this._url.indexOf("/cart.js?_=")&&16<o)return r.apply(this,arguments);if(120<o)return r.apply(this,arguments)}o++,this.onreadystatechange&&!this._tdfonreadystatechange&&(this._tdfonreadystatechange=this.onreadystatechange),this.onreadystatechange=c,this._tdfdata=t||{};var e,n=this,i=0;return e=setInterval(function(){if(4==n.readyState&&200==n.status)return a(n),void clearInterval(e);20<=++i&&clearInterval(e)},300),r.apply(this,arguments)};var e=window.fetch;"function"==typeof e&&(window.fetch=function(){var o=arguments;return e.apply(this,Array.prototype.slice.call(arguments)).then(function(e){if(!e||!e.ok)return e;if(!e.url||-1==e.url.indexOf("/cart"))return e;try{var n="GET",i="";if(o[1]&&(o[1].method&&(n=o[1].method),i=o[1].body),i)try{i=JSON.parse(i)}catch(t){i={}}else i={};if(-1!==e.url.indexOf("view=")||-1!==e.url.indexOf("section_id="))nfec.event_hub.Trigger("request_complete",{location:nfec.util.tool.GetLocation(e.url),query:nfec.util.tool.GetURLParams(e.url),method:n,data:{},responseText:"{}",responseJSON:{},isTdf:!1,isReplace:!1});else{var t=e.clone();setTimeout(function(){t.json().then(function(t){nfec.event_hub.Trigger("request_complete",{location:nfec.util.tool.GetLocation(e.url),query:nfec.util.tool.GetURLParams(e.url),method:n,data:i,responseText:"{}",responseJSON:t,isTdf:!1,isReplace:!1})}).catch(function(t){console.log("Req ",t)})},100)}}catch(t){console.log(t)}return e})})}}function a(t){t.tdf_request_completed||(t.tdf_request_completed=1,nfec.event_hub.Trigger("request_complete",{location:nfec.util.tool.GetLocation(t._tdfurl),query:nfec.util.tool.GetURLParams(t._tdfurl),method:t._tdfmethod,data:t._tdfdata,responseText:t.responseText,responseJSON:t.responseJSON,isTdf:t._istdf,isReplace:t._isreplace}))}function c(){if(4==this.readyState&&200==this.status&&a(this),this._tdfonreadystatechange)return this._tdfonreadystatechange.apply(this,arguments)}}},nfec.start.variantform={Start:function(){nfec.event_hub.ListenTo("product_ready",function(){var t=nfec.platform.current.page.Detect();if(t.type==nfec.consta.PageTypeProduct){var o=t.payload.id;if(o)if(nfec.manager.product.FindByID(o)){var r=nfec.platform.current.element.GetAddCartForms(!0),e=function(){var t=r.find('[name="id"],[name="id[]"]').first(),e="tdf-old-val",n=t.val()||window.currentVariantID;if(n&&(n=parseInt(n)),t.attr(e)!=n){t.attr(e,n);var i=nfec.manager.product.FindByID(o);i.getVariantByID(n)&&(i.current_variant_id=n,nfec.event_hub.Trigger("store_form_change_variant",{variant_id:n,product_id:o}))}};r.find("select,input").on("change",function(){jQuery(this).closest(".tdf_container").length||setTimeout(function(){e()},300)}),r.on("mousedown touchstart",function(t){jQuery(t.target).closest(".tdf_container").length||setTimeout(function(){e()},300)}),e()}}})}},nfec.struct={},nfec.struct.currency={BD:"BDT",EU:"EUR",BE:"EUR",BL:"EUR",RE:"EUR",GR:"EUR",GP:"EUR",GF:"EUR",PT:"EUR",PM:"EUR",EE:"EUR",IT:"EUR",ES:"EUR",ME:"EUR",MF:"EUR",MC:"EUR",MT:"EUR",MQ:"EUR",FR:"EUR",FI:"EUR",NL:"EUR",XK:"EUR",CY:"EUR",SK:"EUR",SI:"EUR",SM:"EUR",DE:"EUR",YT:"EUR",LV:"EUR",LU:"EUR",TF:"EUR",VA:"EUR",AD:"EUR",AT:"EUR",AX:"EUR",IE:"EUR",BF:"XOF",BJ:"XOF",GW:"XOF",ML:"XOF",NE:"XOF",CI:"XOF",SN:"XOF",TG:"XOF",BG:"BGN",BA:"BAM",BB:"BBD",NC:"XPF",WF:"XPF",PF:"XPF",BM:"BMD",BN:"BND",BO:"BOB",BH:"BHD",BI:"BIF",BT:"BTN",JM:"JMD",NO:"NOK",BV:"NOK",SJ:"NOK",BW:"BWP",WS:"WST",US:"USD",BQ:"USD",TL:"USD",GU:"USD",SV:"USD",PR:"USD",PW:"USD",EC:"USD",MH:"USD",MP:"USD",IO:"USD",FM:"USD",VG:"USD",UM:"USD",TC:"USD",VI:"USD",AS:"USD",BR:"BRL",BS:"BSD",GB:"GBP",JE:"GBP",GS:"GBP",GG:"GBP",IM:"GBP",BY:"BYR",BZ:"BZD",RU:"RUB",RW:"RWF",RS:"RSD",TM:"TMT",TJ:"TJS",RO:"RON",NZ:"NZD",TK:"NZD",PN:"NZD",NU:"NZD",CK:"NZD",GT:"GTQ",GQ:"XAF",GA:"XAF",CM:"XAF",CG:"XAF",CF:"XAF",TD:"XAF",JP:"JPY",GY:"GYD",GE:"GEL",GD:"XCD",MS:"XCD",KN:"XCD",DM:"XCD",LC:"XCD",VC:"XCD",AG:"XCD",AI:"XCD",GN:"GNF",GM:"GMD",DK:"DKK",GL:"DKK",FO:"DKK",GI:"GIP",GH:"GHS",OM:"OMR",TN:"TND",JO:"JOD",HR:"HRK",HT:"HTG",HU:"HUF",HK:"HKD",HN:"HNL",AU:"AUD",HM:"AUD",NF:"AUD",NR:"AUD",CC:"AUD",CX:"AUD",KI:"AUD",TV:"AUD",VE:"VEF",PS:"ILS",PY:"PYG",IQ:"IQD",PA:"PAB",PG:"PGK",PE:"PEN",PK:"PKR",PH:"PHP",PL:"PLN",ZM:"ZMK",EH:"MAD",EG:"EGP",ZA:"ZAR",VN:"VND",SB:"SBD",ET:"ETB",SO:"SOS",ZW:"ZWL",SA:"SAR",ER:"ERN",MD:"MDL",MG:"MGA",MA:"MAD",UZ:"UZS",MM:"MMK",MO:"MOP",MN:"MNT",MK:"MKD",MU:"MUR",MW:"MWK",MV:"MVR",MR:"MRO",UG:"UGX",TZ:"TZS",MY:"MYR",MX:"MXN",IL:"ILS",SH:"SHP",FJ:"FJD",FK:"FKP",NI:"NIO",NA:"NAD",VU:"VUV",NG:"NGN",NP:"NPR",CH:"CHF",LI:"CHF",CO:"COP",CN:"CNY",CL:"CLP",CA:"CAD",CD:"CDF",CZ:"CZK",CR:"CRC",CW:"ANG",SX:"ANG",CV:"CVE",CU:"CUC",SZ:"SZL",SY:"SYP",KG:"KGS",KE:"KES",SS:"SSP",SR:"SRD",KH:"KHR",KM:"KMF",ST:"STD",KR:"KRW",KP:"KPW",KW:"KWD",SL:"SLL",SC:"SCR",KZ:"KZT",KY:"KYD",SG:"SGD",SE:"SEK",SD:"SDG",DO:"DOP",DJ:"DJF",YE:"YER",DZ:"DZD",UY:"UYU",LB:"LBP",LA:"LAK",TW:"TWD",TT:"TTD",TR:"TRY",LK:"LKR",TO:"TOP",LT:"LTL",LR:"LRD",LS:"LSL",TH:"THB",LY:"LYD",AE:"AED",AF:"AFN",IS:"ISK",IR:"IRR",AM:"AMD",AL:"ALL",AO:"AOA",AR:"ARS",AW:"AWG",IN:"INR",AZ:"AZN",ID:"IDR",UA:"UAH",QA:"QAR",MZ:"MZN"},nfec.img={},nfec.img.flag={},nfec.sync={},nfec.sync.cart={ajaxCartID:null,Start:function(i){nfec.event_hub.ListenTo("core_setting_ready",function(){nfec.platform.current.cart_api.GetFirst(function(t){if(i)t.getTotalAddeds()||nfec.event_hub.Trigger("cart_empty",{cart:t});else{var e,n=nfec.manager.cart.GetState();n&&(e=t.compareWithState(n)),nfec.manager.cart.Set(t),nfec.event_hub.Trigger("cart_synced",{cart:t,compared:e}),t.getTotalAddeds()||nfec.event_hub.Trigger("cart_empty",{cart:t,compared:e}),nfec.event_hub.Trigger("promo_update",{compared:e}),e&&e.added.length&&(nfec.event_hub.Trigger("cart_item_added",{added:e.added}),nfec.event_hub.Trigger("cart_item_added_synced",{added:e.added})),nfec.event_hub.Trigger("cart_updated",{cart:t,compared:e}),nfec.sync.cart.ListenAjax()}})})},ListenAjax:function(){var i=(new Date).getTime(),l=0;nfec.event_hub.ListenTo("request_complete",function(t,n){var i,e=new Date;if(l=e.getTime(),i=nfec.platform.current.cart_handle.IsAjaxAddProduct(n)){nfec.sync.cart.lastadd=l;var o=nfec.manager.cart.GetState();if(n.isTdf&&!nfec.addgift2cart);else if(nfec.manager.setting.Data.skip_ajax_cart)return;return nfec.manager.current_product.SetVariantTitle(i.item.variant_title),void nfec.platform.current.cart_api.Get(function(e,t){setTimeout(function(){if(!nfec.start.redirect.unload){var t={added:[]};o&&(t=e.compareWithState(o)),t.added=[i.item],nfec.manager.cart.Set(e),nfec.event_hub.Trigger("promo_update",{compared:t}),i.item.is_gift||nfec.event_hub.Trigger("cart_item_added",{added:[i.item],is_tdf:n.isTdf}),nfec.event_hub.Trigger("cart_updated",{cart:e,compared:t}),i.item.is_gift||nfec.event_hub.Trigger("cart_item_added_synced",{added:[i.item],is_tdf:n.isTdf})}},200),n.isTdf&&nfec.platform.current.cart_handle.UpdateThemeCart(t)})}if(i=nfec.platform.current.cart_handle.IsAjaxUpdateCart(n)){nfec.sync.cart.lastupdate=l;var r,d=i.cart;(o=nfec.manager.cart.GetState())&&(r=d.compareWithState(o));var a=nfec.manager.cart.GiftPrices,c=nfec.manager.cart.Current,f=c?c.gifts.length:0;nfec.manager.cart.Set(d);var _=d.gifts.length,s=a!=nfec.manager.cart.GiftPrices||_!=f;return setTimeout(function(){nfec.event_hub.Trigger("promo_update",{compared:r}),r&&(r.added.length||r.removed.length?nfec.event_hub.Trigger("cart_updated",{cart:d,compared:r}):s&&!n.isTdf&&(a<nfec.manager.cart.GiftPrices||f<_?(nfec.manager.cart.GiftPrices=a,nfec.event_hub.Trigger("gift_update")):nfec.event_hub.Trigger("reload_cart",{})),n.isReplace?(r.is_replaced=1,r.is_tdf=1,nfec.event_hub.Trigger("cart_item_added_by_update",{cart:d,compared:r})):!n.isTdf&&r.added.length&&nfec.event_hub.Trigger("cart_item_added_by_update",{cart:d,compared:r}))},100),void((s||r&&(r.added.length||r.removed.length))&&n.isTdf&&nfec.platform.current.cart_handle.UpdateThemeCart(i.cartraw))}(i=nfec.platform.current.cart_handle.IsAjaxGetCart(n))&&(n.isTdf||(nfec.sync.cart.ajaxCartID&&clearTimeout(nfec.sync.cart.ajaxCartID),nfec.sync.cart.ajaxCartID=setTimeout(function(){nfec.event_hub.Trigger("request_got_cart",{})},300)))});var o=0,r=function(){if(!(i+7e3<l)){var t=new Date,e=t.getTime();if(!(e+3e3<o)){var n=3e3;if(e<o){if(o<e+3300)return;n=6e3}o=t.getTime()+n,setTimeout(function(){(new Date).getTime()<l+3e3||nfec.sync.cart.Check()},n)}}};jQuery(document).on("click",function(t){var e=jQuery(t.target).closest("form");if(e.length){var n=e.attr("action");n&&-1!=n.indexOf("cart")&&r()}}),jQuery(document).on("input",function(t){var e=jQuery(t.target),n=e.attr("name");if((!n||-1==n.indexOf("updates"))&&"number"!=e.attr("type"))return;r()})},Check:function(){nfec.platform.current.cart_api.Get(function(t,e){if(t&&!nfec.start.redirect.unload){var n=nfec.manager.cart.GetState(),i=t.compareWithState(n);nfec.manager.cart.Set(t),(i.added.length||i.removed.length)&&(nfec.event_hub.Trigger("promo_update",{compared:i}),nfec.event_hub.Trigger("cart_updated",{cart:t,compared:i}))}})},CheckLastListen:function(e){setTimeout(function(){var t=e?nfec.sync.cart.lastupdate:nfec.sync.cart.lastadd;t=t||0,(new Date).getTime()-t<800||nfec.platform.current.redirect.GoToCartPage()},420)}},nfec.sync.ctotal={Start:function(){nfec.event_hub.ListenTo("theme_version_change",function(){nfec.manager.ctotal.Del()},!0),jQuery(".cartFlagX").length&&nfec.event_hub.ListenTo("cart_updated",function(t,e){if(e.cart.getTotalAddeds()&&!jQuery(".tdf-cart-total-flag,.tdf-cart-total-parent").length){var c=nfec.platform.current.page.Detect();if(!nfec.manager.ctotal.Get(c)){var f=function(){nfec.manager.ctotal.Set(c,"*")};nfec.util.request.Run({url:location.href,method:"GET",timeout:1e4,dataType:"html",success:function(t){var e=jQuery(t),n=e.find(".tdf-cart-total-flag").first();if(n.length){for(var i,o,r=function(t){var e=t.prop("tagName").toLowerCase(),n=t.attr("class"),i=[];n&&(i=n.split(" "));for(var o=0;o<i.length;o++){var r=i[o].trim();r&&(e+="."+r)}return e},d=[],a=0;a<5;a++)if(n=n.parent(),d.unshift(r(n)),i=d.join(">"),1==e.find(i).length&&3<a){o=!0;break}o?(nfec.manager.ctotal.Set(c,i),nfec.event_hub.Trigger("ctotal_found",{})):f()}else f()},error:function(){f()}})}}})}},nfec.sync.country={Start:function(){var e=function(){nfec.event_hub.Trigger("country_ready")};if(nfec.manager.country.Get())e();else{var n=function(){nfec.manager.country.Set("*",36e3),e()};nfec.util.request.Run({url:"/browsing_context_suggestions.js",timeout:4e3,success:function(t){if(t&&t.detected_values&&t.detected_values.country)return nfec.manager.country.Set(t.detected_values.country.handle),void e();n()},error:function(){n()}})}}},nfec.sync.customer={Start:function(){var t=nfec.manager.customer.Get(),e=jQuery(".tdf_customer").last();if(e.length){var n=new nfec.model.customer;if(n.id=parseInt(e.data("id")),n.created_at=parseInt(e.data("created_at")),n.email=e.data("e"),n.name=e.data("name"),n.phone=e.data("phone"),n.tags=e.data("tags"),n.total_spent=parseFloat(e.data("total_spent")),n.orders_count=parseInt(e.data("orders_count")),window.Shopify&&(n.address.fromJson(Shopify.customer_address),Shopify.customer_orders&&(n.orders=Shopify.customer_orders,!n.orders_count&&(n.orders_count=n.orders.length,!n.total_spent))))for(var i=0;i<n.orders.length;i++)n.total_spent+=n.orders[i].p;n.total_spent&&(n.total_spent=n.total_spent/100),nfec.manager.customer.Set(n),t?t.id==n.id&&t.total_spent==n.total_spent&&t.orders_count==n.orders_count||nfec.event_hub.Trigger("customer_update"):(nfec.event_hub.Trigger("customer_update"),nfec.event_hub.Trigger("customer_login"))}else{if(!jQuery("#tdf_pxrscript").length)return;if(!t)return;nfec.manager.customer.Remove()}}},nfec.sync.currency={Start:function(){nfec.event_hub.ListenToMulti(["core_setting_ready","country_ready"],function(){var t=[],e=nfec.manager.setting.GetCurrency(),n=nfec.manager.setting.Data.m_currency_on,i=nfec.manager.setting.Data.m_currency_codes,o=nfec.manager.currency.GetSelected(),r=nfec.manager.country.Get(),d=!1;if(n&&i){if(d=!0,!o){var a=nfec.struct.currency[r];a&&-1!=i.indexOf(a)&&(o=a),o||(o=e),nfec.manager.currency.SetSelected(o)}o&&o!=e&&(-1==t.indexOf(o)&&t.push(o),-1==t.indexOf(e)&&t.push(e))}var c=0,f=function(){if(c===t.length){if(nfec.event_hub.Trigger("currency_ready",{}),!d)return;nfec.sync.currency.Render(),nfec.sync.currency.listen()}};f();for(var _=0;_<t.length;_++)nfec.manager.currency.Get(t[_],function(){c++,f()})},!0)},listen:function(){var t=jQuery("form"),n=function(){nfec.sync.currency.Render()};t.find("select").on("change",function(){n()}),t.on("click",function(){setTimeout(function(){n()},10)}),nfec.event_hub.ListenTo("request_got_cart",function(){n(),setTimeout(function(){n()},1e3)}),nfec.event_hub.ListenTo("cart_updated",function(){setTimeout(function(){n()},200)}),nfec.event_hub.ListenTo("page_scroll",function(t,e){n()})},TimeoutID:0,Render:function(t){var e=nfec.sync.currency.TimeoutID;e&&clearTimeout(e),nfec.sync.currency.TimeoutID=setTimeout(function(){var d=nfec.manager.currency.GetSelected(),a=nfec.manager.setting.GetCurrency(),c=nfec.manager.currency.Find(d),t=nfec.manager.currency.IsOn();jQuery(t?".money":".tdf_money").each(function(){var t=jQuery(this),e=t.data("currency")||a;if(e!=d){var n=t.text();if(n){t.data("currency",d);var i=nfec.manager.currency.Find(e),o=t.data("tov"),r=!1;void 0!==o&&t.data("tovc")==e&&(o=parseFloat(o),isNaN(o)||(n=o,r=!0)),(r||(n=i.getNum(n)))&&(n=nfec.manager.currency.Convert(e,d,n),t.text(nfec.util.tpl.FormatCurrency(n,c.formatString,1)))}}})},t||300)}},nfec.sync.locale={Start:function(){var e=function(){return window.Weglot&&"function"==typeof Weglot.getCurrentLang?-1==document.documentElement.innerHTML.indexOf("weglot_script_tag")?"":Weglot.getCurrentLang():""},t=function(){var t=e();t&&(t!=nfec.manager.locale.Get()&&(nfec.manager.locale.Set(t,36e3),window.location.reload()))},n=function(){for(var t=["lang","locale"],e=0;e<t.length;e++){var n=nfec.util.tool.GetQueryStringValue(t[e]);if(n)return n}return!1}(),i=nfec.manager.locale.Get(),o=function(){nfec.event_hub.Trigger("locale_ready")};if(n||(n=e(),jQuery(document).on("click",".wg-li a",function(){setTimeout(t,2e3)})),n||(n=nfec.store.control.Get("ls-locale",1))&&(n=n.split("-")[0]),n||window.Shopify&&Shopify.locale&&(n=Shopify.locale),n)return nfec.manager.locale.Set(n,36e3),void o();i?o():nfec.util.request.Run({url:nfec.consta.api_path+"/2/locale.json",method:"GET",timeout:4e3,success:function(t){if(!t.la)return nfec.manager.locale.Set("*",36e3),void o();nfec.manager.locale.Set(t.la),o()},error:function(){nfec.manager.locale.Set("*",36e3),o()}})}},nfec.sync.product={Start:function(){tdfEventHub.ListenToEvent("product_data",function(t,l){nfec.event_hub.ListenTo("cart_synced",function(t,e){var n=jQuery(".productInfox"),i=nfec.platform.current.product.ConvertDataToProduct(l.product),o=function(t){for(var e=t.split(","),n=[],i=0;i<e.length;i++)e[i]&&parseInt(e[i])&&n.push(parseInt(e[i]));return n};if(setTimeout(function(){nfec.event_hub.Trigger("product_data_synced")},50),n.length&&n.data("id")==i.id){if(1!=n.data("ava"))return;var r=n.data("vars");if(!r)return;for(var d=o(r),a=[],c=0,f=i.variants.length;c<f;c++)-1!=d.indexOf(i.variants[c].id)&&a.push(i.variants[c]);if(!a.length)return;i.variants=a,nfec.manager.currency.NotDefault&&!nfec.manager.currency.IsMarketOn()||nfec.manager.product.AddCurrentProduct(i)}else nfec.manager.currency.NotDefault&&!nfec.manager.currency.IsMarketOn()||nfec.manager.product.AddProduct(i);var _=new nfec.model.current_product;_.fromProduct(i);var s=n.data("cols");s&&(_.collections=o(s)),nfec.manager.current_product.Set(_),nfec.manager.recent_views.AddFromProduct(i),nfec.event_hub.Trigger("product_data_ava_synced")},!0)},!0)}},nfec.sync.shopversion={Start:function(){nfec.store.control.Get("sver");var t=window.nfecShopVersion;t&&nfec.store.control.Set("sver",t,7200,!0);var e=window.nfecJsVersion;e&&nfec.store.control.Set("jsv",e,86400,!0)}},nfec.sync.theme_v={Start:function(){var t=nfec.store.control.Get("tver"),e=window.Shopify&&Shopify.theme?Shopify.theme.id:0;e&&nfec.store.control.Set("tver",e,186400,!0),t&e&&e!=t&&nfec.event_hub.Trigger("theme_version_change")}},nfec.util={},nfec.util.btn={db:{},id:0,Fake:function(c,t,f){window.inspectDOM=function(){};var _,s,l="tdf-btn-id",u="oasdblhk";t.each(function(t,e){var n=jQuery(this);if(!n.hasClass(c)){var i="mincartDisabled";if(n.hasClass(i)){if("Loading"==n.val()){var o="Checkout";if(window.mincartSettings&&mincartSettings.texts){var r=mincartSettings.texts.checkoutText;r&&(o=r)}n.val(o)}n.removeClass(i)}(_=n.attr(l))||(nfec.util.btn.id+=1,_=nfec.util.btn.id,n.attr(l,_),n.attr("tdf-btn-f",1),nfec.util.btn.db[_]=n),(s=n.clone()).attr("onclick","event.preventDefault();");var d=s.prop("tagName");-1!=["BUTTON","INPUT"].indexOf(d)&&"hidden"!=s.prop("type")&&s.prop("type","button"),s.removeClass("disabled"),s.prop("disabled",!1),s.removeAttr("data-ocu-checkout"),s.attr(l,_),s.addClass(c),s.addClass(u[6]+"ulkapps-ignore"),s.addClass(u[2]+"aso-ignore"),s.addClass("b"+u[7]+"-btn-cl"+u[0]+"ne"),s.addClass("b"+u[0]+"ld_cl"+u[0]+"ne"),window.callbackAdvanceReorder&&s.addClass("c"+u[1]+NaN);var a=s.attr("name");a&&(a.indexOf(!0)||"goto_pp"==a)&&s.attr("name",""),s.attr("href")&&s.attr("href","javascript:;"),n.replaceWith(s),"function"==typeof f&&f(s)}})},StopRedirect:function(i,t,o,e){if(window.ZapTree||nfec.manager.setting.Data.overwrite_ck_no){var r="oasdblhk",n=r[2]+r[1]+r[2]+r[0],d=r[4]+r[0]+r[0]+"ster";t.each(function(t,e){var n=jQuery(this);n.hasClass(i)||("submit"==n.attr("type")&&(n.attr("is-sbm",1),n.prop("type","button")),n.data("tdf-bound")||(n.data("tdf-bound",1),n.on("click",function(t){jQuery(this).hasClass(i)&&t.preventDefault()})),n.prop("disabled",!1),n.removeAttr("data-ocu-checkout"),n.addClass(i),n.addClass(r[6]+"ulkapps-ignore"),n.addClass(r[2]+"aso-ignore"),n.addClass("b"+r[7]+"-btn-cl"+r[0]+"ne"),n.addClass("b"+r[0]+"ld_cl"+r[0]+"ne"),"function"==typeof o&&o(n))});var a=window[n+"Checkout"];a&&!window.bkfss&&(window["bk"+n]=a),window[n+"Checkout"]=function(){},window.bkfss=1;var c=n+"_agree "+n+"agr";window[d]&&jQuery("body").append('<input id="agree" class="'+c+'" style="display:none" type="checkbox">'),window[n]&&jQuery("body").append('<input class="'+c+'" style="display:none" type="checkbox">')}else nfec.util.btn.Fake(i,t,o)},Revert:function(i,o){var t=jQuery("."+i);if(t&&t.length){var r,d="oasdblhk",e=d[2]+d[1]+d[2]+d[0];t.each(function(t,e){var n=jQuery(this);if(n.hasClass(i)){if(r=n.attr("tdf-btn-id"))return n.replaceWith(nfec.util.btn.db[r]),void("function"==typeof o&&nfec.util.btn.db[r]&&o(nfec.util.btn.db[r]));n.attr("tdf-btn-f")||(n.attr("is-sbm")&&n.prop("type","submit"),n.prop("disabled",!1),n.removeClass(i),n.removeClass(d[6]+"ulkapps-ignore"),n.removeClass(d[2]+"aso-ignore"),n.removeClass("b"+d[7]+"-btn-cl"+d[0]+"ne"),n.removeClass("b"+d[0]+"ld_cl"+d[0]+"ne"),"function"==typeof o&&o(n))}}),window["bk"+e]&&(window[e+"Checkout"]=window["bk"+e]),setTimeout(function(){jQuery("."+e+"agr").remove()},400)}}},nfec.util.request={page:1,totalTrack:0,GetPath:function(){return"/apps/sap"},GetCDN:function(){return window.usecdn?"https://d5zu2f4xvqanl.cloudfront.net":"/apps/sap"},Run:function(t){t.timeout=t.timeout||1e4,t.xhrFields=t.xhrFields||{},t.xhrFields._istdf=!0,t.dataType=t.dataType||"json",t.type=t.method,jQuery.ajax(t)},Api:function(t,e){var n=nfec.manager.setting.Data.key,i=nfec.manager.setting.Data.id;if(n){var o=e?"/apps/sap":nfec.consta.api_path;return t.url=o+"/"+t.url+".json?tk="+n+"&sid="+i,-1!==["POST","PUT"].indexOf(t.method)&&(t.data=t.data||{},t.data=JSON.stringify(t.data)),t.timeout=t.timeout||36e3,nfec.util.request.Run(t)}},Track:function(t,e){if(nfec.util.request.totalTrack++,!(30<nfec.util.request.totalTrack)){var n=nfec.manager.setting.Data.key,i=nfec.manager.setting.Data.id;if(n){var o=e?"/apps/sap/t":nfec.consta.track_path;return t.url=o+"/"+t.url+"?tk="+n+"&sid="+i,t.dataType=t.dataType||"text",nfec.util.request.Run(t)}}},GetVersion:function(t){var e=new Date;return Math.floor(e.getTime()/(60*t*1e3))}},nfec.util.tool={SetAtt:function(t,e,n){t.data(e,n),t.attr("data-"+e,n)},Log:function(){0},WaitToLoad:function(t,e){var n,i=t.length,o=!0,r=1e3,d=setInterval(function(){if(--r<0)clearInterval(d);else{for(o=!0,n=0;n<i;n++)window[t[n]]||(o=!1);o&&(clearInterval(d),setTimeout(e,300))}},300)},GetSecond:function(){var t=new Date;return parseInt(t.getTime()/1e3)},GetLocation:function(t){var e=document.createElement("a");return e.href=t,e},GetURLParams:function(t){var e={},n=nfec.util.tool.GetLocation(t);if(!n.search)return e;var i=n.search.substring(1);try{e=JSON.parse('{"'+decodeURI(i).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}catch(t){return{}}return e},GetQueryStringValue:function(t){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},Redirect:function(t){window.location.href=t},Reload:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.location.reload(!0)},Shuffle:function(t){for(var e,n,i=t.length;0!==i;)n=Math.floor(Math.random()*i),e=t[i-=1],t[i]=t[n],t[n]=e;return t},DataToObject:function(t,e){var n,i=new t;for(n in e)e.hasOwnProperty(n)&&i.hasOwnProperty(n)&&(i[n]=e[n]);return i},postRenderID:0,IsTabletOrSmaller:function(){return window.innerWidth<=768},GetHtmReadT:function(t){return t=jQuery(t).text(),nfec.util.tool.GetReadT(t)},GetReadT:function(t){var e=Math.ceil(1e3*t.split(" ").length/2.3)+1e3;return e<3500&&(e=3500),8e3<e&&(e=8e3),e},ToStoreTimeUnix:function(t){return t+60*-(new Date).getTimezoneOffset()*1e3-3600*nfec.manager.setting.GetShopTimezoneOffset()*1e3},Decode:function(t){return jQuery("<textarea />").html(t).text()},Replaces:function(t,e,n){if(!t)return t;for(;-1!=t.indexOf(e);)t=t.replace(e,n);return t},H:function(t,e,n){for(var i=t+"",o=Math.floor(9e3*Math.random()+1e3),r=Math.floor(9e3*Math.random()+1e3),d=r+i+(e=e.replace(".",""))+(n=n.replace(".",""))+o,a=n+i+e,c="",f=0;f<a.length;f++)c+=d.indexOf(a[f]);return o+c+r}},nfec.util.tpl={snippets:{},data:{},dataID:1,LangOffset:-1,CustomTrans:[],Init:function(){String.prototype.RenderTpl=function(d){return d=d||{},this.valueOf().replace(/{{([^}]+)}}/g,function(t,e){for(var n=e.split("."),i=d[n[0]],o=1,r=n.length;o<r;o++){if(!i||"object"!=typeof i){i="";break}i=i[n[o]]}return"string"!=typeof i?"":i})},String.prototype.RenderTpls=function(t){for(var e="",n=0,i=t.length;n<i;n++)e+=this.RenderTpl(t[n]);return e}},AddSnippet:function(t,e){nfec.util.tpl.snippets[t]=e},FormatCurrency:function(t,e,n){var i=e||nfec.manager.setting.GetCurrencyFormat();window.DoublyGlobalCurrency||window.fullcurrencyformat||(-1!=i.indexOf("â‚¬")&&(i=i.replace("EUR","")),-1!=i.indexOf("USD")&&-1!=i.indexOf("$")&&(i=i.replace("USD","")),-1!=i.indexOf("Â£")&&(i=i.replace("GBP","")));var o=nfec.manager.setting.GetTax(),r="",d=t,a=parseFloat(t);if(isNaN(a))r=t;else{var c=/\{\{\s*(\w+)\s*\}\}/;d=a,o&&(d+=d*o/100);var f=i.match(c);if(null!=f&&1<f.length)switch(i.match(c)[1]){case"amount":r=nfec.main.TF(d,2,n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");break;case"amount_no_decimals":r=nfec.main.TF(d,0,n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");break;case"amount_no_decimals_with_comma_separator":r=nfec.main.TF(d,0,n).replace(/\./,",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.");break;case"amount_no_decimals_with_space_separator":r=nfec.main.TF(d,0,n).replace(/\./," ").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ");break;case"amount_no_trailing_zeros":r=nfec.main.TF(d,2,n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");break;case"amount_with_comma_separator":r=nfec.main.TF(d,2,n).replace(/\./,",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.");break;case"amount_with_apostrophe_separator":r=nfec.main.TF(d,2,n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1'");break;default:r=nfec.main.TF(d,2,n)}r=i.replace(c,r)}return jQuery("<div>").html(r).text().trim()},GetCent:function(t){var e=t,n=parseFloat(t);return isNaN(n)||(e=Math.round(100*n)),e},ToCurrency:function(t,e){var n=nfec.util.tpl.GetCent(t),i=nfec.util.tpl.FormatCurrency(t,null,e),o=nfec.manager.setting.Data.currency;return'<span class="tdf_money money" style="float:none;" data-tov="'+t+'" data-tovc="'+o+'" data-origin-value="'+n+'" data-currency="'+o+'">'+i+"</span>"},ToCurrencyN:function(t){return nfec.manager.currency.NotDefault?'<span class="tdf_money2 money" style="float:none;">'+nfec.util.tpl.FormatCurrency(t,"{{amount}} "+nfec.platform.shopify.cart_api.fcur)+"</span>":nfec.util.tpl.ToCurrency(t)},GetTplData:function(t){t=parseInt(t);return nfec.util.tpl.data[t]},toInput:function(t){return"string"!=typeof t?t:t.replace(/"/g,"&quot;")},ToTranslate:function(t){if("string"!=typeof t)return t;var e=nfec.util.tpl.LangOffset;if(e<0)return t;var n=(t=t.replace(/\|\|/g,"tdf_ory")).split("|"),i=n[e];return i||(i=n[0]||""),(i=i.replace(/tdf_ory/g,"||")).trim()},ToCustomTrans:function(t){return nfec.util.tpl.toCustomTrans(t)},toCustomTrans:function(t){if("string"!=typeof t)return t;var e=nfec.util.tpl.LangOffset;if(!e||e<0)return t;for(var n=t.trim(),i=0;i<nfec.util.tpl.CustomTrans.length;i++){if(n==nfec.util.tpl.CustomTrans[i][0]){var o=nfec.util.tpl.CustomTrans[i][e];return o||t}}return t},RenderTpl:function(tpl,raw,isBulk,isStore){raw.products=nfec.manager.product.data,raw.cart=nfec.manager.cart.Get(),raw.consta=nfec.consta,raw.percentsymbol="%",raw.isSmallScreen=window.innerWidth<768,raw.current_pid=nfec.manager.product.GetCurrentProductID(),raw.cdnpath=nfec.util.request.GetCDN(),raw.proot=nfec.main.PRo,isStore&&(nfec.util.tpl.data[nfec.util.tpl.dataID]=raw,raw.tpl_data_id=nfec.util.tpl.dataID,nfec.util.tpl.dataID++);var handleDsc=function(t,e,n){var i="";switch(t.discount_type){case nfec.consta.DiscountTypePercent:i=t.discount_value,n&&(i=t.discount_value_round()),i+="%";break;case nfec.consta.DiscountTypeValue:i=nfec.util.tpl.ToCurrency(t.discount_value,1);break;default:return""}return!(9990<nfec.manager.setting.Data.id||nfec.manager.setting.Data.dsc_f)||window.Shopify&&Shopify.locale&&-1!=["ar","ru","id","ie","it","km","th","ms","vi","fa","pl","he"].indexOf(Shopify.locale)?e+" "+i:i+" "+e},d=new Date,dt=d.getTime(),o_params=jQuery.extend({},raw),renderStr=function(s,params){params=params||{};var getParam=function(t,e){var n=getRealParam(t,e);return null===n?"":n},getRealParam=function(t,e){var n=t.split("."),i=e[n[0]];"function"==typeof i&&(i=e[n[0]]());for(var o=1,r=n.length;o<r;o++)if("toTranslate"!=n[o])if("toCustomTrans"!=n[o])if("toInput"!=n[o])if("toCurrency"!=n[o])if("toCurrencyN"!=n[o])if("toCrcF"!=n[o])if("toDscR"!=n[o])if("toDsc"!=n[o])if("toCDsc"!=n[o]){if(!i||"object"!=typeof i){i=null;break}i="function"==typeof i[n[o]]?i[n[o]]():i[n[o]]}else i=handleDsc(i,nfec.manager.transl.cart_discount);else i=handleDsc(i,nfec.manager.transl.discount);else i=handleDsc(i,nfec.manager.transl.discount,1);else i=nfec.util.tpl.ToCurrency(i,1);else i=nfec.util.tpl.ToCurrencyN(i);else i=nfec.util.tpl.ToCurrency(i);else i=nfec.util.tpl.toInput(i);else i=nfec.util.tpl.toCustomTrans(i);else i=nfec.util.tpl.ToTranslate(i);return"string"==typeof i&&0!==t.indexOf("snippet_")&&(i=i.replace(/{/g,"maStartK").replace(/}/g,"maStopK")),i};return s=s.replace(/{{{([^}]+)}}}/g,function(t,e){var n=getParam(e,params);return!n&&isNaN(n)?"":n}),s=s.replace(/{{ assign ([^\s]+) = ([^\s]+) }}/g,function(t,e,n){return!isNaN(n)||/^'.*'$/.test(n)?params[e]=n:params[e]=getRealParam(n,params),""}),s=s.replace(/{{ for ([^\s]+),([^\s]+) in ([^\s]+) include ([^\s]+) }}/g,function(t,e,n,i,o){var r=getParam(i,params);if(!r)return"";if(!Array.isArray(r))return"";for(var d="",a=0,c=r.length;a<c;a++){var f=jQuery.extend({},params);f[e]=a,f[n]=r[a],d+=nfec.util.tpl.RenderTpl(nfec.util.tpl.snippets[o],f,!0)}return d}),s=s.replace(/{{ include ([^\s]+) (with ([^\s]+) )?(plus ([^\s]+) as ([^\s]+) )?}}/g,function(t,e,n,i,o,r,d){var a=i?getRealParam(i,params):params;return r&&(a=jQuery.extend({},a),d&&(a[d]=getRealParam(r,params))),nfec.util.tpl.RenderTpl(nfec.util.tpl.snippets[e],a,!0)}),s=s.replace(/{{([^}]+)}}/g,function(t,e){var n=getParam(e,params);return!n&&isNaN(n)?"":n}),s=s.replace(/{_ if( [^}]+ )_}([0-9]+){_ endif _}/g,function(x,x1,x2){var sub=tpl.subs[parseInt(x2)],subs=sub.split("{_ else _}");x1=x1.replace(/ ([a-z_.0-9]+) /gi,function(t,e){return isNaN(e)&&("string"==typeof(e=getRealParam(e,params))&&(e='"'+(e=e.replace(/"/g," "))+'"'),e&&"object"==typeof e&&(e=!!Object.keys(e).length&&++dt)),e});var isTrue=!1;try{isTrue=eval(x1)}catch(t){isTrue=!0,console.log("eval",x1,t)}return isTrue?renderStr(subs[0],params):subs[1]?renderStr(subs[1],params):""}),s=s.replace(/{_ for ([^\s]+),([^\s]+) in ([^\s]+) _}([0-9]+){_ endfor _}/g,function(t,e,n,i,o){var r=getParam(i,params);if(!r)return"";if("object"!=typeof r)return"";var d,a="";for(d in r)if(r.hasOwnProperty(d)){var c=jQuery.extend({},params);c[e]=d,c[n]=r[d],a+=renderStr(tpl.subs[parseInt(o)],c)}return a}),s},output=renderStr(tpl.m,o_params);return isBulk||nfec.util.tpl.RunAfterRender(),output.replace(/maStartK/g,"{").replace(/maStopK/g,"}")},RenderTpls:function(t,e){for(var n="",i=0,o=e.length;i<o;i++)n+=nfec.util.tpl.RenderTpl(t,e[i],!0);return nfec.util.tpl.RunAfterRender(),n},AddBtnLoading:function(t){t.addClass("tdf_btn_loading").attr("disabled","disabled")},RemoveBtnLoading:function(t){t.removeClass("tdf_btn_loading").removeAttr("disabled")},AutoSlide:function(i,o,r,d,t){setTimeout(function(){d||(d="scrollLeft"==o?i.width():i.height());var t=t||.7,e={},n=parseInt(d/t);e[o]=d,i.animate(e,n,function(){r&&(e[o]=0,i.animate(e,n))})},300)},RunAfterRender:function(){var t=nfec.util.postRenderID;nfec.util.postRenderID&&clearTimeout(t),nfec.util.postRenderID=setTimeout(function(){jQuery(".tdfe").each(function(){var e=jQuery(this);if(!e.attr("tdfbinded")){e.attr("tdfbinded",1);var t=e.data("et")||"click",n="A"==e.prop("tagName");e.on(t,function(t){n&&t.preventDefault(),nfec.event_hub.Trigger(e.data("e"),{els:e,event:t})})}}),jQuery(".tdfe").addClass("no-transition").removeClass("tdfe");try{nfec.util.tpl.updateCurrency(),jQuery(document).trigger("tdf_render")}catch(t){console.log(t)}},300);try{nfec.util.tpl.updateCurrency();var e=window.ExemptifyTriggerUpdate;"function"==typeof e&&e()}catch(t){console.log(t)}},updateCurrency:function(){if(nfec.manager.currency.IsOn()||nfec.manager.currency.GetCartCurrency())nfec.sync.currency.Render(1);else{var t,e,n=nfec.manager.setting.GetCurrency();switch((e=window.Currency)&&"function"==typeof e.convertAll&&e.currentCurrency?1:(e=window.DoublyGlobalCurrency)&&"function"==typeof e.convertAll&&e.currentCurrency?2:!!((e=window.BOLDCURRENCY)&&e.currentCurrency&&e.converter&&"function"==typeof e.converter.convertAll)&&3){case 1:n!==(t=window.Currency).currentCurrency&&t.convertAll(n,t.currentCurrency);break;case 2:n!==(t=window.DoublyGlobalCurrency).currentCurrency&&t.convertAll(t.currentCurrency);break;case 3:n!==(t=window.BOLDCURRENCY).currentCurrency&&t.converter.convertAll(t.rateInfo,jQuery(".money"),n,t.currentCurrency)}}}},nfec.platform={},nfec.platform.base={},nfec.platform.base.cart_api={Get:function(t){},GetFirst:function(t){nfec.platform.current.cart_api.Get(t)},AddItem:function(t,e,n,i){},UpdateItems:function(t,e){},ReplaceItem:function(t,e,n){var i=[],o=nfec.manager.cart.Get(),r=o.findItemByVariant(e.product_id,e.variant_id);removedItem=o.findItemByVariant(t.product_id,t.variant_id),r||((r=new nfec.model.cart_item).product_id=e.product_id,r.variant_id=e.variant_id);var d=removedItem?removedItem.quantity:1;r.quantity+=d,removedItem&&(removedItem.quantity=0,i.push(removedItem)),i.push(r),nfec.platform.current.cart_api.UpdateItems(i,n,{_isreplace:1})},AddItems:function(t,e){for(var n,i,o=[],r={},d=nfec.manager.cart.Get(),a=0,c=t.length;a<c;a++)void 0===r[i=t[a].product_id+"_"+t[a].variant_id]?((n=d.findItemByVariant(t[a].product_id,t[a].variant_id))||((n=new nfec.model.cart_item).product_id=t[a].product_id,n.variant_id=t[a].variant_id),n.quantity+=t[a].quantity,o.push(n),r[i]=o.length-1):o[r[i]].quantity+=t[a].quantity;nfec.platform.current.cart_api.UpdateItems(o,e)}},nfec.platform.base.cart_handle={UpdateThemeCart:function(t){},IsAjaxAddProduct:function(t){},IsAjaxUpdateCart:function(t){}},nfec.platform.base.element={GetAddCartForms:function(){},GetCartForms:function(){},GetCartMiniIcon:function(){},GetCheckoutButton:function(){},GetImageSrcBySize:function(t,e){return t},CheckTheme:function(t){}},nfec.platform.base.page={IsInCheckout:function(t){return-1!=[5,7].indexOf(t)}},nfec.platform.base.product={GetByHandle:function(t,e){},GetUrl:function(t){}},nfec.platform.base.redirect={GoToCheckoutPage:function(){},GoToCartPage:function(){},GoToHomePage:function(){},GoToCollectionPage:function(){}},nfec.platform.shopify={},nfec.platform.shopify.cart_api={GetFirst:function(a){window.tdfEventHub.ListenToEvent("cart_data",function(t,e){var n=nfec.manager.setting.GetCurrency(),i=[];e.currency&&e.currency!=n&&(i.push(e.currency),i.push(n),nfec.manager.currency.NotDefault=1),i.length||nfec.manager.currency.DelCartCurrency();var o=0,r=function(){o===i.length&&(o&&(nfec.manager.currency.SetCartCurrency(e.currency),nfec.manager.currency.SetSelected(e.currency)),a(nfec.platform.shopify.cart_api.ConvertDataToCart(e)),nfec.platform.shopify.cart_api.fcur=e.currency)};r();for(var d=0;d<i.length;d++)nfec.manager.currency.Get(i[d],function(){o++,r()})},!0)},ConvertDataToCartItem:function(t,e){var n=new nfec.model.cart_item;if(n.id=t.id,n.properties=t.properties,n.variant_id=t.variant_id,n.variant_title=t.variant_title,n.title=t.title,n.image=t.image,n.quantity=parseInt(t.quantity),n.product_title=t.product_title||t.title,n.product_id=t.product_id,n.handle=t.handle,n.url=t.url,n.gift_card=t.gift_card,n.is_sub=!!t.selling_plan_allocation,n.is_bun=t.has_components,t.total_discount&&t.discounts&&t.discounts.length){var i=t.discounts[0].title;i&&-1==i.indexOf("SUM_")&&(n.t_discount=t.total_discount/100)}var o=t.price||t.original_price,r=Math.round(t.original_line_price/n.quantity);return 21*o<r&&(o=r),isNaN(o)&&(o=o.replace(/[^\d.]/g,""),o=Number(o)),o=nfec.manager.currency.ConvertCartToDefault(o,e),n.price=o/100,n.properties&&(n.properties._gift||"100% discount"==n.properties.gift)&&(n.is_gift=!0,n.key=t.key,n.gift_card&&(nfec.force_drmode=1)),n},ConvertDataToCart:function(t){"string"==typeof t&&(t=JSON.parse(t));var e=nfec.platform.shopify.cart_api.fcur;if(e&&t.currency&&t.currency!=e&&t.currency!=nfec.manager.setting.GetCurrency()&&!nfec.store.control.Get("rlo"))return nfec.store.control.Set("rlo","1",30,!0),void window.location.reload();var n,i=new nfec.model.cart;i.token=t.token,i.attributes=t.attributes||{},i.note=t.note||"",i.n_p=t.total_price/100,i.n_o_p=t.original_total_price/100;for(var o=0,r=t.items.length;o<r;o++)(n=nfec.platform.shopify.cart_api.ConvertDataToCartItem(t.items[o],t.currency)).is_gift?i.gifts.push(n):i.items.push(n);return i.attributes.ml_lang&&nfec.store._cookie.Set("checkout_locale",i.attributes.ml_lang,86400),i},Get:function(e){nfec.util.request.Run({url:nfec.main.PRo+"cart.js?v="+nfec.util.tool.GetSecond(),success:function(t){e(nfec.platform.shopify.cart_api.ConvertDataToCart(t),t)},error:function(){e(null)}})},AddItem:function(t,e,n,i){var o={id:t,quantity:e};i&&(o.properties=i),nfec.thm.bs&&(o.sections=nfec.thm.bs);var r=this;nfec.util.request.Run({method:"POST",url:nfec.main.PRo+"cart/add.js",dataType:"json",data:o,success:function(t){n&&n(r.ConvertDataToCartItem(t)),nfec.thm.bc&&nfec.thm.bc(t),"function"==typeof window.customTdfTrack&&window.customTdfTrack(t,e),nfec.sync.cart.CheckLastListen()},error:function(){n&&n(null)}})},updateProp:function(t,e,n){var i={url:nfec.main.PRo+"cart/change.js",method:"POST",dataType:"json",data:{line:t,properties:e},success:function(t){n&&n(nfec.platform.shopify.cart_api.ConvertDataToCart(t))},error:function(){n&&n(null)}};nfec.util.request.Run(i)},AddAttr:function(t){var e={url:nfec.main.PRo+"cart/update.js",method:"POST",dataType:"json",data:{attributes:t},success:function(){},error:function(){}};nfec.util.request.Run(e)},UpdateItems:function(y,v,t){for(var b={updates:{}},w=function(t,e){try{n=t,i=e,window.ShopifyAnalytics.lib.track("Added Product",function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}({variantId:n.id,productId:n.product_id,currency:window.ShopifyAnalytics.meta.currency,quantity:i,price:n.original_price/100,name:n.title,sku:n.sku,brand:n.vendor,variant:n.variant_title,category:n.product_type},(o={},window.ShopifyAnalytics.meta.page&&(o={pageType:window.ShopifyAnalytics.meta.page.pageType,resourceType:window.ShopifyAnalytics.meta.page.resourceType,resourceId:window.ShopifyAnalytics.meta.page.resourceId}),o))),"function"==typeof window.customTdfTrack&&window.customTdfTrack(t,e)}catch(t){console.log("Track",t)}var n,i,o},e=0,n=y.length;e<n;e++)b.updates[y[e].variant_id]=y[e].quantity;nfec.thm.bs&&(b.sections=nfec.thm.bs);var i={url:nfec.main.PRo+"cart/update.js",method:"POST",dataType:"json",data:b,success:function(t){var e=nfec.platform.shopify.element.GetAddCartForms(!0),n=nfec.platform.shopify.cart_api.ConvertDataToCart(t),i=function(){v&&v(n),nfec.thm.bc&&nfec.thm.bc(t)};nfec.sync.cart.CheckLastListen(1);for(var o=0;o<t.items.length;o++){var r=t.items[o];b.updates[r.variant_id]&&w(r,b.updates[r.variant_id])}var d=e.find('[name="id"],[name="id[]"]').first().val();if(d)if(d=parseInt(d)){for(var a,c,f=[],_=0,s=y.length;_<s;_++){var l=nfec.manager.product.FindByID(y[_].product_id);if(l){if(!window.tdf_merge_prop)if(-1==l.getVariantIDs().indexOf(d))continue;if(a=n.findItemIndex(y[_].product_id,y[_].variant_id),-1==f.indexOf(a)&&(f.push(a),!window.tdf_merge_prop))break}}if(f.length)if(c=n.items[f[0]]){var u=nfec.platform.shopify.element.GetItemProp(e);if(u){var p;for(var h in u)u.hasOwnProperty(h)&&(c.properties&&c.properties[h]||(p||(p={}),p[h]=u[h]));if(p){var m=0,g=function(){++m==f.length||9<m?i():nfec.platform.shopify.cart_api.updateProp(f[m]+1,p,g)};nfec.platform.shopify.cart_api.updateProp(f[m]+1,p,g)}else i()}else i()}else i();else i()}else i();else i()},error:function(){v&&v(null)}};t&&(i.xhrFields=t),nfec.util.request.Run(i)}},nfec.platform.shopify.cart_handle={UpdateThemeCart:function(a){if(setTimeout(function(){var t=".header__cart-count,.Header__CartCount,.header__cart__count,.cart-count-bubble>span";nfec.thm.cc&&(t+=","+nfec.thm.cc),jQuery(t).text(a.item_count),jQuery("#counter").attr("data-count",a.item_count)},700),a.item_count&&!nfec.thm.bs){var t=nfec.platform.shopify.element.GetCartForms(),e=(r=jQuery(t)).length;if(!e){var n=jQuery(".cartFlagX");n.length&&n.siblings().each(function(){(jQuery(this).find('*[data-tdf-cart-total="1"]').length||jQuery(this).find(".tdf-cart-total-flag").length)&&(r=jQuery(this),e++)})}var r,d=(r=r.first()).text();!function(){try{try{jQuery("body").trigger("added.ajaxProduct")}catch(t){}var t=function(t,e,n){e=e||{},(n?document:document.documentElement).dispatchEvent(new CustomEvent(t,e))};if(t("cart:refresh",{bubbles:!0}),t("cart:build",0,1),t("ajaxProduct:added",{detail:{}},1),t("apps:product-added-to-cart",0,1),t("product:added",{bubbles:!0,detail:{quantity:1}}),t("wetheme-toggle-right-drawer",{detail:{type:"cart",forceOpen:!0,params:{cart:a}}}),t("wetheme-cart-update",{detail:{cart:a}}),t("dispatch:cart-drawer:refresh",{bubbles:!0,detail:{}}),window.SLIDECART_UPDATE)return window.SLIDECART_UPDATE(function(){nfec.event_hub.Trigger("request_got_cart",{})});var e=window.cart;if("object"==typeof e&&"function"==typeof e.getCart&&e.getCart(),window.refreshCart&&window.refreshCart(a),window.buildCart&&window.buildCart(a,!0),window.ella&&ella.updateDropdownCart&&ella.updateDropdownCart(),window.theme&&theme.CartDrawer){var n=new theme.CartDrawer;n.init(),n.open()}if("object"==typeof(e=window.ajaxCart)&&"function"==typeof e.load&&e.load(),nfec.thm.cr&&nfec.thm.cr(a),"object"==typeof window.California){var i=nfec.platform.shopify.element.getAddCartForms(),o=jQuery(i+" a.submit.processing");o.length&&(o.prev("#addToCart").show(),o.remove())}if(!window.Shopify)return;if(nfec.platform.current.element.CheckTheme("ShowTime"))return;if(nfec.platform.current.element.CheckTheme("Narrative")){var r="ajax-cart__toggle";jQuery("a.site-header__cart."+r).removeClass(r)}if("function"==typeof Shopify.onSuccess&&Shopify.onSuccess(),"function"==typeof Shopify.updateSideCart&&Shopify.updateSideCart(),"function"==typeof Shopify.onCartUpdate||"function"==typeof Shopify.updateQuickCart){var d=window.alert;window.alert=console.log,"function"==typeof Shopify.onCartUpdate&&Shopify.onCartUpdate(a),"function"==typeof Shopify.updateQuickCart&&Shopify.updateQuickCart(a),window.alert=d}}catch(t){console.error(t)}}(),(nfec.thm.cl||-1!=window.location.href.indexOf("/cart"))&&nfec.event_hub.TriggerOnce("need_reload_page",{}),nfec.thm.cn||setTimeout(function(){if(!nfec.thm.t&&(r.text()==d&&e))return void nfec.event_hub.TriggerOnce("need_reload_page",{});var i=nfec.platform.shopify.element.GetCartMiniIcon(),o=jQuery(i).filter(function(){return jQuery(this).hasClass("tdf_cart_icon")}),t=!1;if(o.length&&(t=!0),t){nfec.util.request.Run({url:window.location.href,dataType:"html",success:function(t){var e,n=jQuery(t);(e=n.find(i)).length==o.length&&(e.each(function(t){try{var e=jQuery(o[t]);e.is(":visible")&&e.replaceWith(jQuery(this))}catch(t){console.error(t)}}),jQuery(i).addClass("tdf_cart_icon"),nfec.event_hub.Trigger("change_cartico",{}))}})}},1e3)}},IsAjaxAddProduct:function(t){if(-1==t.location.pathname.indexOf("cart/add"))return!1;var e=t.responseJSON||t.responseText||{};if("string"==typeof e&&(e=JSON.parse(e)),!e.variant_id){if(!e.items||!e.items.length)return;e=e.items[0]}var n=nfec.platform.shopify.cart_api.ConvertDataToCartItem(e);return n.quantity_changed=t.data.quantity?t.data.quantity:1,{item:n}},IsAjaxUpdateCart:function(t){var e=t.location.pathname;if(-1==e.indexOf("cart"))return!1;if("POST"!=t.method&&-1==e.indexOf("cart/change")&&-1==e.indexOf("cart/update"))return!1;var n=t.responseJSON||t.responseText||{};if("string"==typeof n)try{n=JSON.parse(n)}catch(t){return!1}return!!n.items&&{cart:nfec.platform.shopify.cart_api.ConvertDataToCart(n),cartraw:n}},IsAjaxGetCart:function(t){return(-1!=t.location.pathname.indexOf("cart.js")||-1!=t.location.href.indexOf("/cart?view="))&&{}}},nfec.platform.shopify.product={ConvertDataToProduct:function(t){var e,n,i,o,r,d;(e=nfec.util.tool.DataToObject(nfec.model.product,t)).variants=[],n=t,e.images=[];for(var a=0,c=n.images.length;a<c;a++)o=n.images[a],r=nfec.util.tool.DataToObject(nfec.model.product_image,o),e.images.push(r);e.image=nfec.util.tool.DataToObject(nfec.model.product_image,e.image);var f=nfec.manager.currency.ShopifyCurrency(),_=function(t){return t?(t=parseFloat(t),nfec.manager.currency.IsMarketOn()?nfec.manager.currency.Convert(f,nfec.manager.setting.GetCurrency(),t):t):0};for(a=0,c=n.variants.length;a<c;a++)o=n.variants[a],(i=nfec.util.tool.DataToObject(nfec.model.variant,o)).price=_(i.price),i.compare_at_price=_(i.compare_at_price),i.image=e.getImageByID(i.image_id),e.variants.push(i);e.options=[];for(a=0,c=n.options.length;a<c;a++)o=n.options[a],d=nfec.util.tool.DataToObject(nfec.model.product_option,o),e.options.push(d);return e.source="api",e},GetByHandle:function(t,e){nfec.util.request.Run({url:nfec.main.PRo+"products/"+t+".json",success:function(t){e(nfec.platform.shopify.product.ConvertDataToProduct(t.product))},error:function(){e(null)}})},GetUrl:function(t){return nfec.main.PRo+"products/"+t},GetHandleFromURL:function(t){if(-1==t.indexOf("/cdn/")){var e=nfec.util.tool.GetLocation(t).pathname.split("/products/");return 2==e.length?decodeURIComponent(e[1]):null}},GetHandleFromHref:function(t){if(!t)return"";var e=t.split("/");return e=(e=e[e.length-1].split("?"))[0].split("#"),decodeURIComponent(e[0])}},nfec.platform.shopify.page={Detect:function(){var t=0,e={};if(window.__st&&window.__st.p)switch(window.__st.p){case"home":t=nfec.consta.PageTypeHome;break;case"product":t=nfec.consta.PageTypeProduct,e={id:parseInt(window.__st.rid)};break;case"collection":case"collections":t=nfec.consta.PageTypeCollection,e={id:window.__st.rid};break;case"cart":t=nfec.consta.PageTypeCart}else window.__st&&"checkout"==window.__st.t?(t=-1!==window.location.pathname.indexOf("thank_you")||jQuery("html").hasClass("page--thank-you")?nfec.consta.PageTypePostCheckout:-1===window.location.search.indexOf("previous_step")?nfec.consta.PageTypeCheckout:nfec.consta.PageTypeProcessCheckout,e.isInCheckout=!0):/\/cart([^a-zA-Z0-9]|$)/.test(window.location.pathname)?t=nfec.consta.PageTypeCart:"/"===window.location.pathname&&(t=nfec.consta.PageTypeHome);return{type:t,payload:e}}},nfec.platform.shopify.element={GetAddCartForms:function(t){var e=jQuery('form[action*="/cart/add"]:not(.ssw-hide,.formignore)'),n=jQuery(),i=-1;return e.each(function(){var t=jQuery(this);if(!t.closest(".owl-item,#cart_form_sticky,.mega-menu,#cart-form-sticky,.sidebar-block,#quick-view,.sticky_form").length){var e=0;t.is(":visible")&&!t.is(":hidden")&&t.height()&&"0"!=t.css("opacity")||(e+=-1),t.find('[name="id"],[name="id[]"]').length&&(e+=3),e<i||e==i&&t.height()<=n.height()||(i=e,n=t)}}),n},GetCartForms:function(){var t=nfec.thm.cf||"";return t&&(t=","+t),'form[action$="/cart"],form[action="/checkout"],form[action*="/cart?"],form[action*="/checkout?"],.tdf-custom-cart'+t},GetCartFormDom:function(t){var e=jQuery(nfec.platform.shopify.element.GetCartForms()),n=jQuery(),i=-2;return e.length||(e=jQuery('form[action="/a/dropicheckout"]')),e.each(function(){var t=jQuery(this),e=0;t.is(":visible")&&!t.is(":hidden")&&t.height()&&"0"!=t.css("opacity")||(e+=-1),t.find('[name="updates[]"],a[href^="/cart/change"]').length&&(e+=2),e<i||e==i&&t.height()<=n.height()||(i=e,n=t)}),n},GetCartMiniIcon:function(){var t=nfec.thm.ci||"";return t&&(t+=","),t+'a[href$="/cart"],a[href="#cart"],.cart-icon .count,.total_count_ajax'},GetCheckoutButton:function(){return'button[name="checkout"],button[name="Checkout"],input[name="checkout"],form[action^="/checkout"] [type="submit"], .bk-cart-checkout,[href^="/checkout"],button[value="Checkout"],input[value="Checkout"],[name="goto_pp"],.sezzle-checkout-button,.rebuy-cart__checkout-button,.button-checkout'},GetImageSrcBySize:function(t,e){if(!t)return"https://cdn.shopify.com/s/images/admin/no-image-large.gif";var n="https://cdn.shopify.com/";0!==t.indexOf("https://")&&(t=n+t),"master"===e&&(e="");var i=t.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(null!==i){var o=t.split(i[0]);o.pop(),n=o.join(i[0]);var r=i[0];return e?n+"_"+e+r:n+r}return t},GetItemProp:function(t){for(var e,n="properties[",i=t.serializeArray(),o=0;o<i.length;o++){if(i[o].value)if(0===i[o].name.indexOf(n))e||(e={}),e[i[o].name.slice(n.length,i[o].name.length-1)+""]=i[o].value+""}return e},CheckTheme:function(t){var e="";return window.BOOMR&&(e=window.BOOMR.themeName),!(!e||-1==e.indexOf(t))||(window.Shopify&&Shopify.theme&&(e=Shopify.theme.name),!(!e||-1==e.indexOf(t)))}},nfec.platform.shopify.redirect={GoToCheckoutPage:function(t){if(!t){var e="tdf-virtual-ck-btn",n=nfec.platform.current.element.GetCartForms(),i=jQuery(n);if(i.length){var o=!1;if(i.each(function(){if(!o){var t=jQuery(this);if(t.find(".tdf-cart-total-flag,.tdf-cart-total-parent").length)if(t.height())if(o=!0,setTimeout(function(){nfec.platform.shopify.redirect.GoToCheckoutPage(!0)},4e3),"FORM"==t.prop("tagName"))if(window.ZapTree)t.trigger("submit");else t.append('<button type="submit" name="checkout" style="display:none" class="'+e+'"></button>'),jQuery("."+e).trigger("click")}}),o)return}}var r=[],d=nfec.manager.coupon.Get();d&&r.push("discount="+d);var a="checkout";r.length&&(a+="?"+r.join("&")),nfec.util.tool.Redirect(nfec.main.PRo+a)},GoToCartPage:function(){nfec.util.tool.Redirect(nfec.main.PRo+"cart")},GoToHomePage:function(){nfec.util.tool.Redirect(nfec.main.PRo)},GoToCollectionPage:function(){nfec.util.tool.Redirect(nfec.main.PRo+"collections/all?sort_by=best-selling")},GoToProductPage:function(t,e){e&&(t+="?variant="+e),nfec.util.tool.Redirect(nfec.main.PRo+"products/"+t)}},nfec.main&&nfec.main.Init&&nfec.main.Init(),tdfEventHub.ListenToEvent("jsloaded_nfec",function(t,e){nfec.nfec=e()},!0),tdfEventHub.ListenToEvent("core_ready",function(){nfec.nfec.main.AddStyle('@-webkit-keyframes slideIn{from{bottom:-300px;opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}to{bottom:0;opacity:1;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100)}}@-moz-keyframes slideIn{from{bottom:-300px;opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}to{bottom:0;opacity:1;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100)}}@-ms-keyframes slideIn{from{bottom:-300px;opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}to{bottom:0;opacity:1;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100)}}@keyframes slideIn{from{bottom:-300px;opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}to{bottom:0;opacity:1;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100)}}@-webkit-keyframes fadeIn{from{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}to{opacity:1;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100)}}@-moz-keyframes fadeIn{from{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}to{opacity:1;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100)}}@-ms-keyframes fadeIn{from{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}to{opacity:1;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100)}}@keyframes fadeIn{from{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}to{opacity:1;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100)}}@-webkit-keyframes sk-scaleout{0%{-webkit-transform:scale(0)}100%{-webkit-transform:scale(1);opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}}@keyframes sk-scaleout{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1);opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}}#tdf_currency.tdf_container *,#tdf_currency.tdf_container *:before,#tdf_currency.tdf_container *:after,#tdf_bar.tdf_container *,#tdf_bar.tdf_container *:before,#tdf_bar.tdf_container *:after,#tdf_notify.tdf_container *,#tdf_notify.tdf_container *:before,#tdf_notify.tdf_container *:after,#tdf_upsell.tdf_container *,#tdf_upsell.tdf_container *:before,#tdf_upsell.tdf_container *:after,#tdf_notifies.tdf_container *,#tdf_notifies.tdf_container *:before,#tdf_notifies.tdf_container *:after,#tdf_modal.tdf_container *,#tdf_modal.tdf_container *:before,#tdf_modal.tdf_container *:after,.tdf_bundle.tdf_container *,.tdf_bundle.tdf_container *:before,.tdf_bundle.tdf_container *:after,#tdf_psale.tdf_container *,#tdf_psale.tdf_container *:before,#tdf_psale.tdf_container *:after,.tdf_rec_stable_2.tdf_rec *,.tdf_rec_stable_2.tdf_rec *:before,.tdf_rec_stable_2.tdf_rec *:after,#tdf_discount_widget.tdf_container *,#tdf_discount_widget.tdf_container *:before,#tdf_discount_widget.tdf_container *:after,#tdf_discount_box.tdf_container *,#tdf_discount_box.tdf_container *:before,#tdf_discount_box.tdf_container *:after,#tdf_quickview [class^="tdf"]{-webkit-overflow-scrolling:touch;min-height:initial;min-width:initial;max-height:initial;max-width:initial;line-height:initial;height:initial;width:initial;background:initial;background-color:initial;background-image:initial;background-position:initial;background-repeat:initial;border-color:initial;border-style:initial;border-width:initial;opacity:initial;quotes:initial;font-weight:initial;font-size:initial;list-style:initial;list-style-image:initial;list-style-position:initial;list-style-type:initial;position:initial;top:initial;right:initial;bottom:initial;left:initial;right:initial;float:initial;z-index:initial;overflow:initial;visibility:initial;text-indent:initial;padding:0;margin:0;outline:none;border:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}#tdf_currency.tdf_container a,#tdf_bar.tdf_container a,#tdf_notify.tdf_container a,#tdf_upsell.tdf_container a,#tdf_notifies.tdf_container a,#tdf_modal.tdf_container a,.tdf_bundle.tdf_container a,#tdf_psale.tdf_container a,.tdf_rec_stable_2.tdf_rec a,#tdf_discount_widget.tdf_container a,#tdf_discount_box.tdf_container a,#tdf_quickview [class^="tdf"] a{cursor:pointer}#tdf_currency.tdf_container button,#tdf_bar.tdf_container button,#tdf_notify.tdf_container button,#tdf_upsell.tdf_container button,#tdf_notifies.tdf_container button,#tdf_modal.tdf_container button,.tdf_bundle.tdf_container button,#tdf_psale.tdf_container button,.tdf_rec_stable_2.tdf_rec button,#tdf_discount_widget.tdf_container button,#tdf_discount_box.tdf_container button,#tdf_quickview [class^="tdf"] button{padding:8px 13px;font-size:16px;line-height:20px;width:100%;color:#fffffe;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;cursor:pointer}#tdf_currency.tdf_container strong,#tdf_bar.tdf_container strong,#tdf_notify.tdf_container strong,#tdf_upsell.tdf_container strong,#tdf_notifies.tdf_container strong,#tdf_modal.tdf_container strong,.tdf_bundle.tdf_container strong,#tdf_psale.tdf_container strong,.tdf_rec_stable_2.tdf_rec strong,#tdf_discount_widget.tdf_container strong,#tdf_discount_box.tdf_container strong,#tdf_quickview [class^="tdf"] strong{font-weight:400}#tdf_currency.tdf_container h2,#tdf_bar.tdf_container h2,#tdf_notify.tdf_container h2,#tdf_upsell.tdf_container h2,#tdf_notifies.tdf_container h2,#tdf_modal.tdf_container h2,.tdf_bundle.tdf_container h2,#tdf_psale.tdf_container h2,.tdf_rec_stable_2.tdf_rec h2,#tdf_discount_widget.tdf_container h2,#tdf_discount_box.tdf_container h2,#tdf_quickview [class^="tdf"] h2{font-size:16px}#tdf_currency.tdf_container h3,#tdf_bar.tdf_container h3,#tdf_notify.tdf_container h3,#tdf_upsell.tdf_container h3,#tdf_notifies.tdf_container h3,#tdf_modal.tdf_container h3,.tdf_bundle.tdf_container h3,#tdf_psale.tdf_container h3,.tdf_rec_stable_2.tdf_rec h3,#tdf_discount_widget.tdf_container h3,#tdf_discount_box.tdf_container h3,#tdf_quickview [class^="tdf"] h3{font-size:13px}#tdf_currency.tdf_container h4,#tdf_bar.tdf_container h4,#tdf_notify.tdf_container h4,#tdf_upsell.tdf_container h4,#tdf_notifies.tdf_container h4,#tdf_modal.tdf_container h4,.tdf_bundle.tdf_container h4,#tdf_psale.tdf_container h4,.tdf_rec_stable_2.tdf_rec h4,#tdf_discount_widget.tdf_container h4,#tdf_discount_box.tdf_container h4,#tdf_quickview [class^="tdf"] h4{font-weight:500;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:normal;word-wrap:break-word;max-height:52px;text-transform:none;font-size:13px}@media screen and (min-width: 768px){#tdf_currency.tdf_container h4,#tdf_bar.tdf_container h4,#tdf_notify.tdf_container h4,#tdf_upsell.tdf_container h4,#tdf_notifies.tdf_container h4,#tdf_modal.tdf_container h4,.tdf_bundle.tdf_container h4,#tdf_psale.tdf_container h4,.tdf_rec_stable_2.tdf_rec h4,#tdf_discount_widget.tdf_container h4,#tdf_discount_box.tdf_container h4,#tdf_quickview [class^="tdf"] h4{font-size:18px}#tdf_currency.tdf_container h3,#tdf_bar.tdf_container h3,#tdf_notify.tdf_container h3,#tdf_upsell.tdf_container h3,#tdf_notifies.tdf_container h3,#tdf_modal.tdf_container h3,.tdf_bundle.tdf_container h3,#tdf_psale.tdf_container h3,.tdf_rec_stable_2.tdf_rec h3,#tdf_discount_widget.tdf_container h3,#tdf_discount_box.tdf_container h3,#tdf_quickview [class^="tdf"] h3{font-size:18px}#tdf_currency.tdf_container button,#tdf_bar.tdf_container button,#tdf_notify.tdf_container button,#tdf_upsell.tdf_container button,#tdf_notifies.tdf_container button,#tdf_modal.tdf_container button,.tdf_bundle.tdf_container button,#tdf_psale.tdf_container button,.tdf_rec_stable_2.tdf_rec button,#tdf_discount_widget.tdf_container button,#tdf_discount_box.tdf_container button,#tdf_quickview [class^="tdf"] button{font-size:18px}}@media screen and (min-width: 1441px){#tdf_currency.tdf_container h4,#tdf_bar.tdf_container h4,#tdf_notify.tdf_container h4,#tdf_upsell.tdf_container h4,#tdf_notifies.tdf_container h4,#tdf_modal.tdf_container h4,.tdf_bundle.tdf_container h4,#tdf_psale.tdf_container h4,.tdf_rec_stable_2.tdf_rec h4,#tdf_discount_widget.tdf_container h4,#tdf_discount_box.tdf_container h4,#tdf_quickview [class^="tdf"] h4{max-height:60px}}#tdf_currency.tdf_container *,#tdf_currency.tdf_container *:before,#tdf_currency.tdf_container *:after,#tdf_bar.tdf_container *,#tdf_bar.tdf_container *:before,#tdf_bar.tdf_container *:after,#tdf_notify.tdf_container *,#tdf_notify.tdf_container *:before,#tdf_notify.tdf_container *:after,#tdf_upsell.tdf_container *,#tdf_upsell.tdf_container *:before,#tdf_upsell.tdf_container *:after,#tdf_notifies.tdf_container *,#tdf_notifies.tdf_container *:before,#tdf_notifies.tdf_container *:after,#tdf_modal.tdf_container *,#tdf_modal.tdf_container *:before,#tdf_modal.tdf_container *:after{color:#212B36}.tdf_bundle.tdf_container *,.tdf_bundle.tdf_container *:before,.tdf_bundle.tdf_container *:after,#tdf_psale.tdf_container *,#tdf_psale.tdf_container *:before,#tdf_psale.tdf_container *:after,.tdf_rec_stable_2.tdf_rec *,.tdf_rec_stable_2.tdf_rec *:before,.tdf_rec_stable_2.tdf_rec *:after,#tdf_discount_widget.tdf_container *,#tdf_discount_widget.tdf_container *:before,#tdf_discount_widget.tdf_container *:after,#tdf_discount_box.tdf_container *,#tdf_discount_box.tdf_container *:before,#tdf_discount_box.tdf_container *:after{color:#212B35}#tdf_quickview [class^="tdf"]{color:#212B36}.tdf_disable_scroll{overflow:hidden !important}.tdf_disable_scroll #offcanvas-cart{display:none !important}.tdf_money{white-space:nowrap}#satcb_bar .tdf_select_input{display:none !important}#tdf_currency.tdf_container .tdf_hidden,#tdf_bar.tdf_container .tdf_hidden,#tdf_wholesale.tdf_container .tdf_hidden,#tdf_modal.tdf_container .tdf_hidden,#tdf_notify.tdf_container .tdf_hidden,#tdf_upsell.tdf_container .tdf_hidden,.tdf_bundle.tdf_container .tdf_hidden,#tdf_quickview.tdf_container .tdf_hidden,#tdf_sale_widget.tdf_container .tdf_hidden,#tdf_discount_widget.tdf_container .tdf_hidden,.tdf_rec_stable_2.tdf_rec .tdf_hidden,#tdf_psale.tdf_container .tdf_hidden{display:none}#tdf_currency.tdf_container .tdf_dialog_modal,#tdf_bar.tdf_container .tdf_dialog_modal,#tdf_wholesale.tdf_container .tdf_dialog_modal,#tdf_modal.tdf_container .tdf_dialog_modal,#tdf_notify.tdf_container .tdf_dialog_modal,#tdf_upsell.tdf_container .tdf_dialog_modal,.tdf_bundle.tdf_container .tdf_dialog_modal,#tdf_quickview.tdf_container .tdf_dialog_modal,#tdf_sale_widget.tdf_container .tdf_dialog_modal,#tdf_discount_widget.tdf_container .tdf_dialog_modal,.tdf_rec_stable_2.tdf_rec .tdf_dialog_modal,#tdf_psale.tdf_container .tdf_dialog_modal{min-height:100%;position:fixed;width:100%;height:100%;top:0;left:0;z-index:999999989;overflow-y:scroll;text-align:center;background-image:url(S_PATH/fe/nfec/img/background_bg.png)}#tdf_currency.tdf_container .tdf_dialog_qv,#tdf_currency.tdf_container .tdf_dialog_content,#tdf_bar.tdf_container .tdf_dialog_qv,#tdf_bar.tdf_container .tdf_dialog_content,#tdf_wholesale.tdf_container .tdf_dialog_qv,#tdf_wholesale.tdf_container .tdf_dialog_content,#tdf_modal.tdf_container .tdf_dialog_qv,#tdf_modal.tdf_container .tdf_dialog_content,#tdf_notify.tdf_container .tdf_dialog_qv,#tdf_notify.tdf_container .tdf_dialog_content,#tdf_upsell.tdf_container .tdf_dialog_qv,#tdf_upsell.tdf_container .tdf_dialog_content,.tdf_bundle.tdf_container .tdf_dialog_qv,.tdf_bundle.tdf_container .tdf_dialog_content,#tdf_quickview.tdf_container .tdf_dialog_qv,#tdf_quickview.tdf_container .tdf_dialog_content,#tdf_sale_widget.tdf_container .tdf_dialog_qv,#tdf_sale_widget.tdf_container .tdf_dialog_content,#tdf_discount_widget.tdf_container .tdf_dialog_qv,#tdf_discount_widget.tdf_container .tdf_dialog_content,.tdf_rec_stable_2.tdf_rec .tdf_dialog_qv,.tdf_rec_stable_2.tdf_rec .tdf_dialog_content,#tdf_psale.tdf_container .tdf_dialog_qv,#tdf_psale.tdf_container .tdf_dialog_content{background:#fffefe;width:100%;position:relative;top:36px}#tdf_currency.tdf_container .tdf_close_btn,#tdf_bar.tdf_container .tdf_close_btn,#tdf_wholesale.tdf_container .tdf_close_btn,#tdf_modal.tdf_container .tdf_close_btn,#tdf_notify.tdf_container .tdf_close_btn,#tdf_upsell.tdf_container .tdf_close_btn,.tdf_bundle.tdf_container .tdf_close_btn,#tdf_quickview.tdf_container .tdf_close_btn,#tdf_sale_widget.tdf_container .tdf_close_btn,#tdf_discount_widget.tdf_container .tdf_close_btn,.tdf_rec_stable_2.tdf_rec .tdf_close_btn,#tdf_psale.tdf_container .tdf_close_btn{background-position:center;background-image:url(S_PATH/fe/nfec/img/close-mini-1.png);background-size:contain;background-repeat:no-repeat;display:inline-block;height:16px;width:16px;opacity:.6;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";filter:alpha(opacity=60);position:absolute;right:10px;top:10px;z-index:2147483647;bottom:100%;cursor:pointer}#tdf_currency.tdf_container .tdf_normal_btn,#tdf_bar.tdf_container .tdf_normal_btn,#tdf_wholesale.tdf_container .tdf_normal_btn,#tdf_modal.tdf_container .tdf_normal_btn,#tdf_notify.tdf_container .tdf_normal_btn,#tdf_upsell.tdf_container .tdf_normal_btn,.tdf_bundle.tdf_container .tdf_normal_btn,#tdf_quickview.tdf_container .tdf_normal_btn,#tdf_sale_widget.tdf_container .tdf_normal_btn,#tdf_discount_widget.tdf_container .tdf_normal_btn,.tdf_rec_stable_2.tdf_rec .tdf_normal_btn,#tdf_psale.tdf_container .tdf_normal_btn{background-color:#4267b2;border:none}#tdf_currency.tdf_container .tdf_cta_btn.tdf_inactive_checkout,#tdf_bar.tdf_container .tdf_cta_btn.tdf_inactive_checkout,#tdf_wholesale.tdf_container .tdf_cta_btn.tdf_inactive_checkout,#tdf_modal.tdf_container .tdf_cta_btn.tdf_inactive_checkout,#tdf_notify.tdf_container .tdf_cta_btn.tdf_inactive_checkout,#tdf_upsell.tdf_container .tdf_cta_btn.tdf_inactive_checkout,.tdf_bundle.tdf_container .tdf_cta_btn.tdf_inactive_checkout,#tdf_quickview.tdf_container .tdf_cta_btn.tdf_inactive_checkout,#tdf_sale_widget.tdf_container .tdf_cta_btn.tdf_inactive_checkout,#tdf_discount_widget.tdf_container .tdf_cta_btn.tdf_inactive_checkout,.tdf_rec_stable_2.tdf_rec .tdf_cta_btn.tdf_inactive_checkout,#tdf_psale.tdf_container .tdf_cta_btn.tdf_inactive_checkout{background-color:#d4d6e7;color:#637387}#tdf_currency.tdf_container .tdf_cta_btn.unavailable,#tdf_currency.tdf_container .tdf_normal_btn.unavailable,#tdf_bar.tdf_container .tdf_cta_btn.unavailable,#tdf_bar.tdf_container .tdf_normal_btn.unavailable,#tdf_wholesale.tdf_container .tdf_cta_btn.unavailable,#tdf_wholesale.tdf_container .tdf_normal_btn.unavailable,#tdf_modal.tdf_container .tdf_cta_btn.unavailable,#tdf_modal.tdf_container .tdf_normal_btn.unavailable,#tdf_notify.tdf_container .tdf_cta_btn.unavailable,#tdf_notify.tdf_container .tdf_normal_btn.unavailable,#tdf_upsell.tdf_container .tdf_cta_btn.unavailable,#tdf_upsell.tdf_container .tdf_normal_btn.unavailable,.tdf_bundle.tdf_container .tdf_cta_btn.unavailable,.tdf_bundle.tdf_container .tdf_normal_btn.unavailable,#tdf_quickview.tdf_container .tdf_cta_btn.unavailable,#tdf_quickview.tdf_container .tdf_normal_btn.unavailable,#tdf_sale_widget.tdf_container .tdf_cta_btn.unavailable,#tdf_sale_widget.tdf_container .tdf_normal_btn.unavailable,#tdf_discount_widget.tdf_container .tdf_cta_btn.unavailable,#tdf_discount_widget.tdf_container .tdf_normal_btn.unavailable,.tdf_rec_stable_2.tdf_rec .tdf_cta_btn.unavailable,.tdf_rec_stable_2.tdf_rec .tdf_normal_btn.unavailable,#tdf_psale.tdf_container .tdf_cta_btn.unavailable,#tdf_psale.tdf_container .tdf_normal_btn.unavailable{background-color:#d4d6e4;color:#637383}#tdf_currency.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,#tdf_currency.tdf_container .tdf_cta_btn:hover,#tdf_currency.tdf_container .tdf_cta_btn.unavailable:hover,#tdf_currency.tdf_container .tdf_normal_btn.unavailable:hover,#tdf_currency.tdf_container .tdf_normal_btn:hover,#tdf_bar.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,#tdf_bar.tdf_container .tdf_cta_btn:hover,#tdf_bar.tdf_container .tdf_cta_btn.unavailable:hover,#tdf_bar.tdf_container .tdf_normal_btn.unavailable:hover,#tdf_bar.tdf_container .tdf_normal_btn:hover,#tdf_wholesale.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,#tdf_wholesale.tdf_container .tdf_cta_btn:hover,#tdf_wholesale.tdf_container .tdf_cta_btn.unavailable:hover,#tdf_wholesale.tdf_container .tdf_normal_btn.unavailable:hover,#tdf_wholesale.tdf_container .tdf_normal_btn:hover,#tdf_modal.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,#tdf_modal.tdf_container .tdf_cta_btn:hover,#tdf_modal.tdf_container .tdf_cta_btn.unavailable:hover,#tdf_modal.tdf_container .tdf_normal_btn.unavailable:hover,#tdf_modal.tdf_container .tdf_normal_btn:hover,#tdf_notify.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,#tdf_notify.tdf_container .tdf_cta_btn:hover,#tdf_notify.tdf_container .tdf_cta_btn.unavailable:hover,#tdf_notify.tdf_container .tdf_normal_btn.unavailable:hover,#tdf_notify.tdf_container .tdf_normal_btn:hover,#tdf_upsell.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,#tdf_upsell.tdf_container .tdf_cta_btn:hover,#tdf_upsell.tdf_container .tdf_cta_btn.unavailable:hover,#tdf_upsell.tdf_container .tdf_normal_btn.unavailable:hover,#tdf_upsell.tdf_container .tdf_normal_btn:hover,.tdf_bundle.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,.tdf_bundle.tdf_container .tdf_cta_btn:hover,.tdf_bundle.tdf_container .tdf_cta_btn.unavailable:hover,.tdf_bundle.tdf_container .tdf_normal_btn.unavailable:hover,.tdf_bundle.tdf_container .tdf_normal_btn:hover,#tdf_quickview.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,#tdf_quickview.tdf_container .tdf_cta_btn:hover,#tdf_quickview.tdf_container .tdf_cta_btn.unavailable:hover,#tdf_quickview.tdf_container .tdf_normal_btn.unavailable:hover,#tdf_quickview.tdf_container .tdf_normal_btn:hover,#tdf_sale_widget.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,#tdf_sale_widget.tdf_container .tdf_cta_btn:hover,#tdf_sale_widget.tdf_container .tdf_cta_btn.unavailable:hover,#tdf_sale_widget.tdf_container .tdf_normal_btn.unavailable:hover,#tdf_sale_widget.tdf_container .tdf_normal_btn:hover,#tdf_discount_widget.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,#tdf_discount_widget.tdf_container .tdf_cta_btn:hover,#tdf_discount_widget.tdf_container .tdf_cta_btn.unavailable:hover,#tdf_discount_widget.tdf_container .tdf_normal_btn.unavailable:hover,#tdf_discount_widget.tdf_container .tdf_normal_btn:hover,.tdf_rec_stable_2.tdf_rec .tdf_cta_btn.tdf_inactive_checkout:hover,.tdf_rec_stable_2.tdf_rec .tdf_cta_btn:hover,.tdf_rec_stable_2.tdf_rec .tdf_cta_btn.unavailable:hover,.tdf_rec_stable_2.tdf_rec .tdf_normal_btn.unavailable:hover,.tdf_rec_stable_2.tdf_rec .tdf_normal_btn:hover,#tdf_psale.tdf_container .tdf_cta_btn.tdf_inactive_checkout:hover,#tdf_psale.tdf_container .tdf_cta_btn:hover,#tdf_psale.tdf_container .tdf_cta_btn.unavailable:hover,#tdf_psale.tdf_container .tdf_normal_btn.unavailable:hover,#tdf_psale.tdf_container .tdf_normal_btn:hover{opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80)}#tdf_currency.tdf_container .tdf_cta_btn,#tdf_bar.tdf_container .tdf_cta_btn,#tdf_wholesale.tdf_container .tdf_cta_btn,#tdf_modal.tdf_container .tdf_cta_btn,#tdf_notify.tdf_container .tdf_cta_btn,#tdf_upsell.tdf_container .tdf_cta_btn,.tdf_bundle.tdf_container .tdf_cta_btn,#tdf_quickview.tdf_container .tdf_cta_btn,#tdf_sale_widget.tdf_container .tdf_cta_btn,#tdf_discount_widget.tdf_container .tdf_cta_btn,.tdf_rec_stable_2.tdf_rec .tdf_cta_btn,#tdf_psale.tdf_container .tdf_cta_btn{background-color:#61bd4f;color:#fffffb}#tdf_currency.tdf_container .tdf_popup_overlay,#tdf_bar.tdf_container .tdf_popup_overlay,#tdf_wholesale.tdf_container .tdf_popup_overlay,#tdf_modal.tdf_container .tdf_popup_overlay,#tdf_notify.tdf_container .tdf_popup_overlay,#tdf_upsell.tdf_container .tdf_popup_overlay,.tdf_bundle.tdf_container .tdf_popup_overlay,#tdf_quickview.tdf_container .tdf_popup_overlay,#tdf_sale_widget.tdf_container .tdf_popup_overlay,#tdf_discount_widget.tdf_container .tdf_popup_overlay,.tdf_rec_stable_2.tdf_rec .tdf_popup_overlay,#tdf_psale.tdf_container .tdf_popup_overlay{position:fixed;top:0;bottom:0;right:0;left:0;background:#000;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80)}#tdf_currency.tdf_container .tdf_link_view_cart,#tdf_bar.tdf_container .tdf_link_view_cart,#tdf_wholesale.tdf_container .tdf_link_view_cart,#tdf_modal.tdf_container .tdf_link_view_cart,#tdf_notify.tdf_container .tdf_link_view_cart,#tdf_upsell.tdf_container .tdf_link_view_cart,.tdf_bundle.tdf_container .tdf_link_view_cart,#tdf_quickview.tdf_container .tdf_link_view_cart,#tdf_sale_widget.tdf_container .tdf_link_view_cart,#tdf_discount_widget.tdf_container .tdf_link_view_cart,.tdf_rec_stable_2.tdf_rec .tdf_link_view_cart,#tdf_psale.tdf_container .tdf_link_view_cart{color:#4267b2;text-decoration:none}#tdf_currency.tdf_container .tdf_link_view_cart:hover,#tdf_bar.tdf_container .tdf_link_view_cart:hover,#tdf_wholesale.tdf_container .tdf_link_view_cart:hover,#tdf_modal.tdf_container .tdf_link_view_cart:hover,#tdf_notify.tdf_container .tdf_link_view_cart:hover,#tdf_upsell.tdf_container .tdf_link_view_cart:hover,.tdf_bundle.tdf_container .tdf_link_view_cart:hover,#tdf_quickview.tdf_container .tdf_link_view_cart:hover,#tdf_sale_widget.tdf_container .tdf_link_view_cart:hover,#tdf_discount_widget.tdf_container .tdf_link_view_cart:hover,.tdf_rec_stable_2.tdf_rec .tdf_link_view_cart:hover,#tdf_psale.tdf_container .tdf_link_view_cart:hover{text-decoration:underline}#tdf_currency.tdf_container .tdf_select_box,#tdf_bar.tdf_container .tdf_select_box,#tdf_wholesale.tdf_container .tdf_select_box,#tdf_modal.tdf_container .tdf_select_box,#tdf_notify.tdf_container .tdf_select_box,#tdf_upsell.tdf_container .tdf_select_box,.tdf_bundle.tdf_container .tdf_select_box,#tdf_quickview.tdf_container .tdf_select_box,#tdf_sale_widget.tdf_container .tdf_select_box,#tdf_discount_widget.tdf_container .tdf_select_box,.tdf_rec_stable_2.tdf_rec .tdf_select_box,#tdf_psale.tdf_container .tdf_select_box{position:relative;width:100%;margin:0 0 8px}#tdf_currency.tdf_container .tdf_select_input,#tdf_bar.tdf_container .tdf_select_input,#tdf_wholesale.tdf_container .tdf_select_input,#tdf_modal.tdf_container .tdf_select_input,#tdf_notify.tdf_container .tdf_select_input,#tdf_upsell.tdf_container .tdf_select_input,.tdf_bundle.tdf_container .tdf_select_input,#tdf_quickview.tdf_container .tdf_select_input,#tdf_sale_widget.tdf_container .tdf_select_input,#tdf_discount_widget.tdf_container .tdf_select_input,.tdf_rec_stable_2.tdf_rec .tdf_select_input,#tdf_psale.tdf_container .tdf_select_input{cursor:pointer;position:relative;min-height:36px;padding:5px 14px 5px 10px;background:#fffefe;line-height:24px;width:100%;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;border:1px solid #c4c6d5;color:#637381;z-index:2;-webkit-appearance:none;-moz-appearance:none}#tdf_currency.tdf_container .tdf_select_input:focus,#tdf_bar.tdf_container .tdf_select_input:focus,#tdf_wholesale.tdf_container .tdf_select_input:focus,#tdf_modal.tdf_container .tdf_select_input:focus,#tdf_notify.tdf_container .tdf_select_input:focus,#tdf_upsell.tdf_container .tdf_select_input:focus,.tdf_bundle.tdf_container .tdf_select_input:focus,#tdf_quickview.tdf_container .tdf_select_input:focus,#tdf_sale_widget.tdf_container .tdf_select_input:focus,#tdf_discount_widget.tdf_container .tdf_select_input:focus,.tdf_rec_stable_2.tdf_rec .tdf_select_input:focus,#tdf_psale.tdf_container .tdf_select_input:focus{outline:none !important}#tdf_currency.tdf_container .tdf_select_backdrop,#tdf_bar.tdf_container .tdf_select_backdrop,#tdf_wholesale.tdf_container .tdf_select_backdrop,#tdf_modal.tdf_container .tdf_select_backdrop,#tdf_notify.tdf_container .tdf_select_backdrop,#tdf_upsell.tdf_container .tdf_select_backdrop,.tdf_bundle.tdf_container .tdf_select_backdrop,#tdf_quickview.tdf_container .tdf_select_backdrop,#tdf_sale_widget.tdf_container .tdf_select_backdrop,#tdf_discount_widget.tdf_container .tdf_select_backdrop,.tdf_rec_stable_2.tdf_rec .tdf_select_backdrop,#tdf_psale.tdf_container .tdf_select_backdrop{border:1px solid transparent;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;position:absolute;top:0;bottom:0;left:0;right:0}#tdf_currency.tdf_container .tdf_select_icon,#tdf_bar.tdf_container .tdf_select_icon,#tdf_wholesale.tdf_container .tdf_select_icon,#tdf_modal.tdf_container .tdf_select_icon,#tdf_notify.tdf_container .tdf_select_icon,#tdf_upsell.tdf_container .tdf_select_icon,.tdf_bundle.tdf_container .tdf_select_icon,#tdf_quickview.tdf_container .tdf_select_icon,#tdf_sale_widget.tdf_container .tdf_select_icon,#tdf_discount_widget.tdf_container .tdf_select_icon,.tdf_rec_stable_2.tdf_rec .tdf_select_icon,#tdf_psale.tdf_container .tdf_select_icon{display:inline-block;width:20px;height:20px;position:absolute;right:2px;top:50%;z-index:2;margin-top:-10px;pointer-events:none;background:url(S_PATH/fe/nfec/img/icon-select.png)}#tdf_currency.tdf_container .tdf_img,#tdf_bar.tdf_container .tdf_img,#tdf_wholesale.tdf_container .tdf_img,#tdf_modal.tdf_container .tdf_img,#tdf_notify.tdf_container .tdf_img,#tdf_upsell.tdf_container .tdf_img,.tdf_bundle.tdf_container .tdf_img,#tdf_quickview.tdf_container .tdf_img,#tdf_sale_widget.tdf_container .tdf_img,#tdf_discount_widget.tdf_container .tdf_img,.tdf_rec_stable_2.tdf_rec .tdf_img,#tdf_psale.tdf_container .tdf_img{position:relative;height:181.5px;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;background:#F9FAFB;background-size:contain;background-position:center;background-repeat:no-repeat;cursor:pointer;display:block}#tdf_currency.tdf_container div.tdf_vertical_img,#tdf_bar.tdf_container div.tdf_vertical_img,#tdf_wholesale.tdf_container div.tdf_vertical_img,#tdf_modal.tdf_container div.tdf_vertical_img,#tdf_notify.tdf_container div.tdf_vertical_img,#tdf_upsell.tdf_container div.tdf_vertical_img,.tdf_bundle.tdf_container div.tdf_vertical_img,#tdf_quickview.tdf_container div.tdf_vertical_img,#tdf_sale_widget.tdf_container div.tdf_vertical_img,#tdf_discount_widget.tdf_container div.tdf_vertical_img,.tdf_rec_stable_2.tdf_rec div.tdf_vertical_img,#tdf_psale.tdf_container div.tdf_vertical_img{height:224px}#tdf_currency.tdf_container .tdf_block,#tdf_bar.tdf_container .tdf_block,#tdf_wholesale.tdf_container .tdf_block,#tdf_modal.tdf_container .tdf_block,#tdf_notify.tdf_container .tdf_block,#tdf_upsell.tdf_container .tdf_block,.tdf_bundle.tdf_container .tdf_block,#tdf_quickview.tdf_container .tdf_block,#tdf_sale_widget.tdf_container .tdf_block,#tdf_discount_widget.tdf_container .tdf_block,.tdf_rec_stable_2.tdf_rec .tdf_block,#tdf_psale.tdf_container .tdf_block{text-decoration:none}#tdf_currency.tdf_container .tdf_horizontal_name,#tdf_currency.tdf_container .tdf_horizontal_price,#tdf_bar.tdf_container .tdf_horizontal_name,#tdf_bar.tdf_container .tdf_horizontal_price,#tdf_wholesale.tdf_container .tdf_horizontal_name,#tdf_wholesale.tdf_container .tdf_horizontal_price,#tdf_modal.tdf_container .tdf_horizontal_name,#tdf_modal.tdf_container .tdf_horizontal_price,#tdf_notify.tdf_container .tdf_horizontal_name,#tdf_notify.tdf_container .tdf_horizontal_price,#tdf_upsell.tdf_container .tdf_horizontal_name,#tdf_upsell.tdf_container .tdf_horizontal_price,.tdf_bundle.tdf_container .tdf_horizontal_name,.tdf_bundle.tdf_container .tdf_horizontal_price,#tdf_quickview.tdf_container .tdf_horizontal_name,#tdf_quickview.tdf_container .tdf_horizontal_price,#tdf_sale_widget.tdf_container .tdf_horizontal_name,#tdf_sale_widget.tdf_container .tdf_horizontal_price,#tdf_discount_widget.tdf_container .tdf_horizontal_name,#tdf_discount_widget.tdf_container .tdf_horizontal_price,.tdf_rec_stable_2.tdf_rec .tdf_horizontal_name,.tdf_rec_stable_2.tdf_rec .tdf_horizontal_price,#tdf_psale.tdf_container .tdf_horizontal_name,#tdf_psale.tdf_container .tdf_horizontal_price{margin:0 0 8px}#tdf_currency.tdf_container .tdf_horizontal_title:hover,#tdf_bar.tdf_container .tdf_horizontal_title:hover,#tdf_wholesale.tdf_container .tdf_horizontal_title:hover,#tdf_modal.tdf_container .tdf_horizontal_title:hover,#tdf_notify.tdf_container .tdf_horizontal_title:hover,#tdf_upsell.tdf_container .tdf_horizontal_title:hover,.tdf_bundle.tdf_container .tdf_horizontal_title:hover,#tdf_quickview.tdf_container .tdf_horizontal_title:hover,#tdf_sale_widget.tdf_container .tdf_horizontal_title:hover,#tdf_discount_widget.tdf_container .tdf_horizontal_title:hover,.tdf_rec_stable_2.tdf_rec .tdf_horizontal_title:hover,#tdf_psale.tdf_container .tdf_horizontal_title:hover{text-decoration:underline}#tdf_currency.tdf_container .tdf_price,#tdf_bar.tdf_container .tdf_price,#tdf_wholesale.tdf_container .tdf_price,#tdf_modal.tdf_container .tdf_price,#tdf_notify.tdf_container .tdf_price,#tdf_upsell.tdf_container .tdf_price,.tdf_bundle.tdf_container .tdf_price,#tdf_quickview.tdf_container .tdf_price,#tdf_sale_widget.tdf_container .tdf_price,#tdf_discount_widget.tdf_container .tdf_price,.tdf_rec_stable_2.tdf_rec .tdf_price,#tdf_psale.tdf_container .tdf_price{color:#637381}#tdf_currency.tdf_container .tdf_price_original,#tdf_bar.tdf_container .tdf_price_original,#tdf_wholesale.tdf_container .tdf_price_original,#tdf_modal.tdf_container .tdf_price_original,#tdf_notify.tdf_container .tdf_price_original,#tdf_upsell.tdf_container .tdf_price_original,.tdf_bundle.tdf_container .tdf_price_original,#tdf_quickview.tdf_container .tdf_price_original,#tdf_sale_widget.tdf_container .tdf_price_original,#tdf_discount_widget.tdf_container .tdf_price_original,.tdf_rec_stable_2.tdf_rec .tdf_price_original,#tdf_psale.tdf_container .tdf_price_original{color:#637381}#tdf_currency.tdf_container .tdf_price_sales .tdf_money,#tdf_bar.tdf_container .tdf_price_sales .tdf_money,#tdf_wholesale.tdf_container .tdf_price_sales .tdf_money,#tdf_modal.tdf_container .tdf_price_sales .tdf_money,#tdf_notify.tdf_container .tdf_price_sales .tdf_money,#tdf_upsell.tdf_container .tdf_price_sales .tdf_money,.tdf_bundle.tdf_container .tdf_price_sales .tdf_money,#tdf_quickview.tdf_container .tdf_price_sales .tdf_money,#tdf_sale_widget.tdf_container .tdf_price_sales .tdf_money,#tdf_discount_widget.tdf_container .tdf_price_sales .tdf_money,.tdf_rec_stable_2.tdf_rec .tdf_price_sales .tdf_money,#tdf_psale.tdf_container .tdf_price_sales .tdf_money{color:#61bd4d}#tdf_currency.tdf_container .tdf_visually_hidden,#tdf_bar.tdf_container .tdf_visually_hidden,#tdf_wholesale.tdf_container .tdf_visually_hidden,#tdf_modal.tdf_container .tdf_visually_hidden,#tdf_notify.tdf_container .tdf_visually_hidden,#tdf_upsell.tdf_container .tdf_visually_hidden,.tdf_bundle.tdf_container .tdf_visually_hidden,#tdf_quickview.tdf_container .tdf_visually_hidden,#tdf_sale_widget.tdf_container .tdf_visually_hidden,#tdf_discount_widget.tdf_container .tdf_visually_hidden,.tdf_rec_stable_2.tdf_rec .tdf_visually_hidden,#tdf_psale.tdf_container .tdf_visually_hidden{position:absolute;clip:rect(1px, 1px, 1px, 1px);padding:0;border:0;overflow:hidden}#tdf_currency.tdf_container .tdf_products_vertical_content,#tdf_bar.tdf_container .tdf_products_vertical_content,#tdf_wholesale.tdf_container .tdf_products_vertical_content,#tdf_modal.tdf_container .tdf_products_vertical_content,#tdf_notify.tdf_container .tdf_products_vertical_content,#tdf_upsell.tdf_container .tdf_products_vertical_content,.tdf_bundle.tdf_container .tdf_products_vertical_content,#tdf_quickview.tdf_container .tdf_products_vertical_content,#tdf_sale_widget.tdf_container .tdf_products_vertical_content,#tdf_discount_widget.tdf_container .tdf_products_vertical_content,.tdf_rec_stable_2.tdf_rec .tdf_products_vertical_content,#tdf_psale.tdf_container .tdf_products_vertical_content{vertical-align:top;position:relative;display:inline-block;width:200px}#tdf_currency.tdf_container .tdf_vertical_name,#tdf_currency.tdf_container .tdf_vertical_price,#tdf_bar.tdf_container .tdf_vertical_name,#tdf_bar.tdf_container .tdf_vertical_price,#tdf_wholesale.tdf_container .tdf_vertical_name,#tdf_wholesale.tdf_container .tdf_vertical_price,#tdf_modal.tdf_container .tdf_vertical_name,#tdf_modal.tdf_container .tdf_vertical_price,#tdf_notify.tdf_container .tdf_vertical_name,#tdf_notify.tdf_container .tdf_vertical_price,#tdf_upsell.tdf_container .tdf_vertical_name,#tdf_upsell.tdf_container .tdf_vertical_price,.tdf_bundle.tdf_container .tdf_vertical_name,.tdf_bundle.tdf_container .tdf_vertical_price,#tdf_quickview.tdf_container .tdf_vertical_name,#tdf_quickview.tdf_container .tdf_vertical_price,#tdf_sale_widget.tdf_container .tdf_vertical_name,#tdf_sale_widget.tdf_container .tdf_vertical_price,#tdf_discount_widget.tdf_container .tdf_vertical_name,#tdf_discount_widget.tdf_container .tdf_vertical_price,.tdf_rec_stable_2.tdf_rec .tdf_vertical_name,.tdf_rec_stable_2.tdf_rec .tdf_vertical_price,#tdf_psale.tdf_container .tdf_vertical_name,#tdf_psale.tdf_container .tdf_vertical_price{margin-top:4px;margin-bottom:4px}#tdf_currency.tdf_container .tdf_vertical_price,#tdf_bar.tdf_container .tdf_vertical_price,#tdf_wholesale.tdf_container .tdf_vertical_price,#tdf_modal.tdf_container .tdf_vertical_price,#tdf_notify.tdf_container .tdf_vertical_price,#tdf_upsell.tdf_container .tdf_vertical_price,.tdf_bundle.tdf_container .tdf_vertical_price,#tdf_quickview.tdf_container .tdf_vertical_price,#tdf_sale_widget.tdf_container .tdf_vertical_price,#tdf_discount_widget.tdf_container .tdf_vertical_price,.tdf_rec_stable_2.tdf_rec .tdf_vertical_price,#tdf_psale.tdf_container .tdf_vertical_price{white-space:normal}#tdf_currency.tdf_container h4.tdf_vertical_title,#tdf_bar.tdf_container h4.tdf_vertical_title,#tdf_wholesale.tdf_container h4.tdf_vertical_title,#tdf_modal.tdf_container h4.tdf_vertical_title,#tdf_notify.tdf_container h4.tdf_vertical_title,#tdf_upsell.tdf_container h4.tdf_vertical_title,.tdf_bundle.tdf_container h4.tdf_vertical_title,#tdf_quickview.tdf_container h4.tdf_vertical_title,#tdf_sale_widget.tdf_container h4.tdf_vertical_title,#tdf_discount_widget.tdf_container h4.tdf_vertical_title,.tdf_rec_stable_2.tdf_rec h4.tdf_vertical_title,#tdf_psale.tdf_container h4.tdf_vertical_title{-webkit-line-clamp:2;font-size:13px}#tdf_currency.tdf_container div.tdf_products_vertical_content button,#tdf_bar.tdf_container div.tdf_products_vertical_content button,#tdf_wholesale.tdf_container div.tdf_products_vertical_content button,#tdf_modal.tdf_container div.tdf_products_vertical_content button,#tdf_notify.tdf_container div.tdf_products_vertical_content button,#tdf_upsell.tdf_container div.tdf_products_vertical_content button,.tdf_bundle.tdf_container div.tdf_products_vertical_content button,#tdf_quickview.tdf_container div.tdf_products_vertical_content button,#tdf_sale_widget.tdf_container div.tdf_products_vertical_content button,#tdf_discount_widget.tdf_container div.tdf_products_vertical_content button,.tdf_rec_stable_2.tdf_rec div.tdf_products_vertical_content button,#tdf_psale.tdf_container div.tdf_products_vertical_content button{min-width:auto}#tdf_currency.tdf_container .tdf_checkbox_container,#tdf_bar.tdf_container .tdf_checkbox_container,#tdf_wholesale.tdf_container .tdf_checkbox_container,#tdf_modal.tdf_container .tdf_checkbox_container,#tdf_notify.tdf_container .tdf_checkbox_container,#tdf_upsell.tdf_container .tdf_checkbox_container,.tdf_bundle.tdf_container .tdf_checkbox_container,#tdf_quickview.tdf_container .tdf_checkbox_container,#tdf_sale_widget.tdf_container .tdf_checkbox_container,#tdf_discount_widget.tdf_container .tdf_checkbox_container,.tdf_rec_stable_2.tdf_rec .tdf_checkbox_container,#tdf_psale.tdf_container .tdf_checkbox_container{position:relative;float:left;margin-top:5px}#tdf_currency.tdf_container .tdf_checkbox_wrapper,#tdf_bar.tdf_container .tdf_checkbox_wrapper,#tdf_wholesale.tdf_container .tdf_checkbox_wrapper,#tdf_modal.tdf_container .tdf_checkbox_wrapper,#tdf_notify.tdf_container .tdf_checkbox_wrapper,#tdf_upsell.tdf_container .tdf_checkbox_wrapper,.tdf_bundle.tdf_container .tdf_checkbox_wrapper,#tdf_quickview.tdf_container .tdf_checkbox_wrapper,#tdf_sale_widget.tdf_container .tdf_checkbox_wrapper,#tdf_discount_widget.tdf_container .tdf_checkbox_wrapper,.tdf_rec_stable_2.tdf_rec .tdf_checkbox_wrapper,#tdf_psale.tdf_container .tdf_checkbox_wrapper{display:inline-block;position:relative;cursor:pointer;line-height:26px}#tdf_currency.tdf_container .tdf_checkbox,#tdf_bar.tdf_container .tdf_checkbox,#tdf_wholesale.tdf_container .tdf_checkbox,#tdf_modal.tdf_container .tdf_checkbox,#tdf_notify.tdf_container .tdf_checkbox,#tdf_upsell.tdf_container .tdf_checkbox,.tdf_bundle.tdf_container .tdf_checkbox,#tdf_quickview.tdf_container .tdf_checkbox,#tdf_sale_widget.tdf_container .tdf_checkbox,#tdf_discount_widget.tdf_container .tdf_checkbox,.tdf_rec_stable_2.tdf_rec .tdf_checkbox,#tdf_psale.tdf_container .tdf_checkbox{width:24px;height:24px;position:absolute;z-index:2;top:0;left:0;opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}#tdf_currency.tdf_container .tdf_checkmark,#tdf_bar.tdf_container .tdf_checkmark,#tdf_wholesale.tdf_container .tdf_checkmark,#tdf_modal.tdf_container .tdf_checkmark,#tdf_notify.tdf_container .tdf_checkmark,#tdf_upsell.tdf_container .tdf_checkmark,.tdf_bundle.tdf_container .tdf_checkmark,#tdf_quickview.tdf_container .tdf_checkmark,#tdf_sale_widget.tdf_container .tdf_checkmark,#tdf_discount_widget.tdf_container .tdf_checkmark,.tdf_rec_stable_2.tdf_rec .tdf_checkmark,#tdf_psale.tdf_container .tdf_checkmark{position:relative;top:0;left:0;height:16px;width:16px;border:1px solid #4267b3;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;display:inline-block}#tdf_currency.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,#tdf_bar.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,#tdf_wholesale.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,#tdf_modal.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,#tdf_notify.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,#tdf_upsell.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,.tdf_bundle.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,#tdf_quickview.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,#tdf_sale_widget.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,#tdf_discount_widget.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,.tdf_rec_stable_2.tdf_rec .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark,#tdf_psale.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:focus ~ .tdf_checkmark{-webkit-box-shadow:0 0 2px #4267b3;-moz-box-shadow:0 0 2px #4267b3;box-shadow:0 0 2px #4267b3}#tdf_currency.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,#tdf_bar.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,#tdf_wholesale.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,#tdf_modal.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,#tdf_notify.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,#tdf_upsell.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,.tdf_bundle.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,#tdf_quickview.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,#tdf_sale_widget.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,#tdf_discount_widget.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,.tdf_rec_stable_2.tdf_rec .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark,#tdf_psale.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark{border-color:#4267b3}#tdf_currency.tdf_container .tdf_checkmark:after,#tdf_bar.tdf_container .tdf_checkmark:after,#tdf_wholesale.tdf_container .tdf_checkmark:after,#tdf_modal.tdf_container .tdf_checkmark:after,#tdf_notify.tdf_container .tdf_checkmark:after,#tdf_upsell.tdf_container .tdf_checkmark:after,.tdf_bundle.tdf_container .tdf_checkmark:after,#tdf_quickview.tdf_container .tdf_checkmark:after,#tdf_sale_widget.tdf_container .tdf_checkmark:after,#tdf_discount_widget.tdf_container .tdf_checkmark:after,.tdf_rec_stable_2.tdf_rec .tdf_checkmark:after,#tdf_psale.tdf_container .tdf_checkmark:after{content:"";position:absolute;display:none}#tdf_currency.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,#tdf_bar.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,#tdf_wholesale.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,#tdf_modal.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,#tdf_notify.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,#tdf_upsell.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,.tdf_bundle.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,#tdf_quickview.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,#tdf_sale_widget.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,#tdf_discount_widget.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,.tdf_rec_stable_2.tdf_rec .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after,#tdf_psale.tdf_container .tdf_checkbox_wrapper .tdf_checkbox:checked ~ .tdf_checkmark:after{display:block}#tdf_currency.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after,#tdf_bar.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after,#tdf_wholesale.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after,#tdf_modal.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after,#tdf_notify.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after,#tdf_upsell.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after,.tdf_bundle.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after,#tdf_quickview.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after,#tdf_sale_widget.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after,#tdf_discount_widget.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after,.tdf_rec_stable_2.tdf_rec .tdf_checkbox_wrapper .tdf_checkmark:after,#tdf_psale.tdf_container .tdf_checkbox_wrapper .tdf_checkmark:after{left:4.5px;top:1px;width:5px;height:9px;border:1px solid #4267b3;border-width:0 1.5px 1.5px 0;-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg)}#tdf_currency.tdf_container .tdf_share_btn,#tdf_bar.tdf_container .tdf_share_btn,#tdf_wholesale.tdf_container .tdf_share_btn,#tdf_modal.tdf_container .tdf_share_btn,#tdf_notify.tdf_container .tdf_share_btn,#tdf_upsell.tdf_container .tdf_share_btn,.tdf_bundle.tdf_container .tdf_share_btn,#tdf_quickview.tdf_container .tdf_share_btn,#tdf_sale_widget.tdf_container .tdf_share_btn,#tdf_discount_widget.tdf_container .tdf_share_btn,.tdf_rec_stable_2.tdf_rec .tdf_share_btn,#tdf_psale.tdf_container .tdf_share_btn{margin:0 12px 0 0 !important;cursor:pointer;display:inline-block;width:20px;height:20px;background-image:url(S_PATH/fe/nfec/img/social-icon.png)}#tdf_currency.tdf_container .tdf_share_fb,#tdf_bar.tdf_container .tdf_share_fb,#tdf_wholesale.tdf_container .tdf_share_fb,#tdf_modal.tdf_container .tdf_share_fb,#tdf_notify.tdf_container .tdf_share_fb,#tdf_upsell.tdf_container .tdf_share_fb,.tdf_bundle.tdf_container .tdf_share_fb,#tdf_quickview.tdf_container .tdf_share_fb,#tdf_sale_widget.tdf_container .tdf_share_fb,#tdf_discount_widget.tdf_container .tdf_share_fb,.tdf_rec_stable_2.tdf_rec .tdf_share_fb,#tdf_psale.tdf_container .tdf_share_fb{background-position:-4px -5px}#tdf_currency.tdf_container .tdf_share_tw,#tdf_bar.tdf_container .tdf_share_tw,#tdf_wholesale.tdf_container .tdf_share_tw,#tdf_modal.tdf_container .tdf_share_tw,#tdf_notify.tdf_container .tdf_share_tw,#tdf_upsell.tdf_container .tdf_share_tw,.tdf_bundle.tdf_container .tdf_share_tw,#tdf_quickview.tdf_container .tdf_share_tw,#tdf_sale_widget.tdf_container .tdf_share_tw,#tdf_discount_widget.tdf_container .tdf_share_tw,.tdf_rec_stable_2.tdf_rec .tdf_share_tw,#tdf_psale.tdf_container .tdf_share_tw{background-position:-6px -83px}#tdf_currency.tdf_container .tdf_share_pt,#tdf_bar.tdf_container .tdf_share_pt,#tdf_wholesale.tdf_container .tdf_share_pt,#tdf_modal.tdf_container .tdf_share_pt,#tdf_notify.tdf_container .tdf_share_pt,#tdf_upsell.tdf_container .tdf_share_pt,.tdf_bundle.tdf_container .tdf_share_pt,#tdf_quickview.tdf_container .tdf_share_pt,#tdf_sale_widget.tdf_container .tdf_share_pt,#tdf_discount_widget.tdf_container .tdf_share_pt,.tdf_rec_stable_2.tdf_rec .tdf_share_pt,#tdf_psale.tdf_container .tdf_share_pt{background-position:-6px -55px}#tdf_currency.tdf_container .tdf_share_in,#tdf_bar.tdf_container .tdf_share_in,#tdf_wholesale.tdf_container .tdf_share_in,#tdf_modal.tdf_container .tdf_share_in,#tdf_notify.tdf_container .tdf_share_in,#tdf_upsell.tdf_container .tdf_share_in,.tdf_bundle.tdf_container .tdf_share_in,#tdf_quickview.tdf_container .tdf_share_in,#tdf_sale_widget.tdf_container .tdf_share_in,#tdf_discount_widget.tdf_container .tdf_share_in,.tdf_rec_stable_2.tdf_rec .tdf_share_in,#tdf_psale.tdf_container .tdf_share_in{background-position:-6px -108px}#tdf_currency.tdf_container .tdf_share_google,#tdf_bar.tdf_container .tdf_share_google,#tdf_wholesale.tdf_container .tdf_share_google,#tdf_modal.tdf_container .tdf_share_google,#tdf_notify.tdf_container .tdf_share_google,#tdf_upsell.tdf_container .tdf_share_google,.tdf_bundle.tdf_container .tdf_share_google,#tdf_quickview.tdf_container .tdf_share_google,#tdf_sale_widget.tdf_container .tdf_share_google,#tdf_discount_widget.tdf_container .tdf_share_google,.tdf_rec_stable_2.tdf_rec .tdf_share_google,#tdf_psale.tdf_container .tdf_share_google{background-position:-5px -30px}#tdf_currency.tdf_container .tdf_nonpopup *,#tdf_currency.tdf_container .tdf_nonpopup *:before,#tdf_currency.tdf_container .tdf_nonpopup *:after,#tdf_bar.tdf_container .tdf_nonpopup *,#tdf_bar.tdf_container .tdf_nonpopup *:before,#tdf_bar.tdf_container .tdf_nonpopup *:after,#tdf_wholesale.tdf_container .tdf_nonpopup *,#tdf_wholesale.tdf_container .tdf_nonpopup *:before,#tdf_wholesale.tdf_container .tdf_nonpopup *:after,#tdf_modal.tdf_container .tdf_nonpopup *,#tdf_modal.tdf_container .tdf_nonpopup *:before,#tdf_modal.tdf_container .tdf_nonpopup *:after,#tdf_notify.tdf_container .tdf_nonpopup *,#tdf_notify.tdf_container .tdf_nonpopup *:before,#tdf_notify.tdf_container .tdf_nonpopup *:after,#tdf_upsell.tdf_container .tdf_nonpopup *,#tdf_upsell.tdf_container .tdf_nonpopup *:before,#tdf_upsell.tdf_container .tdf_nonpopup *:after,.tdf_bundle.tdf_container .tdf_nonpopup *,.tdf_bundle.tdf_container .tdf_nonpopup *:before,.tdf_bundle.tdf_container .tdf_nonpopup *:after,#tdf_quickview.tdf_container .tdf_nonpopup *,#tdf_quickview.tdf_container .tdf_nonpopup *:before,#tdf_quickview.tdf_container .tdf_nonpopup *:after,#tdf_sale_widget.tdf_container .tdf_nonpopup *,#tdf_sale_widget.tdf_container .tdf_nonpopup *:before,#tdf_sale_widget.tdf_container .tdf_nonpopup *:after,#tdf_discount_widget.tdf_container .tdf_nonpopup *,#tdf_discount_widget.tdf_container .tdf_nonpopup *:before,#tdf_discount_widget.tdf_container .tdf_nonpopup *:after,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup *,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup *:before,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup *:after,#tdf_psale.tdf_container .tdf_nonpopup *,#tdf_psale.tdf_container .tdf_nonpopup *:before,#tdf_psale.tdf_container .tdf_nonpopup *:after{color:#212B35}#tdf_currency.tdf_container .tdf_nonpopup button,#tdf_bar.tdf_container .tdf_nonpopup button,#tdf_wholesale.tdf_container .tdf_nonpopup button,#tdf_modal.tdf_container .tdf_nonpopup button,#tdf_notify.tdf_container .tdf_nonpopup button,#tdf_upsell.tdf_container .tdf_nonpopup button,.tdf_bundle.tdf_container .tdf_nonpopup button,#tdf_quickview.tdf_container .tdf_nonpopup button,#tdf_sale_widget.tdf_container .tdf_nonpopup button,#tdf_discount_widget.tdf_container .tdf_nonpopup button,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup button,#tdf_psale.tdf_container .tdf_nonpopup button{color:#fffffd}#tdf_currency.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money,#tdf_bar.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money,#tdf_wholesale.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money,#tdf_modal.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money,#tdf_notify.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money,#tdf_upsell.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money,.tdf_bundle.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money,#tdf_quickview.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money,#tdf_sale_widget.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money,#tdf_discount_widget.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_price_sales .tdf_money,#tdf_psale.tdf_container .tdf_nonpopup .tdf_price_sales .tdf_money{color:#61bd4e}#tdf_currency.tdf_container .tdf_nonpopup .tdf_normal_btn,#tdf_bar.tdf_container .tdf_nonpopup .tdf_normal_btn,#tdf_wholesale.tdf_container .tdf_nonpopup .tdf_normal_btn,#tdf_modal.tdf_container .tdf_nonpopup .tdf_normal_btn,#tdf_notify.tdf_container .tdf_nonpopup .tdf_normal_btn,#tdf_upsell.tdf_container .tdf_nonpopup .tdf_normal_btn,.tdf_bundle.tdf_container .tdf_nonpopup .tdf_normal_btn,#tdf_quickview.tdf_container .tdf_nonpopup .tdf_normal_btn,#tdf_sale_widget.tdf_container .tdf_nonpopup .tdf_normal_btn,#tdf_discount_widget.tdf_container .tdf_nonpopup .tdf_normal_btn,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_normal_btn,#tdf_psale.tdf_container .tdf_nonpopup .tdf_normal_btn{background-color:#4267b3}#tdf_currency.tdf_container .tdf_nonpopup .tdf_lite_btn,#tdf_bar.tdf_container .tdf_nonpopup .tdf_lite_btn,#tdf_wholesale.tdf_container .tdf_nonpopup .tdf_lite_btn,#tdf_modal.tdf_container .tdf_nonpopup .tdf_lite_btn,#tdf_notify.tdf_container .tdf_nonpopup .tdf_lite_btn,#tdf_upsell.tdf_container .tdf_nonpopup .tdf_lite_btn,.tdf_bundle.tdf_container .tdf_nonpopup .tdf_lite_btn,#tdf_quickview.tdf_container .tdf_nonpopup .tdf_lite_btn,#tdf_sale_widget.tdf_container .tdf_nonpopup .tdf_lite_btn,#tdf_discount_widget.tdf_container .tdf_nonpopup .tdf_lite_btn,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup .tdf_lite_btn,#tdf_psale.tdf_container .tdf_nonpopup .tdf_lite_btn{color:#4267b3;border:solid 1px #4267b3;font-size:16px;background-color:#fafbfd}@media screen and (max-width: 767px){#tdf_currency.tdf_container .tdf_products_vertical_content,#tdf_bar.tdf_container .tdf_products_vertical_content,#tdf_wholesale.tdf_container .tdf_products_vertical_content,#tdf_modal.tdf_container .tdf_products_vertical_content,#tdf_notify.tdf_container .tdf_products_vertical_content,#tdf_upsell.tdf_container .tdf_products_vertical_content,.tdf_bundle.tdf_container .tdf_products_vertical_content,#tdf_quickview.tdf_container .tdf_products_vertical_content,#tdf_sale_widget.tdf_container .tdf_products_vertical_content,#tdf_discount_widget.tdf_container .tdf_products_vertical_content,.tdf_rec_stable_2.tdf_rec .tdf_products_vertical_content,#tdf_psale.tdf_container .tdf_products_vertical_content{width:112px}#tdf_currency.tdf_container div.tdf_vertical_img,#tdf_bar.tdf_container div.tdf_vertical_img,#tdf_wholesale.tdf_container div.tdf_vertical_img,#tdf_modal.tdf_container div.tdf_vertical_img,#tdf_notify.tdf_container div.tdf_vertical_img,#tdf_upsell.tdf_container div.tdf_vertical_img,.tdf_bundle.tdf_container div.tdf_vertical_img,#tdf_quickview.tdf_container div.tdf_vertical_img,#tdf_sale_widget.tdf_container div.tdf_vertical_img,#tdf_discount_widget.tdf_container div.tdf_vertical_img,.tdf_rec_stable_2.tdf_rec div.tdf_vertical_img,#tdf_psale.tdf_container div.tdf_vertical_img{height:112px}#tdf_currency.tdf_container div.tdf_products_vertical_content button,#tdf_bar.tdf_container div.tdf_products_vertical_content button,#tdf_wholesale.tdf_container div.tdf_products_vertical_content button,#tdf_modal.tdf_container div.tdf_products_vertical_content button,#tdf_notify.tdf_container div.tdf_products_vertical_content button,#tdf_upsell.tdf_container div.tdf_products_vertical_content button,.tdf_bundle.tdf_container div.tdf_products_vertical_content button,#tdf_quickview.tdf_container div.tdf_products_vertical_content button,#tdf_sale_widget.tdf_container div.tdf_products_vertical_content button,#tdf_discount_widget.tdf_container div.tdf_products_vertical_content button,.tdf_rec_stable_2.tdf_rec div.tdf_products_vertical_content button,#tdf_psale.tdf_container div.tdf_products_vertical_content button{font-size:14px;bottom:0}}@media screen and (min-width: 568px){#tdf_currency.tdf_container .tdf_img,#tdf_bar.tdf_container .tdf_img,#tdf_wholesale.tdf_container .tdf_img,#tdf_modal.tdf_container .tdf_img,#tdf_notify.tdf_container .tdf_img,#tdf_upsell.tdf_container .tdf_img,.tdf_bundle.tdf_container .tdf_img,#tdf_quickview.tdf_container .tdf_img,#tdf_sale_widget.tdf_container .tdf_img,#tdf_discount_widget.tdf_container .tdf_img,.tdf_rec_stable_2.tdf_rec .tdf_img,#tdf_psale.tdf_container .tdf_img{height:252.5px}}@media screen and (min-width: 768px){#tdf_currency.tdf_container .tdf_img,#tdf_bar.tdf_container .tdf_img,#tdf_wholesale.tdf_container .tdf_img,#tdf_modal.tdf_container .tdf_img,#tdf_notify.tdf_container .tdf_img,#tdf_upsell.tdf_container .tdf_img,.tdf_bundle.tdf_container .tdf_img,#tdf_quickview.tdf_container .tdf_img,#tdf_sale_widget.tdf_container .tdf_img,#tdf_discount_widget.tdf_container .tdf_img,.tdf_rec_stable_2.tdf_rec .tdf_img,#tdf_psale.tdf_container .tdf_img{height:306.84px}#tdf_currency.tdf_container .tdf_dialog_qv,#tdf_currency.tdf_container .tdf_dialog_content,#tdf_bar.tdf_container .tdf_dialog_qv,#tdf_bar.tdf_container .tdf_dialog_content,#tdf_wholesale.tdf_container .tdf_dialog_qv,#tdf_wholesale.tdf_container .tdf_dialog_content,#tdf_modal.tdf_container .tdf_dialog_qv,#tdf_modal.tdf_container .tdf_dialog_content,#tdf_notify.tdf_container .tdf_dialog_qv,#tdf_notify.tdf_container .tdf_dialog_content,#tdf_upsell.tdf_container .tdf_dialog_qv,#tdf_upsell.tdf_container .tdf_dialog_content,.tdf_bundle.tdf_container .tdf_dialog_qv,.tdf_bundle.tdf_container .tdf_dialog_content,#tdf_quickview.tdf_container .tdf_dialog_qv,#tdf_quickview.tdf_container .tdf_dialog_content,#tdf_sale_widget.tdf_container .tdf_dialog_qv,#tdf_sale_widget.tdf_container .tdf_dialog_content,#tdf_discount_widget.tdf_container .tdf_dialog_qv,#tdf_discount_widget.tdf_container .tdf_dialog_content,.tdf_rec_stable_2.tdf_rec .tdf_dialog_qv,.tdf_rec_stable_2.tdf_rec .tdf_dialog_content,#tdf_psale.tdf_container .tdf_dialog_qv,#tdf_psale.tdf_container .tdf_dialog_content{width:90%;height:auto;margin:20px auto;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;border-radius:4px}#tdf_currency.tdf_container .tdf_normal_btn,#tdf_bar.tdf_container .tdf_normal_btn,#tdf_wholesale.tdf_container .tdf_normal_btn,#tdf_modal.tdf_container .tdf_normal_btn,#tdf_notify.tdf_container .tdf_normal_btn,#tdf_upsell.tdf_container .tdf_normal_btn,.tdf_bundle.tdf_container .tdf_normal_btn,#tdf_quickview.tdf_container .tdf_normal_btn,#tdf_sale_widget.tdf_container .tdf_normal_btn,#tdf_discount_widget.tdf_container .tdf_normal_btn,.tdf_rec_stable_2.tdf_rec .tdf_normal_btn,#tdf_psale.tdf_container .tdf_normal_btn{top:0;width:100%}#tdf_currency.tdf_container .tdf_select_box,#tdf_bar.tdf_container .tdf_select_box,#tdf_wholesale.tdf_container .tdf_select_box,#tdf_modal.tdf_container .tdf_select_box,#tdf_notify.tdf_container .tdf_select_box,#tdf_upsell.tdf_container .tdf_select_box,.tdf_bundle.tdf_container .tdf_select_box,#tdf_quickview.tdf_container .tdf_select_box,#tdf_sale_widget.tdf_container .tdf_select_box,#tdf_discount_widget.tdf_container .tdf_select_box,.tdf_rec_stable_2.tdf_rec .tdf_select_box,#tdf_psale.tdf_container .tdf_select_box{max-width:100%}#tdf_currency.tdf_container .tdf_money,#tdf_bar.tdf_container .tdf_money,#tdf_wholesale.tdf_container .tdf_money,#tdf_modal.tdf_container .tdf_money,#tdf_notify.tdf_container .tdf_money,#tdf_upsell.tdf_container .tdf_money,.tdf_bundle.tdf_container .tdf_money,#tdf_quickview.tdf_container .tdf_money,#tdf_sale_widget.tdf_container .tdf_money,#tdf_discount_widget.tdf_container .tdf_money,.tdf_rec_stable_2.tdf_rec .tdf_money,#tdf_psale.tdf_container .tdf_money{font-size:16px}#tdf_currency.tdf_container .tdf_products_vertical_content button.tdf_normal_btn,#tdf_bar.tdf_container .tdf_products_vertical_content button.tdf_normal_btn,#tdf_wholesale.tdf_container .tdf_products_vertical_content button.tdf_normal_btn,#tdf_modal.tdf_container .tdf_products_vertical_content button.tdf_normal_btn,#tdf_notify.tdf_container .tdf_products_vertical_content button.tdf_normal_btn,#tdf_upsell.tdf_container .tdf_products_vertical_content button.tdf_normal_btn,.tdf_bundle.tdf_container .tdf_products_vertical_content button.tdf_normal_btn,#tdf_quickview.tdf_container .tdf_products_vertical_content button.tdf_normal_btn,#tdf_sale_widget.tdf_container .tdf_products_vertical_content button.tdf_normal_btn,#tdf_discount_widget.tdf_container .tdf_products_vertical_content button.tdf_normal_btn,.tdf_rec_stable_2.tdf_rec .tdf_products_vertical_content button.tdf_normal_btn,#tdf_psale.tdf_container .tdf_products_vertical_content button.tdf_normal_btn{top:unset}}@media screen and (min-width: 1024px){#tdf_currency.tdf_container .tdf_money,#tdf_bar.tdf_container .tdf_money,#tdf_wholesale.tdf_container .tdf_money,#tdf_modal.tdf_container .tdf_money,#tdf_notify.tdf_container .tdf_money,#tdf_upsell.tdf_container .tdf_money,.tdf_bundle.tdf_container .tdf_money,#tdf_quickview.tdf_container .tdf_money,#tdf_sale_widget.tdf_container .tdf_money,#tdf_discount_widget.tdf_container .tdf_money,.tdf_rec_stable_2.tdf_rec .tdf_money,#tdf_psale.tdf_container .tdf_money{font-size:18px}#tdf_currency.tdf_container .tdf_dialog_qv,#tdf_bar.tdf_container .tdf_dialog_qv,#tdf_wholesale.tdf_container .tdf_dialog_qv,#tdf_modal.tdf_container .tdf_dialog_qv,#tdf_notify.tdf_container .tdf_dialog_qv,#tdf_upsell.tdf_container .tdf_dialog_qv,.tdf_bundle.tdf_container .tdf_dialog_qv,#tdf_quickview.tdf_container .tdf_dialog_qv,#tdf_sale_widget.tdf_container .tdf_dialog_qv,#tdf_discount_widget.tdf_container .tdf_dialog_qv,.tdf_rec_stable_2.tdf_rec .tdf_dialog_qv,#tdf_psale.tdf_container .tdf_dialog_qv{width:800px}#tdf_currency.tdf_container .tdf_dialog_content,#tdf_bar.tdf_container .tdf_dialog_content,#tdf_wholesale.tdf_container .tdf_dialog_content,#tdf_modal.tdf_container .tdf_dialog_content,#tdf_notify.tdf_container .tdf_dialog_content,#tdf_upsell.tdf_container .tdf_dialog_content,.tdf_bundle.tdf_container .tdf_dialog_content,#tdf_quickview.tdf_container .tdf_dialog_content,#tdf_sale_widget.tdf_container .tdf_dialog_content,#tdf_discount_widget.tdf_container .tdf_dialog_content,.tdf_rec_stable_2.tdf_rec .tdf_dialog_content,#tdf_psale.tdf_container .tdf_dialog_content{width:800px}#tdf_currency.tdf_container .tdf_img,#tdf_bar.tdf_container .tdf_img,#tdf_wholesale.tdf_container .tdf_img,#tdf_modal.tdf_container .tdf_img,#tdf_notify.tdf_container .tdf_img,#tdf_upsell.tdf_container .tdf_img,.tdf_bundle.tdf_container .tdf_img,#tdf_quickview.tdf_container .tdf_img,#tdf_sale_widget.tdf_container .tdf_img,#tdf_discount_widget.tdf_container .tdf_img,.tdf_rec_stable_2.tdf_rec .tdf_img,#tdf_psale.tdf_container .tdf_img{height:304px}#tdf_currency.tdf_container .tdf_cta_btn,#tdf_bar.tdf_container .tdf_cta_btn,#tdf_wholesale.tdf_container .tdf_cta_btn,#tdf_modal.tdf_container .tdf_cta_btn,#tdf_notify.tdf_container .tdf_cta_btn,#tdf_upsell.tdf_container .tdf_cta_btn,.tdf_bundle.tdf_container .tdf_cta_btn,#tdf_quickview.tdf_container .tdf_cta_btn,#tdf_sale_widget.tdf_container .tdf_cta_btn,#tdf_discount_widget.tdf_container .tdf_cta_btn,.tdf_rec_stable_2.tdf_rec .tdf_cta_btn,#tdf_psale.tdf_container .tdf_cta_btn{min-width:240px}}@media screen and (min-width: 1441px){#tdf_currency.tdf_container .tdf_vertical_variants button.tdf_btn_loading,#tdf_bar.tdf_container .tdf_vertical_variants button.tdf_btn_loading,#tdf_wholesale.tdf_container .tdf_vertical_variants button.tdf_btn_loading,#tdf_modal.tdf_container .tdf_vertical_variants button.tdf_btn_loading,#tdf_notify.tdf_container .tdf_vertical_variants button.tdf_btn_loading,#tdf_upsell.tdf_container .tdf_vertical_variants button.tdf_btn_loading,.tdf_bundle.tdf_container .tdf_vertical_variants button.tdf_btn_loading,#tdf_quickview.tdf_container .tdf_vertical_variants button.tdf_btn_loading,#tdf_sale_widget.tdf_container .tdf_vertical_variants button.tdf_btn_loading,#tdf_discount_widget.tdf_container .tdf_vertical_variants button.tdf_btn_loading,.tdf_rec_stable_2.tdf_rec .tdf_vertical_variants button.tdf_btn_loading,#tdf_psale.tdf_container .tdf_vertical_variants button.tdf_btn_loading{height:36px}#tdf_currency.tdf_container .tdf_dialog_qv,#tdf_currency.tdf_container .tdf_dialog_content,#tdf_bar.tdf_container .tdf_dialog_qv,#tdf_bar.tdf_container .tdf_dialog_content,#tdf_wholesale.tdf_container .tdf_dialog_qv,#tdf_wholesale.tdf_container .tdf_dialog_content,#tdf_modal.tdf_container .tdf_dialog_qv,#tdf_modal.tdf_container .tdf_dialog_content,#tdf_notify.tdf_container .tdf_dialog_qv,#tdf_notify.tdf_container .tdf_dialog_content,#tdf_upsell.tdf_container .tdf_dialog_qv,#tdf_upsell.tdf_container .tdf_dialog_content,.tdf_bundle.tdf_container .tdf_dialog_qv,.tdf_bundle.tdf_container .tdf_dialog_content,#tdf_quickview.tdf_container .tdf_dialog_qv,#tdf_quickview.tdf_container .tdf_dialog_content,#tdf_sale_widget.tdf_container .tdf_dialog_qv,#tdf_sale_widget.tdf_container .tdf_dialog_content,#tdf_discount_widget.tdf_container .tdf_dialog_qv,#tdf_discount_widget.tdf_container .tdf_dialog_content,.tdf_rec_stable_2.tdf_rec .tdf_dialog_qv,.tdf_rec_stable_2.tdf_rec .tdf_dialog_content,#tdf_psale.tdf_container .tdf_dialog_qv,#tdf_psale.tdf_container .tdf_dialog_content{width:900px}#tdf_currency.tdf_container .tdf_products_vertical_content,#tdf_bar.tdf_container .tdf_products_vertical_content,#tdf_wholesale.tdf_container .tdf_products_vertical_content,#tdf_modal.tdf_container .tdf_products_vertical_content,#tdf_notify.tdf_container .tdf_products_vertical_content,#tdf_upsell.tdf_container .tdf_products_vertical_content,.tdf_bundle.tdf_container .tdf_products_vertical_content,#tdf_quickview.tdf_container .tdf_products_vertical_content,#tdf_sale_widget.tdf_container .tdf_products_vertical_content,#tdf_discount_widget.tdf_container .tdf_products_vertical_content,.tdf_rec_stable_2.tdf_rec .tdf_products_vertical_content,#tdf_psale.tdf_container .tdf_products_vertical_content{width:224px}#tdf_currency.tdf_container .tdf_img,#tdf_bar.tdf_container .tdf_img,#tdf_wholesale.tdf_container .tdf_img,#tdf_modal.tdf_container .tdf_img,#tdf_notify.tdf_container .tdf_img,#tdf_upsell.tdf_container .tdf_img,.tdf_bundle.tdf_container .tdf_img,#tdf_quickview.tdf_container .tdf_img,#tdf_sale_widget.tdf_container .tdf_img,#tdf_discount_widget.tdf_container .tdf_img,.tdf_rec_stable_2.tdf_rec .tdf_img,#tdf_psale.tdf_container .tdf_img{height:378px}#tdf_currency.tdf_container .tdf_select_input,#tdf_bar.tdf_container .tdf_select_input,#tdf_wholesale.tdf_container .tdf_select_input,#tdf_modal.tdf_container .tdf_select_input,#tdf_notify.tdf_container .tdf_select_input,#tdf_upsell.tdf_container .tdf_select_input,.tdf_bundle.tdf_container .tdf_select_input,#tdf_quickview.tdf_container .tdf_select_input,#tdf_sale_widget.tdf_container .tdf_select_input,#tdf_discount_widget.tdf_container .tdf_select_input,.tdf_rec_stable_2.tdf_rec .tdf_select_input,#tdf_psale.tdf_container .tdf_select_input{min-height:36px}}#tdf_currency.tdf_container .tdf_btn_loading,#tdf_bar.tdf_container .tdf_btn_loading,#tdf_wholesale.tdf_container .tdf_btn_loading,#tdf_modal.tdf_container .tdf_btn_loading,#tdf_notify.tdf_container .tdf_btn_loading,#tdf_upsell.tdf_container .tdf_btn_loading,.tdf_bundle.tdf_container .tdf_btn_loading,#tdf_quickview.tdf_container .tdf_btn_loading,#tdf_sale_widget.tdf_container .tdf_btn_loading,#tdf_discount_widget.tdf_container .tdf_btn_loading,.tdf_rec_stable_2.tdf_rec .tdf_btn_loading,#tdf_psale.tdf_container .tdf_btn_loading,#tdf_discount_box.tdf_container .tdf_btn_loading{cursor:auto;opacity:.5;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";filter:alpha(opacity=50);height:36px;color:transparent;background-size:120px;background-position:center;background-image:url(S_PATH/fe/nfec/img/loading1.gif);background-repeat:no-repeat}#tdf_currency.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,#tdf_bar.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,#tdf_wholesale.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,#tdf_modal.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,#tdf_notify.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,#tdf_upsell.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,.tdf_bundle.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,#tdf_quickview.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,#tdf_sale_widget.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,#tdf_discount_widget.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,.tdf_rec_stable_2.tdf_rec .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,#tdf_psale.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading,#tdf_discount_box.tdf_container .tdf_nonpopup button.tdf_normal_btn.tdf_btn_loading{color:transparent}@media screen and (min-width: 1441px){#tdf_currency.tdf_container .tdf_btn_loading,#tdf_bar.tdf_container .tdf_btn_loading,#tdf_wholesale.tdf_container .tdf_btn_loading,#tdf_modal.tdf_container .tdf_btn_loading,#tdf_notify.tdf_container .tdf_btn_loading,#tdf_upsell.tdf_container .tdf_btn_loading,.tdf_bundle.tdf_container .tdf_btn_loading,#tdf_quickview.tdf_container .tdf_btn_loading,#tdf_sale_widget.tdf_container .tdf_btn_loading,#tdf_discount_widget.tdf_container .tdf_btn_loading,.tdf_rec_stable_2.tdf_rec .tdf_btn_loading,#tdf_psale.tdf_container .tdf_btn_loading,#tdf_discount_box.tdf_container .tdf_btn_loading{height:42px}}.product-single__meta.scroll-to-fixed-fixed{position:static !important;top:auto !important}#sellify-ucd-cart-drawer,div.hs-popup-cart-sp-load{z-index:999999988 !important}.hs-bg-slide-cart{z-index:999999987 !important}.tdf_container div:empty{display:block}#tdf_loading.animated{animation-duration:5s;-webkit-animation-duration:5s;-moz-animation-duration:5s;-ms-animation-duration:5s;animation-fill-mode:both;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;-ms-animation-fill-mode:both;user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none}#tdf_loading.progress_loader{background:#4267b3;height:3px;left:0;position:fixed;top:0;z-index:2147483647}#tdf_loading.yt_loader{animation-name:horizontalProgressBar;-webkit-animation-name:horizontalProgressBar;-moz-animation-name:horizontalProgressBar;-ms-animation-name:horizontalProgressBar;-ms-animation-timing-function:ease;-moz-animation-timing-function:ease;-webkit-animation-timing-function:ease;animation-timing-function:ease;width:0%}@-webkit-keyframes horizontalProgressBar{0%{width:0%}25%{width:22%}50%{width:55%}75%{width:83%}100%{width:90%}}@-moz-keyframes horizontalProgressBar{0%{width:0%}25%{width:22%}50%{width:55%}75%{width:83%}100%{width:90%}}@-ms-keyframes horizontalProgressBar{#tdf_loading 0%{width:0%}#tdf_loading 25%{width:22%}#tdf_loading 50%{width:55%}#tdf_loading 75%{width:83%}#tdf_loading 100%{width:90%}}@keyframes horizontalProgressBar{0%{width:0%}25%{width:22%}50%{width:55%}75%{width:83%}100%{width:90%}}#tdf_notifies.tdf_container{position:fixed;top:10px;width:100%;z-index:2147483647}#tdf_notifies.tdf_container div.tdf_notify{-webkit-box-shadow:0 2px 12px #637381;-moz-box-shadow:0 2px 12px #637381;box-shadow:0 2px 12px #637381;background-color:#fffefe;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;border-radius:4px;animation-name:slideIn;-webkit-animation-name:slideIn;-moz-animation-name:slideIn;-ms-animation-name:slideIn;animation-duration:.4s;-webkit-animation-duration:.4s;-moz-animation-duration:.4s;-ms-animation-duration:.4s}#tdf_notifies.tdf_container div.tdf_notify .tdf_notify_content{padding:20px;padding-right:50px}#tdf_notifies.tdf_container div.tdf_notify .tdf_notify_close{display:block;width:50px;float:right;height:100%;text-align:center;color:#637381;font-size:20px;font-weight:bold;text-decoration:none}#tdf_notifies.tdf_container div.tdf_notify .tdf_notify_close:hover{color:#212B36}@media screen and (min-width: 768px) and (min-height: 500px){#tdf_notifies.tdf_container{right:10px;width:360px}}#tdf_modal{display:none;position:fixed;width:100%;height:100%;top:0;left:0;z-index:2147483647;overflow-y:scroll;text-align:center;animation-name:fadeIn;-webkit-animation-name:fadeIn;-moz-animation-name:fadeIn;-ms-animation-name:fadeIn;animation-duration:.4s;-webkit-animation-duration:.4s;-moz-animation-duration:.4s;-ms-animation-duration:.4s}#tdf_modal .tdf_modal_content{position:relative;animation-name:slideIn;-webkit-animation-name:slideIn;-moz-animation-name:slideIn;-ms-animation-name:slideIn;animation-duration:.4s;-webkit-animation-duration:.4s;-moz-animation-duration:.4s;-ms-animation-duration:.4s;text-align:center;background-color:#fffefe;width:100%;max-width:480px;margin:40px auto;padding:20px;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;border-radius:4px}#tdf_modal .tdf_modal_close{color:#c4c6d5;float:right;font-size:28px;font-weight:bold;width:40px;height:40px;text-align:center;line-height:40px;margin-top:-20px;margin-right:-20px;text-decoration:none}#tdf_modal .tdf_modal_close:hover,#tdf_modal .tdf_modal_close:focus{color:#000002;text-decoration:none;cursor:pointer}#tdf_modal .tdf_modal_body{position:relative;text-align:center}'),nfec.main&&nfec.main.Start&&nfec.main.Start()},!0),tdfEventHub.TriggerEventOnce("jsloaded_nfec",function(){return nfec})}();